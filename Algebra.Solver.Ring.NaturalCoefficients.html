<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Keyword">open</a> <a id="273" class="Keyword">import</a> <a id="280" href="Algebra.html" class="Module">Algebra</a>
<a id="288" class="Keyword">import</a> <a id="295" href="Algebra.Operations.Semiring.html" class="Module">Algebra.Operations.Semiring</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">SemiringOps</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="366" class="Keyword">using</a> <a id="372" class="Symbol">(</a><a id="373" href="Data.Maybe.Base.html#674" class="Datatype">Maybe</a><a id="378" class="Symbol">;</a> <a id="380" href="Data.Maybe.Base.html#712" class="InductiveConstructor">just</a><a id="384" class="Symbol">;</a> <a id="386" href="Data.Maybe.Base.html#742" class="InductiveConstructor">nothing</a><a id="393" class="Symbol">;</a> <a id="395" href="Data.Maybe.Base.html#2103" class="Function">map</a><a id="398" class="Symbol">)</a>

<a id="401" class="Keyword">module</a> <a id="408" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
         <a id="457" class="Symbol">{</a><a id="458" href="Algebra.Solver.Ring.NaturalCoefficients.html#458" class="Bound">r₁</a> <a id="461" href="Algebra.Solver.Ring.NaturalCoefficients.html#461" class="Bound">r₂</a><a id="463" class="Symbol">}</a>
         <a id="474" class="Symbol">(</a><a id="475" href="Algebra.Solver.Ring.NaturalCoefficients.html#475" class="Bound">R</a> <a id="477" class="Symbol">:</a> <a id="479" href="Algebra.html#10836" class="Record">CommutativeSemiring</a> <a id="499" href="Algebra.Solver.Ring.NaturalCoefficients.html#458" class="Bound">r₁</a> <a id="502" href="Algebra.Solver.Ring.NaturalCoefficients.html#461" class="Bound">r₂</a><a id="504" class="Symbol">)</a>
         <a id="515" class="Symbol">(</a><a id="516" href="Algebra.Solver.Ring.NaturalCoefficients.html#516" class="Bound">dec</a> <a id="520" class="Symbol">:</a> <a id="522" class="Keyword">let</a> <a id="526" class="Keyword">open</a> <a id="531" href="Algebra.html#10836" class="Module">CommutativeSemiring</a> <a id="551" href="Algebra.Solver.Ring.NaturalCoefficients.html#475" class="Bound">R</a>
                    <a id="573" class="Keyword">open</a> <a id="578" href="Algebra.Operations.Semiring.html" class="Module">SemiringOps</a> <a id="590" href="Algebra.html#11297" class="Function">semiring</a> <a id="599" class="Keyword">in</a>
                <a id="618" class="Symbol">∀</a> <a id="620" href="Algebra.Solver.Ring.NaturalCoefficients.html#620" class="Bound">m</a> <a id="622" href="Algebra.Solver.Ring.NaturalCoefficients.html#622" class="Bound">n</a> <a id="624" class="Symbol">→</a> <a id="626" href="Data.Maybe.Base.html#674" class="Datatype">Maybe</a> <a id="632" class="Symbol">(</a><a id="633" href="Algebra.Solver.Ring.NaturalCoefficients.html#620" class="Bound">m</a> <a id="635" href="Algebra.Operations.CommutativeMonoid.html#1200" class="Function Operator">×</a> <a id="637" href="Algebra.html#11135" class="Field">1#</a> <a id="640" href="Algebra.html#10977" class="Field Operator">≈</a> <a id="642" href="Algebra.Solver.Ring.NaturalCoefficients.html#622" class="Bound">n</a> <a id="644" href="Algebra.Operations.CommutativeMonoid.html#1200" class="Function Operator">×</a> <a id="646" href="Algebra.html#11135" class="Field">1#</a><a id="648" class="Symbol">))</a> <a id="651" class="Keyword">where</a>

<a id="658" class="Keyword">import</a> <a id="665" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a>
<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="739" class="Keyword">open</a> <a id="744" class="Keyword">import</a> <a id="751" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="765" class="Symbol">as</a> <a id="768" class="Module">ℕ</a>
<a id="770" class="Keyword">open</a> <a id="775" class="Keyword">import</a> <a id="782" href="Data.Product.html" class="Module">Data.Product</a> <a id="795" class="Keyword">using</a> <a id="801" class="Symbol">(</a><a id="802" class="Keyword">module</a> <a id="809" href="Data.Product.html#565" class="Module">Σ</a><a id="810" class="Symbol">)</a>
<a id="812" class="Keyword">open</a> <a id="817" class="Keyword">import</a> <a id="824" href="Function.html" class="Module">Function</a>
<a id="833" class="Keyword">import</a> <a id="840" href="Relation.Binary.EqReasoning.html" class="Module">Relation.Binary.EqReasoning</a>

<a id="869" class="Keyword">open</a> <a id="874" href="Algebra.html#10836" class="Module">CommutativeSemiring</a> <a id="894" href="Algebra.Solver.Ring.NaturalCoefficients.html#475" class="Bound">R</a>
<a id="896" class="Keyword">open</a> <a id="901" href="Algebra.Operations.Semiring.html" class="Module">SemiringOps</a> <a id="913" href="Algebra.html#11297" class="Function">semiring</a>
<a id="922" class="Keyword">open</a> <a id="927" href="Relation.Binary.EqReasoning.html" class="Module">Relation.Binary.EqReasoning</a> <a id="955" href="Algebra.Structures.html#899" class="Function">setoid</a>

<a id="963" class="Keyword">private</a>

  <a id="974" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1004" href="Algebra.Solver.Ring.NaturalCoefficients.html#1004" class="Function">ℕ-ring</a> <a id="1011" class="Symbol">:</a> <a id="1013" href="Algebra.html#12134" class="Record">RawRing</a> <a id="1021" class="Symbol">_</a>
  <a id="1025" href="Algebra.Solver.Ring.NaturalCoefficients.html#1004" class="Function">ℕ-ring</a> <a id="1032" class="Symbol">=</a> <a id="1034" class="Keyword">record</a>
    <a id="1045" class="Symbol">{</a> <a id="1047" class="Field">Carrier</a> <a id="1055" class="Symbol">=</a> <a id="1057" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
    <a id="1063" class="Symbol">;</a> <a id="1065" class="Field Operator">_+_</a>     <a id="1073" class="Symbol">=</a> <a id="1075" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">ℕ._+_</a>
    <a id="1085" class="Symbol">;</a> <a id="1087" class="Field Operator">_*_</a>     <a id="1095" class="Symbol">=</a> <a id="1097" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ._*_</a>
    <a id="1107" class="Symbol">;</a> <a id="1109" class="Field Operator">-_</a>      <a id="1117" class="Symbol">=</a> <a id="1119" href="Function.html#1068" class="Function">id</a>
    <a id="1126" class="Symbol">;</a> <a id="1128" class="Field">0#</a>      <a id="1136" class="Symbol">=</a> <a id="1138" class="Number">0</a>
    <a id="1144" class="Symbol">;</a> <a id="1146" class="Field">1#</a>      <a id="1154" class="Symbol">=</a> <a id="1156" class="Number">1</a>
    <a id="1162" class="Symbol">}</a>

  <a id="1167" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1209" class="Comment">--</a>
  <a id="1214" class="Comment">-- Note that _×′_ is used rather than _×_. If _×_ were used, then</a>
  <a id="1282" class="Comment">-- Function.Related.TypeIsomorphisms.test would fail to type-check.</a>

  <a id="homomorphism"></a><a id="1353" href="Algebra.Solver.Ring.NaturalCoefficients.html#1353" class="Function">homomorphism</a> <a id="1366" class="Symbol">:</a>
    <a id="1372" href="Algebra.Solver.Ring.NaturalCoefficients.html#1004" class="Function">ℕ-ring</a> <a id="1379" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2225" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1403" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4207" class="Function">fromCommutativeSemiring</a> <a id="1427" href="Algebra.Solver.Ring.NaturalCoefficients.html#475" class="Bound">R</a>
  <a id="1431" href="Algebra.Solver.Ring.NaturalCoefficients.html#1353" class="Function">homomorphism</a> <a id="1444" class="Symbol">=</a> <a id="1446" class="Keyword">record</a>
    <a id="1457" class="Symbol">{</a> <a id="1459" class="Field Operator">⟦_⟧</a>    <a id="1466" class="Symbol">=</a> <a id="1468" class="Symbol">λ</a> <a id="1470" href="Algebra.Solver.Ring.NaturalCoefficients.html#1470" class="Bound">n</a> <a id="1472" class="Symbol">→</a> <a id="1474" href="Algebra.Solver.Ring.NaturalCoefficients.html#1470" class="Bound">n</a> <a id="1476" href="Algebra.Operations.CommutativeMonoid.html#1375" class="Function Operator">×′</a> <a id="1479" href="Algebra.html#11135" class="Function">1#</a>
    <a id="1486" class="Symbol">;</a> <a id="1488" class="Field">+-homo</a> <a id="1495" class="Symbol">=</a> <a id="1497" href="Algebra.Operations.CommutativeMonoid.html#2944" class="Function">×′-homo-+</a> <a id="1507" href="Algebra.html#11135" class="Function">1#</a>
    <a id="1514" class="Symbol">;</a> <a id="1516" class="Field">*-homo</a> <a id="1523" class="Symbol">=</a> <a id="1525" href="Algebra.Operations.Semiring.html#1856" class="Function">×′1-homo-*</a>
    <a id="1540" class="Symbol">;</a> <a id="1542" class="Field">-‿homo</a> <a id="1549" class="Symbol">=</a> <a id="1551" class="Symbol">λ</a> <a id="1553" href="Algebra.Solver.Ring.NaturalCoefficients.html#1553" class="Bound">_</a> <a id="1555" class="Symbol">→</a> <a id="1557" href="Relation.Binary.Core.html#5591" class="Function">refl</a>
    <a id="1566" class="Symbol">;</a> <a id="1568" class="Field">0-homo</a> <a id="1575" class="Symbol">=</a> <a id="1577" href="Relation.Binary.Core.html#5591" class="Function">refl</a>
    <a id="1586" class="Symbol">;</a> <a id="1588" class="Field">1-homo</a> <a id="1595" class="Symbol">=</a> <a id="1597" href="Relation.Binary.Core.html#5591" class="Function">refl</a>
    <a id="1606" class="Symbol">}</a>

  <a id="1611" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1665" href="Algebra.Solver.Ring.NaturalCoefficients.html#1665" class="Function">dec′</a> <a id="1670" class="Symbol">:</a> <a id="1672" class="Symbol">∀</a> <a id="1674" href="Algebra.Solver.Ring.NaturalCoefficients.html#1674" class="Bound">m</a> <a id="1676" href="Algebra.Solver.Ring.NaturalCoefficients.html#1676" class="Bound">n</a> <a id="1678" class="Symbol">→</a> <a id="1680" href="Data.Maybe.Base.html#674" class="Datatype">Maybe</a> <a id="1686" class="Symbol">(</a><a id="1687" href="Algebra.Solver.Ring.NaturalCoefficients.html#1674" class="Bound">m</a> <a id="1689" href="Algebra.Operations.CommutativeMonoid.html#1375" class="Function Operator">×′</a> <a id="1692" href="Algebra.html#11135" class="Function">1#</a> <a id="1695" href="Algebra.html#10977" class="Function Operator">≈</a> <a id="1697" href="Algebra.Solver.Ring.NaturalCoefficients.html#1676" class="Bound">n</a> <a id="1699" href="Algebra.Operations.CommutativeMonoid.html#1375" class="Function Operator">×′</a> <a id="1702" href="Algebra.html#11135" class="Function">1#</a><a id="1704" class="Symbol">)</a>
  <a id="1708" href="Algebra.Solver.Ring.NaturalCoefficients.html#1665" class="Function">dec′</a> <a id="1713" href="Algebra.Solver.Ring.NaturalCoefficients.html#1713" class="Bound">m</a> <a id="1715" href="Algebra.Solver.Ring.NaturalCoefficients.html#1715" class="Bound">n</a> <a id="1717" class="Symbol">=</a> <a id="1719" href="Data.Maybe.Base.html#2103" class="Function">map</a> <a id="1723" href="Algebra.Solver.Ring.NaturalCoefficients.html#1750" class="Function">to</a> <a id="1726" class="Symbol">(</a><a id="1727" href="Algebra.Solver.Ring.NaturalCoefficients.html#516" class="Bound">dec</a> <a id="1731" href="Algebra.Solver.Ring.NaturalCoefficients.html#1713" class="Bound">m</a> <a id="1733" href="Algebra.Solver.Ring.NaturalCoefficients.html#1715" class="Bound">n</a><a id="1734" class="Symbol">)</a>
    <a id="1740" class="Keyword">where</a>
    <a id="1750" href="Algebra.Solver.Ring.NaturalCoefficients.html#1750" class="Function">to</a> <a id="1753" class="Symbol">:</a> <a id="1755" href="Algebra.Solver.Ring.NaturalCoefficients.html#1713" class="Bound">m</a> <a id="1757" href="Algebra.Operations.CommutativeMonoid.html#1200" class="Function Operator">×</a> <a id="1759" href="Algebra.html#11135" class="Function">1#</a> <a id="1762" href="Algebra.html#10977" class="Function Operator">≈</a> <a id="1764" href="Algebra.Solver.Ring.NaturalCoefficients.html#1715" class="Bound">n</a> <a id="1766" href="Algebra.Operations.CommutativeMonoid.html#1200" class="Function Operator">×</a> <a id="1768" href="Algebra.html#11135" class="Function">1#</a> <a id="1771" class="Symbol">→</a> <a id="1773" href="Algebra.Solver.Ring.NaturalCoefficients.html#1713" class="Bound">m</a> <a id="1775" href="Algebra.Operations.CommutativeMonoid.html#1375" class="Function Operator">×′</a> <a id="1778" href="Algebra.html#11135" class="Function">1#</a> <a id="1781" href="Algebra.html#10977" class="Function Operator">≈</a> <a id="1783" href="Algebra.Solver.Ring.NaturalCoefficients.html#1715" class="Bound">n</a> <a id="1785" href="Algebra.Operations.CommutativeMonoid.html#1375" class="Function Operator">×′</a> <a id="1788" href="Algebra.html#11135" class="Function">1#</a>
    <a id="1795" href="Algebra.Solver.Ring.NaturalCoefficients.html#1750" class="Function">to</a> <a id="1798" href="Algebra.Solver.Ring.NaturalCoefficients.html#1798" class="Bound">m≈n</a> <a id="1802" class="Symbol">=</a> <a id="1804" href="Relation.Binary.PreorderReasoning.html#1228" class="Function Operator">begin</a>
      <a id="1816" href="Algebra.Solver.Ring.NaturalCoefficients.html#1713" class="Bound">m</a> <a id="1818" href="Algebra.Operations.CommutativeMonoid.html#1375" class="Function Operator">×′</a> <a id="1821" href="Algebra.html#11135" class="Function">1#</a>  <a id="1825" href="Relation.Binary.PreorderReasoning.html#1294" class="Function Operator">≈⟨</a> <a id="1828" href="Relation.Binary.Core.html#5617" class="Function">sym</a> <a id="1832" href="Function.html#1891" class="Function Operator">$</a> <a id="1834" href="Algebra.Operations.CommutativeMonoid.html#2720" class="Function">×≈×′</a> <a id="1839" href="Algebra.Solver.Ring.NaturalCoefficients.html#1713" class="Bound">m</a> <a id="1841" href="Algebra.html#11135" class="Function">1#</a> <a id="1844" href="Relation.Binary.PreorderReasoning.html#1294" class="Function Operator">⟩</a>
      <a id="1852" href="Algebra.Solver.Ring.NaturalCoefficients.html#1713" class="Bound">m</a> <a id="1854" href="Algebra.Operations.CommutativeMonoid.html#1200" class="Function Operator">×</a>  <a id="1857" href="Algebra.html#11135" class="Function">1#</a>  <a id="1861" href="Relation.Binary.PreorderReasoning.html#1294" class="Function Operator">≈⟨</a> <a id="1864" href="Algebra.Solver.Ring.NaturalCoefficients.html#1798" class="Bound">m≈n</a> <a id="1868" href="Relation.Binary.PreorderReasoning.html#1294" class="Function Operator">⟩</a>
      <a id="1876" href="Algebra.Solver.Ring.NaturalCoefficients.html#1715" class="Bound">n</a> <a id="1878" href="Algebra.Operations.CommutativeMonoid.html#1200" class="Function Operator">×</a>  <a id="1881" href="Algebra.html#11135" class="Function">1#</a>  <a id="1885" href="Relation.Binary.PreorderReasoning.html#1294" class="Function Operator">≈⟨</a> <a id="1888" href="Algebra.Operations.CommutativeMonoid.html#2720" class="Function">×≈×′</a> <a id="1893" href="Algebra.Solver.Ring.NaturalCoefficients.html#1715" class="Bound">n</a> <a id="1895" href="Algebra.html#11135" class="Function">1#</a> <a id="1898" href="Relation.Binary.PreorderReasoning.html#1294" class="Function Operator">⟩</a>
      <a id="1906" href="Algebra.Solver.Ring.NaturalCoefficients.html#1715" class="Bound">n</a> <a id="1908" href="Algebra.Operations.CommutativeMonoid.html#1375" class="Function Operator">×′</a> <a id="1911" href="Algebra.html#11135" class="Function">1#</a>  <a id="1915" href="Relation.Binary.PreorderReasoning.html#1681" class="Function Operator">∎</a>

<a id="1918" class="Comment">-- The instantiation.</a>

<a id="1941" class="Keyword">open</a> <a id="1946" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="1966" class="Symbol">_</a> <a id="1968" class="Symbol">_</a> <a id="1970" href="Algebra.Solver.Ring.NaturalCoefficients.html#1353" class="Function">homomorphism</a> <a id="1983" href="Algebra.Solver.Ring.NaturalCoefficients.html#1665" class="Function">dec′</a> <a id="1988" class="Keyword">public</a>
</pre></body></html>