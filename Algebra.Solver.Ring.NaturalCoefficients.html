<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Option">--without-K</a> <a id="292" class="Option">--safe</a> <a id="299" class="Symbol">#-}</a>

<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Algebra.html" class="Module">Algebra</a>
<a id="324" class="Keyword">import</a> <a id="331" href="Algebra.Operations.Semiring.html" class="Module">Algebra.Operations.Semiring</a> <a id="359" class="Symbol">as</a> <a id="362" class="Module">SemiringOps</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="402" class="Keyword">using</a> <a id="408" class="Symbol">(</a><a id="409" href="Data.Maybe.Base.html#710" class="Datatype">Maybe</a><a id="414" class="Symbol">;</a> <a id="416" href="Data.Maybe.Base.html#748" class="InductiveConstructor">just</a><a id="420" class="Symbol">;</a> <a id="422" href="Data.Maybe.Base.html#778" class="InductiveConstructor">nothing</a><a id="429" class="Symbol">;</a> <a id="431" href="Data.Maybe.Base.html#2139" class="Function">map</a><a id="434" class="Symbol">)</a>

<a id="437" class="Keyword">module</a> <a id="444" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
         <a id="493" class="Symbol">{</a><a id="494" href="Algebra.Solver.Ring.NaturalCoefficients.html#494" class="Bound">r₁</a> <a id="497" href="Algebra.Solver.Ring.NaturalCoefficients.html#497" class="Bound">r₂</a><a id="499" class="Symbol">}</a>
         <a id="510" class="Symbol">(</a><a id="511" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a> <a id="513" class="Symbol">:</a> <a id="515" href="Algebra.html#10871" class="Record">CommutativeSemiring</a> <a id="535" href="Algebra.Solver.Ring.NaturalCoefficients.html#494" class="Bound">r₁</a> <a id="538" href="Algebra.Solver.Ring.NaturalCoefficients.html#497" class="Bound">r₂</a><a id="540" class="Symbol">)</a>
         <a id="551" class="Symbol">(</a><a id="552" href="Algebra.Solver.Ring.NaturalCoefficients.html#552" class="Bound">dec</a> <a id="556" class="Symbol">:</a> <a id="558" class="Keyword">let</a> <a id="562" class="Keyword">open</a> <a id="567" href="Algebra.html#10871" class="Module">CommutativeSemiring</a> <a id="587" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a>
                    <a id="609" class="Keyword">open</a> <a id="614" href="Algebra.Operations.Semiring.html" class="Module">SemiringOps</a> <a id="626" href="Algebra.html#11332" class="Function">semiring</a> <a id="635" class="Keyword">in</a>
                <a id="654" class="Symbol">∀</a> <a id="656" href="Algebra.Solver.Ring.NaturalCoefficients.html#656" class="Bound">m</a> <a id="658" href="Algebra.Solver.Ring.NaturalCoefficients.html#658" class="Bound">n</a> <a id="660" class="Symbol">→</a> <a id="662" href="Data.Maybe.Base.html#710" class="Datatype">Maybe</a> <a id="668" class="Symbol">(</a><a id="669" href="Algebra.Solver.Ring.NaturalCoefficients.html#656" class="Bound">m</a> <a id="671" href="Algebra.Operations.CommutativeMonoid.html#1236" class="Function Operator">×</a> <a id="673" href="Algebra.html#11170" class="Field">1#</a> <a id="676" href="Algebra.html#11012" class="Field Operator">≈</a> <a id="678" href="Algebra.Solver.Ring.NaturalCoefficients.html#658" class="Bound">n</a> <a id="680" href="Algebra.Operations.CommutativeMonoid.html#1236" class="Function Operator">×</a> <a id="682" href="Algebra.html#11170" class="Field">1#</a><a id="684" class="Symbol">))</a> <a id="687" class="Keyword">where</a>

<a id="694" class="Keyword">import</a> <a id="701" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a>
<a id="721" class="Keyword">open</a> <a id="726" class="Keyword">import</a> <a id="733" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="775" class="Keyword">open</a> <a id="780" class="Keyword">import</a> <a id="787" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="801" class="Symbol">as</a> <a id="804" class="Module">ℕ</a>
<a id="806" class="Keyword">open</a> <a id="811" class="Keyword">import</a> <a id="818" href="Data.Product.html" class="Module">Data.Product</a> <a id="831" class="Keyword">using</a> <a id="837" class="Symbol">(</a><a id="838" class="Keyword">module</a> <a id="845" href="Data.Product.html#601" class="Module">Σ</a><a id="846" class="Symbol">)</a>
<a id="848" class="Keyword">open</a> <a id="853" class="Keyword">import</a> <a id="860" href="Function.html" class="Module">Function</a>
<a id="869" class="Keyword">import</a> <a id="876" href="Relation.Binary.EqReasoning.html" class="Module">Relation.Binary.EqReasoning</a>

<a id="905" class="Keyword">open</a> <a id="910" href="Algebra.html#10871" class="Module">CommutativeSemiring</a> <a id="930" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a>
<a id="932" class="Keyword">open</a> <a id="937" href="Algebra.Operations.Semiring.html" class="Module">SemiringOps</a> <a id="949" href="Algebra.html#11332" class="Function">semiring</a>
<a id="958" class="Keyword">open</a> <a id="963" href="Relation.Binary.EqReasoning.html" class="Module">Relation.Binary.EqReasoning</a> <a id="991" href="Algebra.Structures.html#935" class="Function">setoid</a>

<a id="999" class="Keyword">private</a>

  <a id="1010" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1040" href="Algebra.Solver.Ring.NaturalCoefficients.html#1040" class="Function">ℕ-ring</a> <a id="1047" class="Symbol">:</a> <a id="1049" href="Algebra.html#12169" class="Record">RawRing</a> <a id="1057" class="Symbol">_</a>
  <a id="1061" href="Algebra.Solver.Ring.NaturalCoefficients.html#1040" class="Function">ℕ-ring</a> <a id="1068" class="Symbol">=</a> <a id="1070" class="Keyword">record</a>
    <a id="1081" class="Symbol">{</a> <a id="1083" class="Field">Carrier</a> <a id="1091" class="Symbol">=</a> <a id="1093" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
    <a id="1099" class="Symbol">;</a> <a id="1101" class="Field Operator">_+_</a>     <a id="1109" class="Symbol">=</a> <a id="1111" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">ℕ._+_</a>
    <a id="1121" class="Symbol">;</a> <a id="1123" class="Field Operator">_*_</a>     <a id="1131" class="Symbol">=</a> <a id="1133" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ._*_</a>
    <a id="1143" class="Symbol">;</a> <a id="1145" class="Field Operator">-_</a>      <a id="1153" class="Symbol">=</a> <a id="1155" href="Function.html#1104" class="Function">id</a>
    <a id="1162" class="Symbol">;</a> <a id="1164" class="Field">0#</a>      <a id="1172" class="Symbol">=</a> <a id="1174" class="Number">0</a>
    <a id="1180" class="Symbol">;</a> <a id="1182" class="Field">1#</a>      <a id="1190" class="Symbol">=</a> <a id="1192" class="Number">1</a>
    <a id="1198" class="Symbol">}</a>

  <a id="1203" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1245" class="Comment">--</a>
  <a id="1250" class="Comment">-- Note that _×′_ is used rather than _×_. If _×_ were used, then</a>
  <a id="1318" class="Comment">-- Function.Related.TypeIsomorphisms.test would fail to type-check.</a>

  <a id="homomorphism"></a><a id="1389" href="Algebra.Solver.Ring.NaturalCoefficients.html#1389" class="Function">homomorphism</a> <a id="1402" class="Symbol">:</a>
    <a id="1408" href="Algebra.Solver.Ring.NaturalCoefficients.html#1040" class="Function">ℕ-ring</a> <a id="1415" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2261" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1439" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4243" class="Function">fromCommutativeSemiring</a> <a id="1463" href="Algebra.Solver.Ring.NaturalCoefficients.html#511" class="Bound">R</a>
  <a id="1467" href="Algebra.Solver.Ring.NaturalCoefficients.html#1389" class="Function">homomorphism</a> <a id="1480" class="Symbol">=</a> <a id="1482" class="Keyword">record</a>
    <a id="1493" class="Symbol">{</a> <a id="1495" class="Field Operator">⟦_⟧</a>    <a id="1502" class="Symbol">=</a> <a id="1504" class="Symbol">λ</a> <a id="1506" href="Algebra.Solver.Ring.NaturalCoefficients.html#1506" class="Bound">n</a> <a id="1508" class="Symbol">→</a> <a id="1510" href="Algebra.Solver.Ring.NaturalCoefficients.html#1506" class="Bound">n</a> <a id="1512" href="Algebra.Operations.CommutativeMonoid.html#1411" class="Function Operator">×′</a> <a id="1515" href="Algebra.html#11170" class="Function">1#</a>
    <a id="1522" class="Symbol">;</a> <a id="1524" class="Field">+-homo</a> <a id="1531" class="Symbol">=</a> <a id="1533" href="Algebra.Operations.CommutativeMonoid.html#2980" class="Function">×′-homo-+</a> <a id="1543" href="Algebra.html#11170" class="Function">1#</a>
    <a id="1550" class="Symbol">;</a> <a id="1552" class="Field">*-homo</a> <a id="1559" class="Symbol">=</a> <a id="1561" href="Algebra.Operations.Semiring.html#1892" class="Function">×′1-homo-*</a>
    <a id="1576" class="Symbol">;</a> <a id="1578" class="Field">-‿homo</a> <a id="1585" class="Symbol">=</a> <a id="1587" class="Symbol">λ</a> <a id="1589" href="Algebra.Solver.Ring.NaturalCoefficients.html#1589" class="Bound">_</a> <a id="1591" class="Symbol">→</a> <a id="1593" href="Relation.Binary.Core.html#5627" class="Function">refl</a>
    <a id="1602" class="Symbol">;</a> <a id="1604" class="Field">0-homo</a> <a id="1611" class="Symbol">=</a> <a id="1613" href="Relation.Binary.Core.html#5627" class="Function">refl</a>
    <a id="1622" class="Symbol">;</a> <a id="1624" class="Field">1-homo</a> <a id="1631" class="Symbol">=</a> <a id="1633" href="Relation.Binary.Core.html#5627" class="Function">refl</a>
    <a id="1642" class="Symbol">}</a>

  <a id="1647" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1701" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Function">dec′</a> <a id="1706" class="Symbol">:</a> <a id="1708" class="Symbol">∀</a> <a id="1710" href="Algebra.Solver.Ring.NaturalCoefficients.html#1710" class="Bound">m</a> <a id="1712" href="Algebra.Solver.Ring.NaturalCoefficients.html#1712" class="Bound">n</a> <a id="1714" class="Symbol">→</a> <a id="1716" href="Data.Maybe.Base.html#710" class="Datatype">Maybe</a> <a id="1722" class="Symbol">(</a><a id="1723" href="Algebra.Solver.Ring.NaturalCoefficients.html#1710" class="Bound">m</a> <a id="1725" href="Algebra.Operations.CommutativeMonoid.html#1411" class="Function Operator">×′</a> <a id="1728" href="Algebra.html#11170" class="Function">1#</a> <a id="1731" href="Algebra.html#11012" class="Function Operator">≈</a> <a id="1733" href="Algebra.Solver.Ring.NaturalCoefficients.html#1712" class="Bound">n</a> <a id="1735" href="Algebra.Operations.CommutativeMonoid.html#1411" class="Function Operator">×′</a> <a id="1738" href="Algebra.html#11170" class="Function">1#</a><a id="1740" class="Symbol">)</a>
  <a id="1744" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Function">dec′</a> <a id="1749" href="Algebra.Solver.Ring.NaturalCoefficients.html#1749" class="Bound">m</a> <a id="1751" href="Algebra.Solver.Ring.NaturalCoefficients.html#1751" class="Bound">n</a> <a id="1753" class="Symbol">=</a> <a id="1755" href="Data.Maybe.Base.html#2139" class="Function">map</a> <a id="1759" href="Algebra.Solver.Ring.NaturalCoefficients.html#1786" class="Function">to</a> <a id="1762" class="Symbol">(</a><a id="1763" href="Algebra.Solver.Ring.NaturalCoefficients.html#552" class="Bound">dec</a> <a id="1767" href="Algebra.Solver.Ring.NaturalCoefficients.html#1749" class="Bound">m</a> <a id="1769" href="Algebra.Solver.Ring.NaturalCoefficients.html#1751" class="Bound">n</a><a id="1770" class="Symbol">)</a>
    <a id="1776" class="Keyword">where</a>
    <a id="1786" href="Algebra.Solver.Ring.NaturalCoefficients.html#1786" class="Function">to</a> <a id="1789" class="Symbol">:</a> <a id="1791" href="Algebra.Solver.Ring.NaturalCoefficients.html#1749" class="Bound">m</a> <a id="1793" href="Algebra.Operations.CommutativeMonoid.html#1236" class="Function Operator">×</a> <a id="1795" href="Algebra.html#11170" class="Function">1#</a> <a id="1798" href="Algebra.html#11012" class="Function Operator">≈</a> <a id="1800" href="Algebra.Solver.Ring.NaturalCoefficients.html#1751" class="Bound">n</a> <a id="1802" href="Algebra.Operations.CommutativeMonoid.html#1236" class="Function Operator">×</a> <a id="1804" href="Algebra.html#11170" class="Function">1#</a> <a id="1807" class="Symbol">→</a> <a id="1809" href="Algebra.Solver.Ring.NaturalCoefficients.html#1749" class="Bound">m</a> <a id="1811" href="Algebra.Operations.CommutativeMonoid.html#1411" class="Function Operator">×′</a> <a id="1814" href="Algebra.html#11170" class="Function">1#</a> <a id="1817" href="Algebra.html#11012" class="Function Operator">≈</a> <a id="1819" href="Algebra.Solver.Ring.NaturalCoefficients.html#1751" class="Bound">n</a> <a id="1821" href="Algebra.Operations.CommutativeMonoid.html#1411" class="Function Operator">×′</a> <a id="1824" href="Algebra.html#11170" class="Function">1#</a>
    <a id="1831" href="Algebra.Solver.Ring.NaturalCoefficients.html#1786" class="Function">to</a> <a id="1834" href="Algebra.Solver.Ring.NaturalCoefficients.html#1834" class="Bound">m≈n</a> <a id="1838" class="Symbol">=</a> <a id="1840" href="Relation.Binary.PreorderReasoning.html#1264" class="Function Operator">begin</a>
      <a id="1852" href="Algebra.Solver.Ring.NaturalCoefficients.html#1749" class="Bound">m</a> <a id="1854" href="Algebra.Operations.CommutativeMonoid.html#1411" class="Function Operator">×′</a> <a id="1857" href="Algebra.html#11170" class="Function">1#</a>  <a id="1861" href="Relation.Binary.PreorderReasoning.html#1330" class="Function Operator">≈⟨</a> <a id="1864" href="Relation.Binary.Core.html#5653" class="Function">sym</a> <a id="1868" href="Function.html#1927" class="Function Operator">$</a> <a id="1870" href="Algebra.Operations.CommutativeMonoid.html#2756" class="Function">×≈×′</a> <a id="1875" href="Algebra.Solver.Ring.NaturalCoefficients.html#1749" class="Bound">m</a> <a id="1877" href="Algebra.html#11170" class="Function">1#</a> <a id="1880" href="Relation.Binary.PreorderReasoning.html#1330" class="Function Operator">⟩</a>
      <a id="1888" href="Algebra.Solver.Ring.NaturalCoefficients.html#1749" class="Bound">m</a> <a id="1890" href="Algebra.Operations.CommutativeMonoid.html#1236" class="Function Operator">×</a>  <a id="1893" href="Algebra.html#11170" class="Function">1#</a>  <a id="1897" href="Relation.Binary.PreorderReasoning.html#1330" class="Function Operator">≈⟨</a> <a id="1900" href="Algebra.Solver.Ring.NaturalCoefficients.html#1834" class="Bound">m≈n</a> <a id="1904" href="Relation.Binary.PreorderReasoning.html#1330" class="Function Operator">⟩</a>
      <a id="1912" href="Algebra.Solver.Ring.NaturalCoefficients.html#1751" class="Bound">n</a> <a id="1914" href="Algebra.Operations.CommutativeMonoid.html#1236" class="Function Operator">×</a>  <a id="1917" href="Algebra.html#11170" class="Function">1#</a>  <a id="1921" href="Relation.Binary.PreorderReasoning.html#1330" class="Function Operator">≈⟨</a> <a id="1924" href="Algebra.Operations.CommutativeMonoid.html#2756" class="Function">×≈×′</a> <a id="1929" href="Algebra.Solver.Ring.NaturalCoefficients.html#1751" class="Bound">n</a> <a id="1931" href="Algebra.html#11170" class="Function">1#</a> <a id="1934" href="Relation.Binary.PreorderReasoning.html#1330" class="Function Operator">⟩</a>
      <a id="1942" href="Algebra.Solver.Ring.NaturalCoefficients.html#1751" class="Bound">n</a> <a id="1944" href="Algebra.Operations.CommutativeMonoid.html#1411" class="Function Operator">×′</a> <a id="1947" href="Algebra.html#11170" class="Function">1#</a>  <a id="1951" href="Relation.Binary.PreorderReasoning.html#1717" class="Function Operator">∎</a>

<a id="1954" class="Comment">-- The instantiation.</a>

<a id="1977" class="Keyword">open</a> <a id="1982" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2002" class="Symbol">_</a> <a id="2004" class="Symbol">_</a> <a id="2006" href="Algebra.Solver.Ring.NaturalCoefficients.html#1389" class="Function">homomorphism</a> <a id="2019" href="Algebra.Solver.Ring.NaturalCoefficients.html#1701" class="Function">dec′</a> <a id="2024" class="Keyword">public</a>
</pre></body></html>