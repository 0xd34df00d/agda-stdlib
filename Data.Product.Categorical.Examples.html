<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Product.Categorical.Examples</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Universe-sensitive functor and monad instances for the Product type.</a>
<a id="178" class="Comment">------------------------------------------------------------------------</a>

<a id="252" class="Symbol">{-#</a> <a id="256" class="Keyword">OPTIONS</a> <a id="264" class="Option">--without-K</a> <a id="276" class="Symbol">#-}</a>

<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Algebra.html" class="Module">Algebra</a>

<a id="302" class="Keyword">module</a> <a id="309" href="Data.Product.Categorical.Examples.html" class="Module">Data.Product.Categorical.Examples</a>
  <a id="345" class="Symbol">{</a><a id="346" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="348" href="Data.Product.Categorical.Examples.html#348" class="Bound">e</a> <a id="350" href="Data.Product.Categorical.Examples.html#350" class="Bound">b</a><a id="351" class="Symbol">}</a> <a id="353" class="Symbol">{</a><a id="354" href="Data.Product.Categorical.Examples.html#354" class="Bound">A</a> <a id="356" class="Symbol">:</a> <a id="358" href="Algebra.html#2517" class="Record">Monoid</a> <a id="365" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="367" href="Data.Product.Categorical.Examples.html#348" class="Bound">e</a><a id="368" class="Symbol">}</a> <a id="370" class="Symbol">{</a><a id="371" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a> <a id="373" class="Symbol">:</a> <a id="375" class="PrimitiveType">Set</a> <a id="379" href="Data.Product.Categorical.Examples.html#350" class="Bound">b</a><a id="380" class="Symbol">}</a> <a id="382" class="Keyword">where</a>

<a id="389" class="Keyword">open</a> <a id="394" class="Keyword">import</a> <a id="401" href="Level.html" class="Module">Level</a> <a id="407" class="Keyword">using</a> <a id="413" class="Symbol">(</a><a id="414" href="Level.html#387" class="Record">Lift</a><a id="418" class="Symbol">;</a> <a id="420" href="Level.html#444" class="InductiveConstructor">lift</a><a id="424" class="Symbol">;</a> <a id="426" href="Agda.Primitive.html#657" class="Primitive Operator">_⊔_</a><a id="429" class="Symbol">)</a>
<a id="431" class="Keyword">open</a> <a id="436" class="Keyword">import</a> <a id="443" href="Category.Functor.html" class="Module">Category.Functor</a> <a id="460" class="Keyword">using</a> <a id="466" class="Symbol">(</a><a id="467" href="Category.Functor.html#414" class="Record">RawFunctor</a><a id="477" class="Symbol">)</a>
<a id="479" class="Keyword">open</a> <a id="484" class="Keyword">import</a> <a id="491" href="Category.Monad.html" class="Module">Category.Monad</a> <a id="506" class="Keyword">using</a> <a id="512" class="Symbol">(</a><a id="513" href="Category.Monad.html#389" class="Function">RawMonad</a><a id="521" class="Symbol">)</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Data.Product.html" class="Module">Data.Product</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Data.Product.Relation.Pointwise.NonDependent.html" class="Module">Data.Product.Relation.Pointwise.NonDependent</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Function.html" class="Module">Function</a>
<a id="626" class="Keyword">import</a> <a id="633" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="663" class="Symbol">as</a> <a id="666" class="Module">Id</a>
<a id="669" class="Keyword">open</a> <a id="674" class="Keyword">import</a> <a id="681" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="697" class="Keyword">using</a> <a id="703" class="Symbol">(</a><a id="704" href="Relation.Binary.Core.html#969" class="Function">Rel</a><a id="707" class="Symbol">)</a>
<a id="709" class="Keyword">open</a> <a id="714" class="Keyword">import</a> <a id="721" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="759" class="Keyword">using</a> <a id="765" class="Symbol">(</a><a id="766" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="769" class="Symbol">;</a> <a id="771" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="775" class="Symbol">)</a>

<a id="778" class="Comment">------------------------------------------------------------------------</a>
<a id="851" class="Comment">-- Examples</a>

<a id="864" class="Comment">-- Note that these examples are simple unit tests, because the type</a>
<a id="932" class="Comment">-- checker verifies them.</a>

<a id="959" class="Keyword">private</a>

  <a id="970" class="Keyword">module</a> <a id="A"></a><a id="977" href="Data.Product.Categorical.Examples.html#977" class="Module">A</a> <a id="979" class="Symbol">=</a> <a id="981" href="Algebra.html#2517" class="Module">Monoid</a> <a id="988" href="Data.Product.Categorical.Examples.html#354" class="Bound">A</a>

  <a id="993" class="Keyword">open</a> <a id="998" class="Keyword">import</a> <a id="1005" href="Data.Product.Categorical.Left.html" class="Module">Data.Product.Categorical.Left</a> <a id="1035" href="Algebra.html#2842" class="Function">A.rawMonoid</a> <a id="1047" href="Data.Product.Categorical.Examples.html#350" class="Bound">b</a>

  <a id="_≈_"></a><a id="1052" href="Data.Product.Categorical.Examples.html#1052" class="Function Operator">_≈_</a> <a id="1056" class="Symbol">:</a> <a id="1058" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="1062" class="Symbol">(</a><a id="1063" href="Algebra.html#2596" class="Function">A.Carrier</a> <a id="1073" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1075" href="Level.html#387" class="Record">Lift</a> <a id="1080" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1082" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a><a id="1083" class="Symbol">)</a> <a id="1085" class="Symbol">(</a><a id="1086" href="Data.Product.Categorical.Examples.html#348" class="Bound">e</a> <a id="1088" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1090" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1092" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1094" href="Data.Product.Categorical.Examples.html#350" class="Bound">b</a><a id="1095" class="Symbol">)</a>
  <a id="1099" href="Data.Product.Categorical.Examples.html#1052" class="Function Operator">_≈_</a> <a id="1103" class="Symbol">=</a> <a id="1105" href="Data.Product.Relation.Pointwise.NonDependent.html#1269" class="Function">Pointwise</a> <a id="1115" href="Algebra.html#2617" class="Function Operator">A._≈_</a> <a id="1121" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>

  <a id="1128" class="Keyword">open</a> <a id="1133" href="Category.Functor.html#414" class="Module">RawFunctor</a> <a id="1144" href="Data.Product.Categorical.Left.Base.html#949" class="Function">functor</a>

  <a id="1155" class="Comment">-- This type to the right of × needs to be a &quot;lifted&quot; version of (B : Set b)</a>
  <a id="1234" class="Comment">-- that lives in the universe (Set (a ⊔ b)).</a>
  <a id="fmapIdₗ"></a><a id="1281" href="Data.Product.Categorical.Examples.html#1281" class="Function">fmapIdₗ</a> <a id="1289" class="Symbol">:</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Data.Product.Categorical.Examples.html#1292" class="Bound">x</a> <a id="1294" class="Symbol">:</a> <a id="1296" href="Algebra.html#2596" class="Function">A.Carrier</a> <a id="1306" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1308" href="Level.html#387" class="Record">Lift</a> <a id="1313" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1315" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a><a id="1316" class="Symbol">)</a> <a id="1318" class="Symbol">→</a> <a id="1320" class="Symbol">(</a><a id="1321" href="Function.html#1097" class="Function">id</a> <a id="1324" href="Category.Functor.html#521" class="Function Operator">&lt;$&gt;</a> <a id="1328" href="Data.Product.Categorical.Examples.html#1292" class="Bound">x</a><a id="1329" class="Symbol">)</a> <a id="1331" href="Data.Product.Categorical.Examples.html#1052" class="Function Operator">≈</a> <a id="1333" href="Data.Product.Categorical.Examples.html#1292" class="Bound">x</a>
  <a id="1337" href="Data.Product.Categorical.Examples.html#1281" class="Function">fmapIdₗ</a> <a id="1345" href="Data.Product.Categorical.Examples.html#1345" class="Bound">x</a> <a id="1347" class="Symbol">=</a> <a id="1349" href="Relation.Binary.Core.html#5620" class="Function">A.refl</a> <a id="1356" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1358" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="1366" class="Keyword">open</a> <a id="1371" href="Category.Monad.html#803" class="Module">RawMonad</a> <a id="1380" href="Data.Product.Categorical.Left.html#1525" class="Function">monad</a>

  <a id="1389" class="Comment">-- Now, let&#39;s show that &quot;return&quot; is a unit for &gt;&gt;=. We use Lift in exactly</a>
  <a id="1466" class="Comment">-- the same way as above. The data (x : B) then needs to be &quot;lifted&quot; to</a>
  <a id="1540" class="Comment">-- this new type (Lift B).</a>
  <a id="returnUnitL"></a><a id="1569" href="Data.Product.Categorical.Examples.html#1569" class="Function">returnUnitL</a> <a id="1581" class="Symbol">:</a> <a id="1583" class="Symbol">∀</a> <a id="1585" class="Symbol">{</a><a id="1586" href="Data.Product.Categorical.Examples.html#1586" class="Bound">x</a> <a id="1588" class="Symbol">:</a> <a id="1590" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a><a id="1591" class="Symbol">}</a> <a id="1593" class="Symbol">{</a><a id="1594" href="Data.Product.Categorical.Examples.html#1594" class="Bound">f</a> <a id="1596" class="Symbol">:</a> <a id="1598" href="Level.html#387" class="Record">Lift</a> <a id="1603" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1605" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a> <a id="1607" class="Symbol">→</a> <a id="1609" href="Algebra.html#2596" class="Function">A.Carrier</a> <a id="1619" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1621" href="Level.html#387" class="Record">Lift</a> <a id="1626" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1628" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a><a id="1629" class="Symbol">}</a> <a id="1631" class="Symbol">→</a>
                <a id="1649" class="Symbol">((</a><a id="1651" href="Category.Monad.Indexed.html#562" class="Function">return</a> <a id="1658" class="Symbol">(</a><a id="1659" href="Level.html#444" class="InductiveConstructor">lift</a> <a id="1664" href="Data.Product.Categorical.Examples.html#1586" class="Bound">x</a><a id="1665" class="Symbol">))</a> <a id="1668" href="Category.Monad.Indexed.html#597" class="Function Operator">&gt;&gt;=</a> <a id="1672" href="Data.Product.Categorical.Examples.html#1594" class="Bound">f</a><a id="1673" class="Symbol">)</a> <a id="1675" href="Data.Product.Categorical.Examples.html#1052" class="Function Operator">≈</a> <a id="1677" href="Data.Product.Categorical.Examples.html#1594" class="Bound">f</a> <a id="1679" class="Symbol">(</a><a id="1680" href="Level.html#444" class="InductiveConstructor">lift</a> <a id="1685" href="Data.Product.Categorical.Examples.html#1586" class="Bound">x</a><a id="1686" class="Symbol">)</a>
  <a id="1690" href="Data.Product.Categorical.Examples.html#1569" class="Function">returnUnitL</a> <a id="1702" class="Symbol">=</a> <a id="1704" href="Algebra.Structures.html#1723" class="Function">A.identityˡ</a> <a id="1716" class="Symbol">_</a> <a id="1718" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1720" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="returnUnitR"></a><a id="1728" href="Data.Product.Categorical.Examples.html#1728" class="Function">returnUnitR</a> <a id="1740" class="Symbol">:</a> <a id="1742" class="Symbol">{</a><a id="1743" href="Data.Product.Categorical.Examples.html#1743" class="Bound">x</a> <a id="1745" class="Symbol">:</a> <a id="1747" href="Algebra.html#2596" class="Function">A.Carrier</a> <a id="1757" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1759" href="Level.html#387" class="Record">Lift</a> <a id="1764" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1766" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a><a id="1767" class="Symbol">}</a> <a id="1769" class="Symbol">→</a> <a id="1771" class="Symbol">(</a><a id="1772" href="Data.Product.Categorical.Examples.html#1743" class="Bound">x</a> <a id="1774" href="Category.Monad.Indexed.html#597" class="Function Operator">&gt;&gt;=</a> <a id="1778" href="Category.Monad.Indexed.html#562" class="Function">return</a><a id="1784" class="Symbol">)</a> <a id="1786" href="Data.Product.Categorical.Examples.html#1052" class="Function Operator">≈</a> <a id="1788" href="Data.Product.Categorical.Examples.html#1743" class="Bound">x</a>
  <a id="1792" href="Data.Product.Categorical.Examples.html#1728" class="Function">returnUnitR</a> <a id="1804" class="Symbol">=</a> <a id="1806" href="Algebra.Structures.html#1784" class="Function">A.identityʳ</a> <a id="1818" class="Symbol">_</a> <a id="1820" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1822" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="1830" class="Comment">-- And another (limited version of a) monad law...</a>
  <a id="bindCompose"></a><a id="1883" href="Data.Product.Categorical.Examples.html#1883" class="Function">bindCompose</a> <a id="1895" class="Symbol">:</a> <a id="1897" class="Symbol">∀</a> <a id="1899" class="Symbol">{</a><a id="1900" href="Data.Product.Categorical.Examples.html#1900" class="Bound">f</a> <a id="1902" href="Data.Product.Categorical.Examples.html#1902" class="Bound">g</a> <a id="1904" class="Symbol">:</a> <a id="1906" href="Level.html#387" class="Record">Lift</a> <a id="1911" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1913" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a> <a id="1915" class="Symbol">→</a> <a id="1917" href="Algebra.html#2596" class="Function">A.Carrier</a> <a id="1927" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1929" href="Level.html#387" class="Record">Lift</a> <a id="1934" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1936" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a><a id="1937" class="Symbol">}</a> <a id="1939" class="Symbol">→</a>
                <a id="1957" class="Symbol">{</a><a id="1958" href="Data.Product.Categorical.Examples.html#1958" class="Bound">x</a> <a id="1960" class="Symbol">:</a> <a id="1962" href="Algebra.html#2596" class="Function">A.Carrier</a> <a id="1972" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1974" href="Level.html#387" class="Record">Lift</a> <a id="1979" href="Data.Product.Categorical.Examples.html#346" class="Bound">a</a> <a id="1981" href="Data.Product.Categorical.Examples.html#371" class="Bound">B</a><a id="1982" class="Symbol">}</a> <a id="1984" class="Symbol">→</a>
                <a id="2002" class="Symbol">((</a><a id="2004" href="Data.Product.Categorical.Examples.html#1958" class="Bound">x</a> <a id="2006" href="Category.Monad.Indexed.html#597" class="Function Operator">&gt;&gt;=</a> <a id="2010" href="Data.Product.Categorical.Examples.html#1900" class="Bound">f</a><a id="2011" class="Symbol">)</a> <a id="2013" href="Category.Monad.Indexed.html#597" class="Function Operator">&gt;&gt;=</a> <a id="2017" href="Data.Product.Categorical.Examples.html#1902" class="Bound">g</a><a id="2018" class="Symbol">)</a> <a id="2020" href="Data.Product.Categorical.Examples.html#1052" class="Function Operator">≈</a> <a id="2022" class="Symbol">(</a><a id="2023" href="Data.Product.Categorical.Examples.html#1958" class="Bound">x</a> <a id="2025" href="Category.Monad.Indexed.html#597" class="Function Operator">&gt;&gt;=</a> <a id="2029" class="Symbol">(λ</a> <a id="2032" href="Data.Product.Categorical.Examples.html#2032" class="Bound">y</a> <a id="2034" class="Symbol">→</a> <a id="2036" class="Symbol">(</a><a id="2037" href="Data.Product.Categorical.Examples.html#1900" class="Bound">f</a> <a id="2039" href="Data.Product.Categorical.Examples.html#2032" class="Bound">y</a> <a id="2041" href="Category.Monad.Indexed.html#597" class="Function Operator">&gt;&gt;=</a> <a id="2045" href="Data.Product.Categorical.Examples.html#1902" class="Bound">g</a><a id="2046" class="Symbol">)))</a>
  <a id="2052" href="Data.Product.Categorical.Examples.html#1883" class="Function">bindCompose</a> <a id="2064" class="Symbol">=</a> <a id="2066" href="Algebra.Structures.html#1088" class="Function">A.assoc</a> <a id="2074" class="Symbol">_</a> <a id="2076" class="Symbol">_</a> <a id="2078" class="Symbol">_</a> <a id="2080" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2082" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
</pre></body></html>