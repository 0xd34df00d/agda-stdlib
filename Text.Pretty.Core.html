<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Text.Pretty.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pretty Printing</a>
<a id="125" class="Comment">-- This module is based on Jean-Philippe Bernardy&#39;s functional pearl</a>
<a id="194" class="Comment">-- &quot;A Pretty But Not Greedy Printer&quot;</a>
<a id="231" class="Comment">------------------------------------------------------------------------</a>

<a id="305" class="Symbol">{-#</a> <a id="309" class="Keyword">OPTIONS</a> <a id="317" class="Pragma">--with-K</a> <a id="326" class="Symbol">#-}</a>

<a id="331" class="Keyword">module</a> <a id="338" href="Text.Pretty.Core.html" class="Module">Text.Pretty.Core</a> <a id="355" class="Keyword">where</a>

<a id="362" class="Keyword">import</a> <a id="369" href="Level.html" class="Module">Level</a>

<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="398" class="Keyword">using</a> <a id="404" class="Symbol">(</a><a id="405" href="Agda.Builtin.Bool.html#135" class="Datatype">Bool</a><a id="409" class="Symbol">)</a>
<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="Data.Erased.html" class="Module">Data.Erased</a>    <a id="438" class="Symbol">as</a> <a id="441" class="Module">Erased</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">(</a><a id="455" href="Data.Erased.html#650" class="Record">Erased</a><a id="461" class="Symbol">)</a> <a id="463" class="Keyword">hiding</a> <a id="470" class="Symbol">(</a><a id="471" class="Keyword">module</a> <a id="478" href="Data.Erased.html#650" class="Module">Erased</a><a id="484" class="Symbol">)</a>
<a id="486" class="Keyword">open</a> <a id="491" class="Keyword">import</a> <a id="498" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="513" class="Symbol">as</a> <a id="516" class="Module">List</a>   <a id="523" class="Keyword">using</a> <a id="529" class="Symbol">(</a><a id="530" href="Agda.Builtin.List.html#121" class="Datatype">List</a><a id="534" class="Symbol">;</a> <a id="536" href="Data.List.Base.html#9220" class="InductiveConstructor">[]</a><a id="538" class="Symbol">;</a> <a id="540" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">_∷_</a><a id="543" class="Symbol">)</a>
<a id="545" class="Keyword">open</a> <a id="550" class="Keyword">import</a> <a id="557" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>            <a id="582" class="Keyword">using</a> <a id="588" class="Symbol">(</a><a id="589" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="590" class="Symbol">;</a> <a id="592" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="596" class="Symbol">;</a> <a id="598" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="601" class="Symbol">;</a> <a id="603" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a><a id="606" class="Symbol">;</a> <a id="608" href="Data.Nat.Base.html#1640" class="Function Operator">_⊔_</a><a id="611" class="Symbol">;</a> <a id="613" href="Data.Nat.Base.html#937" class="Datatype Operator">_≤_</a><a id="616" class="Symbol">;</a> <a id="618" href="Data.Nat.Base.html#960" class="InductiveConstructor">z≤n</a><a id="621" class="Symbol">)</a>
<a id="623" class="Keyword">open</a> <a id="628" class="Keyword">import</a> <a id="635" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="655" class="Keyword">open</a> <a id="660" class="Keyword">import</a> <a id="667" href="Data.Product.html" class="Module">Data.Product</a> <a id="680" class="Symbol">as</a> <a id="683" class="Module">Prod</a> <a id="688" class="Keyword">using</a> <a id="694" class="Symbol">(</a><a id="695" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="698" class="Symbol">;</a> <a id="700" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a><a id="703" class="Symbol">;</a> <a id="705" href="Data.Product.html#3103" class="Function">uncurry</a><a id="712" class="Symbol">;</a> <a id="714" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a><a id="719" class="Symbol">;</a> <a id="721" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a><a id="726" class="Symbol">)</a>
<a id="728" class="Keyword">import</a> <a id="735" href="Data.Product.Relation.Unary.All.html" class="Module">Data.Product.Relation.Unary.All</a> <a id="767" class="Symbol">as</a> <a id="770" class="Module">Allᴾ</a>

<a id="776" class="Keyword">open</a> <a id="781" class="Keyword">import</a> <a id="788" href="Data.Tree.Binary.html" class="Module">Data.Tree.Binary</a> <a id="805" class="Symbol">as</a> <a id="808" class="Module">Tree</a> <a id="813" class="Keyword">using</a> <a id="819" class="Symbol">(</a><a id="820" href="Data.Tree.Binary.html#620" class="Datatype">Tree</a><a id="824" class="Symbol">;</a> <a id="826" href="Data.Tree.Binary.html#653" class="InductiveConstructor">leaf</a><a id="830" class="Symbol">;</a> <a id="832" href="Data.Tree.Binary.html#669" class="InductiveConstructor">node</a><a id="836" class="Symbol">)</a>
<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="Data.Tree.Binary.Relation.Unary.All.html" class="Module">Data.Tree.Binary.Relation.Unary.All</a> <a id="886" class="Symbol">as</a> <a id="889" class="Module">Allᵀ</a> <a id="894" class="Keyword">using</a> <a id="900" class="Symbol">(</a><a id="901" href="Data.Tree.Binary.Relation.Unary.All.html#563" class="InductiveConstructor">leaf</a><a id="905" class="Symbol">;</a> <a id="907" href="Data.Tree.Binary.Relation.Unary.All.html#583" class="InductiveConstructor">node</a><a id="911" class="Symbol">)</a>
<a id="913" class="Keyword">import</a> <a id="920" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">Data.</a><a id="925" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Bound">T</a><a id="926" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">ree.</a><a id="930" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Bound">B</a><a id="931" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">ina</a><a id="934" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Bound">r</a><a id="935" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">y.Re</a><a id="939" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Function">l</a><a id="940" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">a</a><a id="941" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Bound">t</a><a id="942" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">i</a><a id="943" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Function">o</a><a id="944" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">n</a><a id="945" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Bound">.</a><a id="946" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">U</a><a id="947" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Function">n</a><a id="948" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">a</a><a id="949" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Bound">r</a><a id="950" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">y</a><a id="951" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Function">.</a><a id="952" href="Data.Tree.Binary.Relation.Unary.All.Properties.html" class="Module">All.Properties</a> <a id="967" class="Symbol">as</a> <a id="970" class="Module">Allᵀₚ</a>
<a id="976" class="Keyword">import</a> <a id="983" href="Data.Tree.Binary.Properties.html" class="Module">Data.Tree.Binary.Properties</a> <a id="1011" class="Symbol">as</a> <a id="1014" class="Module">Treeₚ</a>

<a id="1021" class="Keyword">open</a> <a id="1026" class="Keyword">import</a> <a id="1033" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="1049" class="Symbol">as</a> <a id="1052" class="Module">Maybe</a> <a id="1058" class="Keyword">using</a> <a id="1064" class="Symbol">(</a><a id="1065" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a><a id="1070" class="Symbol">;</a> <a id="1072" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a><a id="1079" class="Symbol">;</a> <a id="1081" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a><a id="1085" class="Symbol">;</a> <a id="1087" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a><a id="1093" class="Symbol">)</a>
<a id="1095" class="Keyword">open</a> <a id="1100" class="Keyword">import</a> <a id="1107" href="Data.Maybe.Relation.Unary.All.html" class="Module">Data.Maybe.Relation.Unary.All</a> <a id="1137" class="Symbol">as</a> <a id="1140" class="Module">Allᴹ</a> <a id="1145" class="Keyword">using</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Data.Maybe.Relation.Unary.All.html#1054" class="InductiveConstructor">nothing</a><a id="1159" class="Symbol">;</a> <a id="1161" href="Data.Maybe.Relation.Unary.All.html#1013" class="InductiveConstructor">just</a><a id="1165" class="Symbol">)</a>

<a id="1168" class="Keyword">open</a> <a id="1173" class="Keyword">import</a> <a id="1180" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="1197" class="Symbol">as</a> <a id="1200" class="Module">String</a>
<a id="1207" class="Keyword">open</a> <a id="1212" class="Keyword">import</a> <a id="1219" href="Data.String.Unsafe.html" class="Module">Data.String.Unsafe</a> <a id="1238" class="Symbol">as</a> <a id="1241" class="Module">Stringₚ</a>
<a id="1249" class="Keyword">open</a> <a id="1254" class="Keyword">import</a> <a id="1261" href="Function.Base.html" class="Module">Function.Base</a>
<a id="1275" class="Keyword">open</a> <a id="1280" class="Keyword">import</a> <a id="1287" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1304" class="Keyword">using</a> <a id="1310" class="Symbol">(</a><a id="1311" href="Relation.Nullary.html#1508" class="Record">Dec</a><a id="1314" class="Symbol">)</a>
<a id="1316" class="Keyword">open</a> <a id="1321" class="Keyword">import</a> <a id="1328" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1343" class="Keyword">using</a> <a id="1349" class="Symbol">(</a><a id="1350" href="Relation.Unary.html#3354" class="Function">IUniversal</a><a id="1360" class="Symbol">;</a> <a id="1362" href="Relation.Unary.html#4333" class="Function Operator">_⇒_</a><a id="1365" class="Symbol">)</a>
<a id="1367" class="Keyword">open</a> <a id="1372" class="Keyword">import</a> <a id="1379" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="1418" class="Keyword">open</a> <a id="1423" class="Keyword">import</a> <a id="1430" href="Data.Refinement.html" class="Module">Data.Refinement</a> <a id="1446" class="Keyword">hiding</a> <a id="1453" class="Symbol">(</a><a id="1454" href="Data.Refinement.html#1004" class="Function">map</a><a id="1457" class="Symbol">)</a>
<a id="1459" class="Keyword">import</a> <a id="1466" href="Data.Refinement.Relation.Unary.All.html" class="Module">Data.Refinement.Relation.Unary.All</a> <a id="1501" class="Symbol">as</a> <a id="1504" class="Module">Allᴿ</a>

<a id="1510" class="Comment">------------------------------------------------------------------------</a>
<a id="1583" class="Comment">-- Block of text</a>

<a id="1601" class="Comment">-- Content is a representation of the first line and the middle of the block.</a>
<a id="1679" class="Comment">-- We use a tree rather than a list for the middle of the block so that we can</a>
<a id="1758" class="Comment">-- extend it with lines on the left and on the line for free. We will ultimately</a>
<a id="1839" class="Comment">-- render the block by traversing the tree left to right in a depth-first manner.</a>

<a id="Content"></a><a id="1922" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="1930" class="Symbol">:</a> <a id="1932" class="PrimitiveType">Set</a>
<a id="1936" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="1944" class="Symbol">=</a> <a id="1946" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="1952" class="Symbol">(</a><a id="1953" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="1960" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1962" href="Data.Tree.Binary.html#620" class="Datatype">Tree</a> <a id="1967" href="Agda.Builtin.String.html#206" class="Postulate">String</a><a id="1973" class="Symbol">)</a>

<a id="size"></a><a id="1976" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="1981" class="Symbol">:</a> <a id="1983" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="1991" class="Symbol">→</a> <a id="1993" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
<a id="1995" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="2000" class="Symbol">=</a> <a id="2002" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="2009" class="Symbol">(</a><a id="2010" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="2014" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="2016" href="Data.Tree.Binary.html#817" class="Function">Tree.size</a> <a id="2026" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="2028" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a><a id="2033" class="Symbol">)</a> <a id="2035" class="Number">0</a>

<a id="All"></a><a id="2038" href="Text.Pretty.Core.html#2038" class="Function">All</a> <a id="2042" class="Symbol">:</a> <a id="2044" class="Symbol">∀</a> <a id="2046" class="Symbol">{</a><a id="2047" href="Text.Pretty.Core.html#2047" class="Bound">p</a><a id="2048" class="Symbol">}</a> <a id="2050" class="Symbol">(</a><a id="2051" href="Text.Pretty.Core.html#2051" class="Bound">P</a> <a id="2053" class="Symbol">:</a> <a id="2055" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="2062" class="Symbol">→</a> <a id="2064" class="PrimitiveType">Set</a> <a id="2068" href="Text.Pretty.Core.html#2047" class="Bound">p</a><a id="2069" class="Symbol">)</a> <a id="2071" class="Symbol">→</a> <a id="2073" class="Symbol">(</a><a id="2074" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="2082" class="Symbol">→</a> <a id="2084" class="PrimitiveType">Set</a> <a id="2088" href="Text.Pretty.Core.html#2047" class="Bound">p</a><a id="2089" class="Symbol">)</a>
<a id="2091" href="Text.Pretty.Core.html#2038" class="Function">All</a> <a id="2095" href="Text.Pretty.Core.html#2095" class="Bound">P</a> <a id="2097" class="Symbol">=</a> <a id="2099" href="Data.Maybe.Relation.Unary.All.html#943" class="Datatype">Allᴹ.All</a> <a id="2108" class="Symbol">(</a><a id="2109" href="Data.Product.Relation.Unary.All.html#456" class="Function">Allᴾ.All</a> <a id="2118" href="Text.Pretty.Core.html#2095" class="Bound">P</a> <a id="2120" class="Symbol">(</a><a id="2121" href="Data.Tree.Binary.Relation.Unary.All.html#500" class="Datatype">Allᵀ.All</a> <a id="2130" href="Text.Pretty.Core.html#2095" class="Bound">P</a><a id="2131" class="Symbol">))</a>

<a id="All≤"></a><a id="2135" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="2140" class="Symbol">:</a> <a id="2142" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="2144" class="Symbol">→</a> <a id="2146" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="2154" class="Symbol">→</a> <a id="2156" class="PrimitiveType">Set</a>
<a id="2160" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="2165" href="Text.Pretty.Core.html#2165" class="Bound">n</a> <a id="2167" class="Symbol">=</a> <a id="2169" href="Text.Pretty.Core.html#2038" class="Function">All</a> <a id="2173" class="Symbol">(λ</a> <a id="2176" href="Text.Pretty.Core.html#2176" class="Bound">s</a> <a id="2178" class="Symbol">→</a> <a id="2180" href="Data.String.Base.html#1949" class="Function">length</a> <a id="2187" href="Text.Pretty.Core.html#2176" class="Bound">s</a> <a id="2189" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="2191" href="Text.Pretty.Core.html#2165" class="Bound">n</a><a id="2192" class="Symbol">)</a>

<a id="2195" class="Keyword">record</a> <a id="Block"></a><a id="2202" href="Text.Pretty.Core.html#2202" class="Record">Block</a> <a id="2208" class="Symbol">:</a> <a id="2210" class="PrimitiveType">Set</a> <a id="2214" class="Keyword">where</a>
  <a id="2222" class="Keyword">field</a>
    <a id="Block.height"></a><a id="2232" href="Text.Pretty.Core.html#2232" class="Field">height</a>    <a id="2242" class="Symbol">:</a> <a id="2244" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
    <a id="Block.block"></a><a id="2250" href="Text.Pretty.Core.html#2250" class="Field">block</a>     <a id="2260" class="Symbol">:</a> <a id="2262" href="Data.Refinement.html#869" class="Function">[</a> <a id="2264" href="Text.Pretty.Core.html#2264" class="Bound">xs</a> <a id="2267" href="Data.Refinement.html#869" class="Function">∈</a> <a id="2269" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="2277" href="Data.Refinement.html#869" class="Function">∣</a> <a id="2279" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="2284" href="Text.Pretty.Core.html#2264" class="Bound">xs</a> <a id="2287" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="2289" href="Text.Pretty.Core.html#2232" class="Field">height</a> <a id="2296" href="Data.Refinement.html#869" class="Function">]</a>
  <a id="2300" class="Comment">-- last line</a>
    <a id="Block.lastWidth"></a><a id="2317" href="Text.Pretty.Core.html#2317" class="Field">lastWidth</a> <a id="2327" class="Symbol">:</a> <a id="2329" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
    <a id="Block.last"></a><a id="2335" href="Text.Pretty.Core.html#2335" class="Field">last</a>      <a id="2345" class="Symbol">:</a> <a id="2347" href="Data.Refinement.html#869" class="Function">[</a> <a id="2349" href="Text.Pretty.Core.html#2349" class="Bound">s</a> <a id="2351" href="Data.Refinement.html#869" class="Function">∈</a> <a id="2353" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="2360" href="Data.Refinement.html#869" class="Function">∣</a> <a id="2362" href="Data.String.Base.html#1949" class="Function">length</a> <a id="2369" href="Text.Pretty.Core.html#2349" class="Bound">s</a> <a id="2371" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="2373" href="Text.Pretty.Core.html#2317" class="Field">lastWidth</a> <a id="2383" href="Data.Refinement.html#869" class="Function">]</a>
  <a id="2387" class="Comment">-- max of all the widths</a>
    <a id="Block.maxWidth"></a><a id="2416" href="Text.Pretty.Core.html#2416" class="Field">maxWidth</a>  <a id="2426" class="Symbol">:</a> <a id="2428" href="Data.Refinement.html#869" class="Function">[</a> <a id="2430" href="Text.Pretty.Core.html#2430" class="Bound">n</a> <a id="2432" href="Data.Refinement.html#869" class="Function">∈</a> <a id="2434" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="2436" href="Data.Refinement.html#869" class="Function">∣</a> <a id="2438" href="Text.Pretty.Core.html#2317" class="Field">lastWidth</a> <a id="2448" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="2450" href="Text.Pretty.Core.html#2430" class="Bound">n</a> <a id="2452" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2454" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="2459" href="Text.Pretty.Core.html#2430" class="Bound">n</a> <a id="2461" class="Symbol">(</a><a id="2462" href="Text.Pretty.Core.html#2250" class="Field">block</a> <a id="2468" class="Symbol">.</a><a id="2469" href="Data.Refinement.html#592" class="Field">value</a><a id="2474" class="Symbol">)</a> <a id="2476" href="Data.Refinement.html#869" class="Function">]</a>

<a id="2479" class="Comment">------------------------------------------------------------------------</a>
<a id="2552" class="Comment">-- Raw string</a>

<a id="text"></a><a id="2567" href="Text.Pretty.Core.html#2567" class="Function">text</a> <a id="2572" class="Symbol">:</a> <a id="2574" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="2581" class="Symbol">→</a> <a id="2583" href="Text.Pretty.Core.html#2202" class="Record">Block</a>
<a id="2589" href="Text.Pretty.Core.html#2567" class="Function">text</a> <a id="2594" href="Text.Pretty.Core.html#2594" class="Bound">s</a> <a id="2596" class="Symbol">=</a> <a id="2598" class="Keyword">record</a>
  <a id="2607" class="Symbol">{</a> <a id="2609" href="Text.Pretty.Core.html#2232" class="Field">height</a>    <a id="2619" class="Symbol">=</a> <a id="2621" class="Number">0</a>
  <a id="2625" class="Symbol">;</a> <a id="2627" href="Text.Pretty.Core.html#2250" class="Field">block</a>     <a id="2637" class="Symbol">=</a> <a id="2639" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="2647" href="Data.Refinement.html#580" class="InductiveConstructor Operator">,</a> <a id="2649" class="Symbol">⦇</a> <a id="2651" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="2656" class="Symbol">⦈</a>
  <a id="2660" class="Symbol">;</a> <a id="2662" href="Text.Pretty.Core.html#2317" class="Field">lastWidth</a> <a id="2672" class="Symbol">=</a> <a id="2674" href="Text.Pretty.Core.html#2766" class="Function">width</a>
  <a id="2682" class="Symbol">;</a> <a id="2684" href="Text.Pretty.Core.html#2335" class="Field">last</a>      <a id="2694" class="Symbol">=</a> <a id="2696" href="Text.Pretty.Core.html#2594" class="Bound">s</a> <a id="2698" href="Data.Refinement.html#580" class="InductiveConstructor Operator">,</a> <a id="2700" class="Symbol">⦇</a> <a id="2702" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="2707" class="Symbol">⦈</a>
  <a id="2711" class="Symbol">;</a> <a id="2713" href="Text.Pretty.Core.html#2416" class="Field">maxWidth</a>  <a id="2723" class="Symbol">=</a> <a id="2725" href="Text.Pretty.Core.html#2766" class="Function">width</a> <a id="2731" href="Data.Refinement.html#580" class="InductiveConstructor Operator">,</a> <a id="2733" class="Symbol">⦇</a> <a id="2735" class="Symbol">(</a><a id="2736" href="Data.Nat.Properties.html#3739" class="Function">≤-refl</a> <a id="2743" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2745" href="Data.Maybe.Relation.Unary.All.html#1054" class="InductiveConstructor">nothing</a><a id="2752" class="Symbol">)</a> <a id="2754" class="Symbol">⦈</a>
  <a id="2758" class="Symbol">}</a> <a id="2760" class="Keyword">where</a> <a id="2766" href="Text.Pretty.Core.html#2766" class="Function">width</a> <a id="2772" class="Symbol">=</a> <a id="2774" href="Data.String.Base.html#1949" class="Function">length</a> <a id="2781" href="Text.Pretty.Core.html#2594" class="Bound">s</a><a id="2782" class="Symbol">;</a> <a id="2784" class="Keyword">open</a> <a id="2789" href="Data.Erased.html" class="Module">Erased</a>

<a id="2797" class="Comment">------------------------------------------------------------------------</a>
<a id="2870" class="Comment">-- Empty</a>

<a id="empty"></a><a id="2880" href="Text.Pretty.Core.html#2880" class="Function">empty</a> <a id="2886" class="Symbol">:</a> <a id="2888" href="Text.Pretty.Core.html#2202" class="Record">Block</a>
<a id="2894" href="Text.Pretty.Core.html#2880" class="Function">empty</a> <a id="2900" class="Symbol">=</a> <a id="2902" href="Text.Pretty.Core.html#2567" class="Function">text</a> <a id="2907" class="String">&quot;&quot;</a>

<a id="2911" class="Comment">------------------------------------------------------------------------</a>
<a id="2984" class="Comment">-- Helper functions</a>

<a id="node?"></a><a id="3005" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="3011" class="Symbol">:</a> <a id="3013" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="3021" class="Symbol">→</a> <a id="3023" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="3030" class="Symbol">→</a> <a id="3032" href="Data.Tree.Binary.html#620" class="Datatype">Tree</a> <a id="3037" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="3044" class="Symbol">→</a> <a id="3046" href="Text.Pretty.Core.html#1922" class="Function">Content</a>
<a id="3054" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="3060" class="Symbol">(</a><a id="3061" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="3066" class="Symbol">(</a><a id="3067" href="Text.Pretty.Core.html#3067" class="Bound">x</a> <a id="3069" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3071" href="Text.Pretty.Core.html#3071" class="Bound">xs</a><a id="3073" class="Symbol">))</a> <a id="3076" href="Text.Pretty.Core.html#3076" class="Bound">y</a> <a id="3078" href="Text.Pretty.Core.html#3078" class="Bound">ys</a> <a id="3081" class="Symbol">=</a> <a id="3083" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="3088" class="Symbol">(</a><a id="3089" href="Text.Pretty.Core.html#3067" class="Bound">x</a> <a id="3091" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3093" href="Data.Tree.Binary.html#669" class="InductiveConstructor">node</a> <a id="3098" href="Text.Pretty.Core.html#3071" class="Bound">xs</a> <a id="3101" href="Text.Pretty.Core.html#3076" class="Bound">y</a> <a id="3103" href="Text.Pretty.Core.html#3078" class="Bound">ys</a><a id="3105" class="Symbol">)</a>
<a id="3107" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="3113" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>         <a id="3129" href="Text.Pretty.Core.html#3129" class="Bound">y</a> <a id="3131" href="Text.Pretty.Core.html#3131" class="Bound">ys</a> <a id="3134" class="Symbol">=</a> <a id="3136" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="3141" class="Symbol">(</a><a id="3142" href="Text.Pretty.Core.html#3129" class="Bound">y</a> <a id="3144" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3146" href="Text.Pretty.Core.html#3131" class="Bound">ys</a><a id="3148" class="Symbol">)</a>

<a id="∣node?∣"></a><a id="3151" href="Text.Pretty.Core.html#3151" class="Function">∣node?∣</a> <a id="3159" class="Symbol">:</a> <a id="3161" class="Symbol">∀</a> <a id="3163" href="Text.Pretty.Core.html#3163" class="Bound">b</a> <a id="3165" href="Text.Pretty.Core.html#3165" class="Bound">y</a> <a id="3167" href="Text.Pretty.Core.html#3167" class="Bound">ys</a> <a id="3170" class="Symbol">→</a> <a id="3172" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="3177" class="Symbol">(</a><a id="3178" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="3184" href="Text.Pretty.Core.html#3163" class="Bound">b</a> <a id="3186" href="Text.Pretty.Core.html#3165" class="Bound">y</a> <a id="3188" href="Text.Pretty.Core.html#3167" class="Bound">ys</a><a id="3190" class="Symbol">)</a>
                   <a id="3211" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="3213" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="3218" href="Text.Pretty.Core.html#3163" class="Bound">b</a> <a id="3220" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="3222" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="3226" class="Symbol">(</a><a id="3227" href="Data.Tree.Binary.html#817" class="Function">Tree.size</a> <a id="3237" href="Text.Pretty.Core.html#3167" class="Bound">ys</a><a id="3239" class="Symbol">)</a>
<a id="3241" href="Text.Pretty.Core.html#3151" class="Function">∣node?∣</a> <a id="3249" class="Symbol">(</a><a id="3250" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="3255" class="Symbol">(</a><a id="3256" href="Text.Pretty.Core.html#3256" class="Bound">x</a> <a id="3258" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3260" href="Text.Pretty.Core.html#3260" class="Bound">xs</a><a id="3262" class="Symbol">))</a> <a id="3265" href="Text.Pretty.Core.html#3265" class="Bound">y</a> <a id="3267" href="Text.Pretty.Core.html#3267" class="Bound">ys</a> <a id="3270" class="Symbol">=</a> <a id="3272" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="3277" href="Text.Pretty.Core.html#3151" class="Function">∣node?∣</a> <a id="3285" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>         <a id="3301" href="Text.Pretty.Core.html#3301" class="Bound">y</a> <a id="3303" href="Text.Pretty.Core.html#3303" class="Bound">ys</a> <a id="3306" class="Symbol">=</a> <a id="3308" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="≤-Content"></a><a id="3314" href="Text.Pretty.Core.html#3314" class="Function">≤-Content</a> <a id="3324" class="Symbol">:</a> <a id="3326" class="Symbol">∀</a> <a id="3328" class="Symbol">{</a><a id="3329" href="Text.Pretty.Core.html#3329" class="Bound">m</a> <a id="3331" href="Text.Pretty.Core.html#3331" class="Bound">n</a><a id="3332" class="Symbol">}</a> <a id="3334" class="Symbol">{</a><a id="3335" href="Text.Pretty.Core.html#3335" class="Bound">b</a> <a id="3337" class="Symbol">:</a> <a id="3339" href="Text.Pretty.Core.html#1922" class="Function">Content</a><a id="3346" class="Symbol">}</a> <a id="3348" class="Symbol">→</a> <a id="3350" href="Text.Pretty.Core.html#3329" class="Bound">m</a> <a id="3352" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="3354" href="Text.Pretty.Core.html#3331" class="Bound">n</a> <a id="3356" class="Symbol">→</a> <a id="3358" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="3363" href="Text.Pretty.Core.html#3329" class="Bound">m</a> <a id="3365" href="Text.Pretty.Core.html#3335" class="Bound">b</a> <a id="3367" class="Symbol">→</a> <a id="3369" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="3374" href="Text.Pretty.Core.html#3331" class="Bound">n</a> <a id="3376" href="Text.Pretty.Core.html#3335" class="Bound">b</a>
<a id="3378" href="Text.Pretty.Core.html#3314" class="Function">≤-Content</a> <a id="3388" class="Symbol">{</a><a id="3389" href="Text.Pretty.Core.html#3389" class="Bound">m</a><a id="3390" class="Symbol">}</a> <a id="3392" class="Symbol">{</a><a id="3393" href="Text.Pretty.Core.html#3393" class="Bound">n</a><a id="3394" class="Symbol">}</a> <a id="3396" href="Text.Pretty.Core.html#3396" class="Bound">m≤n</a> <a id="3400" class="Symbol">=</a> <a id="3402" href="Data.Maybe.Relation.Unary.All.html#1394" class="Function">Allᴹ.map</a> <a id="3411" class="Symbol">(</a><a id="3412" href="Data.Product.html#2435" class="Function">Prod.map</a> <a id="3421" href="Text.Pretty.Core.html#3455" class="Function">step</a> <a id="3426" class="Symbol">(</a><a id="3427" href="Data.Tree.Binary.Relation.Unary.All.html#698" class="Function">Allᵀ.map</a> <a id="3436" href="Text.Pretty.Core.html#3455" class="Function">step</a><a id="3440" class="Symbol">))</a>

  <a id="3446" class="Keyword">where</a>

  <a id="3455" href="Text.Pretty.Core.html#3455" class="Function">step</a> <a id="3460" class="Symbol">:</a> <a id="3462" class="Symbol">∀</a> <a id="3464" class="Symbol">{</a><a id="3465" href="Text.Pretty.Core.html#3465" class="Bound">p</a><a id="3466" class="Symbol">}</a> <a id="3468" class="Symbol">→</a> <a id="3470" href="Text.Pretty.Core.html#3465" class="Bound">p</a> <a id="3472" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="3474" href="Text.Pretty.Core.html#3389" class="Bound">m</a> <a id="3476" class="Symbol">→</a> <a id="3478" href="Text.Pretty.Core.html#3465" class="Bound">p</a> <a id="3480" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="3482" href="Text.Pretty.Core.html#3393" class="Bound">n</a>
  <a id="3486" href="Text.Pretty.Core.html#3455" class="Function">step</a> <a id="3491" class="Symbol">=</a> <a id="3493" href="Function.Base.html#1193" class="Function">flip</a> <a id="3498" href="Data.Nat.Properties.html#3922" class="Function">≤-trans</a> <a id="3506" href="Text.Pretty.Core.html#3396" class="Bound">m≤n</a>

<a id="All≤-node?"></a><a id="3511" href="Text.Pretty.Core.html#3511" class="Function">All≤-node?</a> <a id="3522" class="Symbol">:</a> <a id="3524" class="Symbol">∀</a> <a id="3526" class="Symbol">{</a><a id="3527" href="Text.Pretty.Core.html#3527" class="Bound">l</a> <a id="3529" href="Text.Pretty.Core.html#3529" class="Bound">m</a> <a id="3531" href="Text.Pretty.Core.html#3531" class="Bound">r</a> <a id="3533" href="Text.Pretty.Core.html#3533" class="Bound">n</a><a id="3534" class="Symbol">}</a> <a id="3536" class="Symbol">→</a>
             <a id="3551" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="3556" href="Text.Pretty.Core.html#3533" class="Bound">n</a> <a id="3558" href="Text.Pretty.Core.html#3527" class="Bound">l</a> <a id="3560" class="Symbol">→</a> <a id="3562" href="Data.String.Base.html#1949" class="Function">length</a> <a id="3569" href="Text.Pretty.Core.html#3529" class="Bound">m</a> <a id="3571" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="3573" href="Text.Pretty.Core.html#3533" class="Bound">n</a> <a id="3575" class="Symbol">→</a> <a id="3577" href="Data.Tree.Binary.Relation.Unary.All.html#500" class="Datatype">Allᵀ.All</a> <a id="3586" class="Symbol">(λ</a> <a id="3589" href="Text.Pretty.Core.html#3589" class="Bound">s</a> <a id="3591" class="Symbol">→</a> <a id="3593" href="Data.String.Base.html#1949" class="Function">length</a> <a id="3600" href="Text.Pretty.Core.html#3589" class="Bound">s</a> <a id="3602" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="3604" href="Text.Pretty.Core.html#3533" class="Bound">n</a><a id="3605" class="Symbol">)</a> <a id="3607" href="Text.Pretty.Core.html#3531" class="Bound">r</a> <a id="3609" class="Symbol">→</a>
             <a id="3624" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="3629" href="Text.Pretty.Core.html#3533" class="Bound">n</a> <a id="3631" class="Symbol">(</a><a id="3632" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="3638" href="Text.Pretty.Core.html#3527" class="Bound">l</a> <a id="3640" href="Text.Pretty.Core.html#3529" class="Bound">m</a> <a id="3642" href="Text.Pretty.Core.html#3531" class="Bound">r</a><a id="3643" class="Symbol">)</a>
<a id="3645" href="Text.Pretty.Core.html#3511" class="Function">All≤-node?</a> <a id="3656" href="Data.Maybe.Relation.Unary.All.html#1054" class="InductiveConstructor">nothing</a>           <a id="3674" href="Text.Pretty.Core.html#3674" class="Bound">py</a> <a id="3677" href="Text.Pretty.Core.html#3677" class="Bound">pys</a> <a id="3681" class="Symbol">=</a> <a id="3683" href="Data.Maybe.Relation.Unary.All.html#1013" class="InductiveConstructor">just</a> <a id="3688" class="Symbol">(</a><a id="3689" href="Text.Pretty.Core.html#3674" class="Bound">py</a> <a id="3692" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3694" href="Text.Pretty.Core.html#3677" class="Bound">pys</a><a id="3697" class="Symbol">)</a>
<a id="3699" href="Text.Pretty.Core.html#3511" class="Function">All≤-node?</a> <a id="3710" class="Symbol">(</a><a id="3711" href="Data.Maybe.Relation.Unary.All.html#1013" class="InductiveConstructor">just</a> <a id="3716" class="Symbol">(</a><a id="3717" href="Text.Pretty.Core.html#3717" class="Bound">px</a> <a id="3720" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3722" href="Text.Pretty.Core.html#3722" class="Bound">pxs</a><a id="3725" class="Symbol">))</a> <a id="3728" href="Text.Pretty.Core.html#3728" class="Bound">py</a> <a id="3731" href="Text.Pretty.Core.html#3731" class="Bound">pys</a> <a id="3735" class="Symbol">=</a> <a id="3737" href="Data.Maybe.Relation.Unary.All.html#1013" class="InductiveConstructor">just</a> <a id="3742" class="Symbol">(</a><a id="3743" href="Text.Pretty.Core.html#3717" class="Bound">px</a> <a id="3746" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3748" href="Data.Tree.Binary.Relation.Unary.All.html#583" class="InductiveConstructor">node</a> <a id="3753" href="Text.Pretty.Core.html#3722" class="Bound">pxs</a> <a id="3757" href="Text.Pretty.Core.html#3728" class="Bound">py</a> <a id="3760" href="Text.Pretty.Core.html#3731" class="Bound">pys</a><a id="3763" class="Symbol">)</a>

<a id="3766" class="Comment">------------------------------------------------------------------------</a>
<a id="3839" class="Comment">-- Appending two documents</a>

<a id="3867" class="Keyword">private</a>
  <a id="3877" class="Keyword">module</a> <a id="append"></a><a id="3884" href="Text.Pretty.Core.html#3884" class="Module">append</a> <a id="3891" class="Symbol">(</a><a id="3892" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="3894" href="Text.Pretty.Core.html#3894" class="Bound">y</a> <a id="3896" class="Symbol">:</a> <a id="3898" href="Text.Pretty.Core.html#2202" class="Record">Block</a><a id="3903" class="Symbol">)</a> <a id="3905" class="Keyword">where</a>

    <a id="3916" class="Keyword">module</a> <a id="x"></a><a id="3923" href="Text.Pretty.Core.html#3923" class="Module">x</a> <a id="3925" class="Symbol">=</a> <a id="3927" href="Text.Pretty.Core.html#2202" class="Module">Block</a> <a id="3933" href="Text.Pretty.Core.html#3892" class="Bound">x</a>
    <a id="3939" class="Keyword">module</a> <a id="y"></a><a id="3946" href="Text.Pretty.Core.html#3946" class="Module">y</a> <a id="3948" class="Symbol">=</a> <a id="3950" href="Text.Pretty.Core.html#2202" class="Module">Block</a> <a id="3956" href="Text.Pretty.Core.html#3894" class="Bound">y</a>

    <a id="append.blockx"></a><a id="3963" href="Text.Pretty.Core.html#3963" class="Function">blockx</a> <a id="3970" class="Symbol">=</a> <a id="3972" href="Text.Pretty.Core.html#2250" class="Function">x.block</a> <a id="3980" class="Symbol">.</a><a id="3981" href="Data.Refinement.html#592" class="Field">value</a>
    <a id="append.blocky"></a><a id="3991" href="Text.Pretty.Core.html#3991" class="Function">blocky</a> <a id="3998" class="Symbol">=</a> <a id="4000" href="Text.Pretty.Core.html#2250" class="Field">y.block</a> <a id="4008" class="Symbol">.</a><a id="4009" href="Data.Refinement.html#592" class="Field">value</a>

    <a id="append.widthx"></a><a id="4020" href="Text.Pretty.Core.html#4020" class="Function">widthx</a> <a id="4027" class="Symbol">=</a> <a id="4029" href="Text.Pretty.Core.html#2416" class="Function">x.maxWidth</a> <a id="4040" class="Symbol">.</a><a id="4041" href="Data.Refinement.html#592" class="Field">value</a>
    <a id="append.widthy"></a><a id="4051" href="Text.Pretty.Core.html#4051" class="Function">widthy</a> <a id="4058" class="Symbol">=</a> <a id="4060" href="Text.Pretty.Core.html#2416" class="Field">y.maxWidth</a> <a id="4071" class="Symbol">.</a><a id="4072" href="Data.Refinement.html#592" class="Field">value</a>

    <a id="append.lastx"></a><a id="4083" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="4089" class="Symbol">=</a> <a id="4091" href="Text.Pretty.Core.html#2335" class="Function">x.last</a> <a id="4098" class="Symbol">.</a><a id="4099" href="Data.Refinement.html#592" class="Field">value</a>
    <a id="append.lasty"></a><a id="4109" href="Text.Pretty.Core.html#4109" class="Function">lasty</a> <a id="4115" class="Symbol">=</a> <a id="4117" href="Text.Pretty.Core.html#2335" class="Field">y.last</a> <a id="4124" class="Symbol">.</a><a id="4125" href="Data.Refinement.html#592" class="Field">value</a>

    <a id="append.height"></a><a id="4136" href="Text.Pretty.Core.html#4136" class="Function">height</a> <a id="4143" class="Symbol">:</a> <a id="4145" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
    <a id="4151" href="Text.Pretty.Core.html#4136" class="Function">height</a> <a id="4158" class="Symbol">=</a> <a id="4160" class="Symbol">(</a><a id="4161" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a> <a id="4165" href="Function.Base.html#3938" class="Function Operator">on</a> <a id="4168" href="Text.Pretty.Core.html#2232" class="Field">Block.height</a><a id="4180" class="Symbol">)</a> <a id="4182" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="4184" href="Text.Pretty.Core.html#3894" class="Bound">y</a>

    <a id="append.lastWidth"></a><a id="4191" href="Text.Pretty.Core.html#4191" class="Function">lastWidth</a> <a id="4201" class="Symbol">:</a> <a id="4203" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
    <a id="4209" href="Text.Pretty.Core.html#4191" class="Function">lastWidth</a> <a id="4219" class="Symbol">=</a> <a id="4221" class="Symbol">(</a><a id="4222" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a> <a id="4226" href="Function.Base.html#3938" class="Function Operator">on</a> <a id="4229" href="Text.Pretty.Core.html#2317" class="Field">Block.lastWidth</a><a id="4244" class="Symbol">)</a> <a id="4246" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="4248" href="Text.Pretty.Core.html#3894" class="Bound">y</a>

    <a id="append.pad"></a><a id="4255" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="4259" class="Symbol">:</a> <a id="4261" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="4267" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
    <a id="4278" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="4282" class="Keyword">with</a> <a id="4287" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a>
    <a id="4303" class="Symbol">...</a> <a id="4307" class="Symbol">|</a> <a id="4309" class="Number">0</a> <a id="4311" class="Symbol">=</a> <a id="4313" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>
    <a id="4325" class="CatchallClause Symbol">...</a><a id="4328" class="CatchallClause"> </a><a id="4329" class="CatchallClause Symbol">|</a><a id="4330" class="CatchallClause"> </a><a id="4331" href="Text.Pretty.Core.html#4331" class="CatchallClause Bound">l</a> <a id="4333" class="Symbol">=</a> <a id="4335" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="4340" class="Symbol">(</a><a id="4341" href="Data.String.Base.html#2000" class="Function">replicate</a> <a id="4351" href="Text.Pretty.Core.html#4331" class="Bound">l</a> <a id="4353" class="String">&#39; &#39;</a><a id="4356" class="Symbol">)</a>

    <a id="append.size-pad"></a><a id="4363" href="Text.Pretty.Core.html#4363" class="Function">size-pad</a> <a id="4372" class="Symbol">:</a> <a id="4374" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="4381" href="Data.String.Base.html#1949" class="Function">length</a> <a id="4388" class="Number">0</a> <a id="4390" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="4394" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="4396" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a>
    <a id="4412" href="Text.Pretty.Core.html#4363" class="Function">size-pad</a> <a id="4421" class="Keyword">with</a> <a id="4426" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a>
    <a id="4442" class="Symbol">...</a> <a id="4446" class="Symbol">|</a> <a id="4448" class="Number">0</a>         <a id="4458" class="Symbol">=</a> <a id="4460" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
    <a id="4469" class="Symbol">...</a> <a id="4473" class="Symbol">|</a> <a id="4475" href="Text.Pretty.Core.html#4475" class="Bound">l</a><a id="4476" class="Symbol">@(</a><a id="4478" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="4482" class="Symbol">_)</a> <a id="4485" class="Symbol">=</a> <a id="4487" href="Data.String.Unsafe.html#1236" class="Function">length-replicate</a> <a id="4504" href="Text.Pretty.Core.html#4475" class="Bound">l</a>

    <a id="append.indent"></a><a id="4511" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="4518" class="Symbol">:</a> <a id="4520" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="4526" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="4533" class="Symbol">→</a> <a id="4535" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="4542" class="Symbol">→</a> <a id="4544" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
    <a id="4555" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="4562" class="Symbol">=</a> <a id="4564" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="4571" href="Data.String.Base.html#1885" class="Function Operator">_++_</a> <a id="4576" href="Function.Base.html#615" class="Function">id</a>

    <a id="append.size-indent"></a><a id="4584" href="Text.Pretty.Core.html#4584" class="Function">size-indent</a> <a id="4596" class="Symbol">:</a> <a id="4598" class="Symbol">∀</a> <a id="4600" href="Text.Pretty.Core.html#4600" class="Bound">ma</a> <a id="4603" href="Text.Pretty.Core.html#4603" class="Bound">str</a> <a id="4607" class="Symbol">→</a> <a id="4609" href="Data.String.Base.html#1949" class="Function">length</a> <a id="4616" class="Symbol">(</a><a id="4617" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="4624" href="Text.Pretty.Core.html#4600" class="Bound">ma</a> <a id="4627" href="Text.Pretty.Core.html#4603" class="Bound">str</a><a id="4630" class="Symbol">)</a>
                <a id="4648" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="4650" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="4657" href="Data.String.Base.html#1949" class="Function">length</a> <a id="4664" class="Number">0</a> <a id="4666" href="Text.Pretty.Core.html#4600" class="Bound">ma</a> <a id="4669" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="4671" href="Data.String.Base.html#1949" class="Function">length</a> <a id="4678" href="Text.Pretty.Core.html#4603" class="Bound">str</a>
    <a id="4686" href="Text.Pretty.Core.html#4584" class="Function">size-indent</a> <a id="4698" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>    <a id="4709" href="Text.Pretty.Core.html#4709" class="Bound">str</a> <a id="4713" class="Symbol">=</a> <a id="4715" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
    <a id="4724" href="Text.Pretty.Core.html#4584" class="Function">size-indent</a> <a id="4736" class="Symbol">(</a><a id="4737" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="4742" href="Text.Pretty.Core.html#4742" class="Bound">pad</a><a id="4745" class="Symbol">)</a> <a id="4747" href="Text.Pretty.Core.html#4747" class="Bound">str</a> <a id="4751" class="Symbol">=</a> <a id="4753" href="Data.String.Unsafe.html#911" class="Function">length-++</a> <a id="4763" href="Text.Pretty.Core.html#4742" class="Bound">pad</a> <a id="4767" href="Text.Pretty.Core.html#4747" class="Bound">str</a>

    <a id="append.indents"></a><a id="4776" href="Text.Pretty.Core.html#4776" class="Function">indents</a> <a id="4784" class="Symbol">:</a> <a id="4786" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="4792" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="4799" class="Symbol">→</a> <a id="4801" href="Data.Tree.Binary.html#620" class="Datatype">Tree</a> <a id="4806" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="4813" class="Symbol">→</a> <a id="4815" href="Data.Tree.Binary.html#620" class="Datatype">Tree</a> <a id="4820" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
    <a id="4831" href="Text.Pretty.Core.html#4776" class="Function">indents</a> <a id="4839" class="Symbol">=</a> <a id="4841" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="4848" class="Symbol">(</a><a id="4849" href="Data.Tree.Binary.html#706" class="Function">Tree.map</a> <a id="4858" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="4860" href="Data.String.Base.html#1885" class="Function Operator">_++_</a><a id="4864" class="Symbol">)</a> <a id="4866" href="Function.Base.html#615" class="Function">id</a>

    <a id="append.size-indents"></a><a id="4874" href="Text.Pretty.Core.html#4874" class="Function">size-indents</a> <a id="4887" class="Symbol">:</a> <a id="4889" class="Symbol">∀</a> <a id="4891" href="Text.Pretty.Core.html#4891" class="Bound">ma</a> <a id="4894" href="Text.Pretty.Core.html#4894" class="Bound">t</a> <a id="4896" class="Symbol">→</a> <a id="4898" href="Data.Tree.Binary.html#817" class="Function">Tree.size</a> <a id="4908" class="Symbol">(</a><a id="4909" href="Text.Pretty.Core.html#4776" class="Function">indents</a> <a id="4917" href="Text.Pretty.Core.html#4891" class="Bound">ma</a> <a id="4920" href="Text.Pretty.Core.html#4894" class="Bound">t</a><a id="4921" class="Symbol">)</a> <a id="4923" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="4925" href="Data.Tree.Binary.html#817" class="Function">Tree.size</a> <a id="4935" href="Text.Pretty.Core.html#4894" class="Bound">t</a>
    <a id="4941" href="Text.Pretty.Core.html#4874" class="Function">size-indents</a> <a id="4954" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>    <a id="4965" href="Text.Pretty.Core.html#4965" class="Bound">t</a> <a id="4967" class="Symbol">=</a> <a id="4969" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
    <a id="4978" href="Text.Pretty.Core.html#4874" class="Function">size-indents</a> <a id="4991" class="Symbol">(</a><a id="4992" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="4997" href="Text.Pretty.Core.html#4997" class="Bound">pad</a><a id="5000" class="Symbol">)</a> <a id="5002" href="Text.Pretty.Core.html#5002" class="Bound">t</a> <a id="5004" class="Symbol">=</a> <a id="5006" href="Data.Tree.Binary.Properties.html#533" class="Function">Treeₚ.size-map</a> <a id="5021" class="Symbol">(</a><a id="5022" href="Text.Pretty.Core.html#4997" class="Bound">pad</a> <a id="5026" href="Data.String.Base.html#1885" class="Function Operator">++_</a><a id="5029" class="Symbol">)</a> <a id="5031" href="Text.Pretty.Core.html#5002" class="Bound">t</a>

    <a id="append.unfold-indents"></a><a id="5038" href="Text.Pretty.Core.html#5038" class="Function">unfold-indents</a> <a id="5053" class="Symbol">:</a> <a id="5055" class="Symbol">∀</a> <a id="5057" href="Text.Pretty.Core.html#5057" class="Bound">ma</a> <a id="5060" href="Text.Pretty.Core.html#5060" class="Bound">t</a> <a id="5062" class="Symbol">→</a> <a id="5064" href="Text.Pretty.Core.html#4776" class="Function">indents</a> <a id="5072" href="Text.Pretty.Core.html#5057" class="Bound">ma</a> <a id="5075" href="Text.Pretty.Core.html#5060" class="Bound">t</a> <a id="5077" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="5079" href="Data.Tree.Binary.html#706" class="Function">Tree.map</a> <a id="5088" class="Symbol">(</a><a id="5089" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="5096" href="Text.Pretty.Core.html#5057" class="Bound">ma</a><a id="5098" class="Symbol">)</a> <a id="5100" href="Text.Pretty.Core.html#5060" class="Bound">t</a>
    <a id="5106" href="Text.Pretty.Core.html#5038" class="Function">unfold-indents</a> <a id="5121" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>    <a id="5132" href="Text.Pretty.Core.html#5132" class="Bound">t</a> <a id="5134" class="Symbol">=</a> <a id="5136" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="5140" class="Symbol">(</a><a id="5141" href="Data.Tree.Binary.Properties.html#702" class="Function">Treeₚ.map-id</a> <a id="5154" href="Text.Pretty.Core.html#5132" class="Bound">t</a><a id="5155" class="Symbol">)</a>
    <a id="5161" href="Text.Pretty.Core.html#5038" class="Function">unfold-indents</a> <a id="5176" class="Symbol">(</a><a id="5177" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="5182" href="Text.Pretty.Core.html#5182" class="Bound">pad</a><a id="5185" class="Symbol">)</a> <a id="5187" href="Text.Pretty.Core.html#5187" class="Bound">t</a> <a id="5189" class="Symbol">=</a> <a id="5191" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

    <a id="append.vContent"></a><a id="5201" href="Text.Pretty.Core.html#5201" class="Function">vContent</a> <a id="5210" class="Symbol">:</a> <a id="5212" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="5220" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5222" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
    <a id="5233" href="Text.Pretty.Core.html#5201" class="Function">vContent</a> <a id="5242" class="Keyword">with</a> <a id="5247" href="Text.Pretty.Core.html#3991" class="Function">blocky</a>
    <a id="5258" class="Symbol">...</a> <a id="5262" class="Symbol">|</a> <a id="5264" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>        <a id="5279" class="Symbol">=</a> <a id="5281" href="Text.Pretty.Core.html#3963" class="Function">blockx</a>
                         <a id="5313" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5315" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="5321" href="Data.String.Base.html#1885" class="Function Operator">++</a> <a id="5324" href="Text.Pretty.Core.html#4109" class="Function">lasty</a>
    <a id="5334" class="Symbol">...</a> <a id="5338" class="Symbol">|</a> <a id="5340" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="5345" class="Symbol">(</a><a id="5346" href="Text.Pretty.Core.html#5346" class="Bound">hd</a> <a id="5349" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5351" href="Text.Pretty.Core.html#5351" class="Bound">tl</a><a id="5353" class="Symbol">)</a> <a id="5355" class="Symbol">=</a> <a id="5357" href="Text.Pretty.Core.html#3005" class="Function">node?</a>
      <a id="5369" class="Comment">{-,--------------,-}</a>
      <a id="5396" class="Comment">{-|-}</a> <a id="5402" href="Text.Pretty.Core.html#3963" class="Function">blockx</a>   <a id="5411" class="Comment">{-|-}</a>
      <a id="5423" class="Comment">{-|-}</a>          <a id="5438" class="Comment">{-&#39;---,-}</a>    <a id="5451" class="Comment">{-,------------------,-}</a>
      <a id="5482" class="Comment">{-|-}</a> <a id="5488" class="Symbol">(</a><a id="5489" href="Text.Pretty.Core.html#4083" class="Function">lastx</a>       <a id="5501" class="Comment">{-|-}</a> <a id="5507" href="Data.String.Base.html#1885" class="Function Operator">++</a> <a id="5510" class="Comment">{-|-}</a>  <a id="5517" href="Text.Pretty.Core.html#5346" class="Bound">hd</a><a id="5519" class="Symbol">)</a>         <a id="5529" class="Comment">{-|-}</a>
      <a id="5541" class="Comment">{-&#39;------------------&#39;-}</a>    <a id="5569" class="Comment">{-|-}</a>              <a id="5588" class="Comment">{-|-}</a>
      <a id="5600" class="Symbol">(</a><a id="5601" href="Text.Pretty.Core.html#4776" class="Function">indents</a> <a id="5609" href="Text.Pretty.Core.html#4255" class="Function">pad</a>                <a id="5628" class="Comment">{-|-}</a>  <a id="5635" href="Text.Pretty.Core.html#5351" class="Bound">tl</a><a id="5637" class="Symbol">)</a>    <a id="5642" class="Comment">{-,----&#39;-}</a>
      <a id="5659" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5661" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="5668" href="Text.Pretty.Core.html#4255" class="Function">pad</a>                <a id="5687" class="Comment">{-|-}</a> <a id="5693" href="Text.Pretty.Core.html#4109" class="Function">lasty</a>   <a id="5701" class="Comment">{-|-}</a>
                                  <a id="5741" class="Comment">{-&#39;-------------&#39;-}</a>

    <a id="append.vBlock"></a><a id="5766" href="Text.Pretty.Core.html#5766" class="Function">vBlock</a> <a id="5773" class="Symbol">=</a> <a id="5775" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="5781" href="Text.Pretty.Core.html#5201" class="Function">vContent</a>
    <a id="append.vLast"></a><a id="5794" href="Text.Pretty.Core.html#5794" class="Function">vLast</a>  <a id="5801" class="Symbol">=</a> <a id="5803" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="5809" href="Text.Pretty.Core.html#5201" class="Function">vContent</a>

    <a id="append.isBlock"></a><a id="5823" href="Text.Pretty.Core.html#5823" class="Function">isBlock</a> <a id="5831" class="Symbol">:</a> <a id="5833" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="5838" href="Text.Pretty.Core.html#3963" class="Function">blockx</a> <a id="5845" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="5847" href="Text.Pretty.Core.html#2232" class="Function">x.height</a> <a id="5856" class="Symbol">→</a> <a id="5858" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="5863" href="Text.Pretty.Core.html#3991" class="Function">blocky</a> <a id="5870" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="5872" href="Text.Pretty.Core.html#2232" class="Field">y.height</a> <a id="5881" class="Symbol">→</a>
              <a id="5897" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="5902" href="Text.Pretty.Core.html#5766" class="Function">vBlock</a> <a id="5909" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="5911" href="Text.Pretty.Core.html#4136" class="Function">height</a>
    <a id="5922" href="Text.Pretty.Core.html#5823" class="Function">isBlock</a> <a id="5930" href="Text.Pretty.Core.html#5930" class="Bound">∣x∣</a> <a id="5934" href="Text.Pretty.Core.html#5934" class="Bound">∣y∣</a> <a id="5938" class="Keyword">with</a> <a id="5943" href="Text.Pretty.Core.html#3991" class="Function">blocky</a>
    <a id="5954" class="Symbol">...</a> <a id="5958" class="Symbol">|</a> <a id="5960" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>        <a id="5975" class="Symbol">=</a> <a id="5977" href="Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
      <a id="5989" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="5994" href="Text.Pretty.Core.html#3963" class="Function">blockx</a>         <a id="6009" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="6012" class="Bound">∣x∣</a> <a id="6016" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="6024" href="Text.Pretty.Core.html#2232" class="Function">x.height</a>            <a id="6044" href="Relation.Binary.PropositionalEquality.Core.html#2719" class="Function Operator">≡˘⟨</a> <a id="6048" href="Data.Nat.Properties.html#12651" class="Function">+-identityʳ</a> <a id="6060" href="Text.Pretty.Core.html#2232" class="Function">x.height</a> <a id="6069" href="Relation.Binary.PropositionalEquality.Core.html#2719" class="Function Operator">⟩</a>
      <a id="6077" href="Text.Pretty.Core.html#2232" class="Function">x.height</a> <a id="6086" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="6088" class="Number">0</a>        <a id="6097" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="6100" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="6105" class="Symbol">(_</a> <a id="6108" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+_</a><a id="6110" class="Symbol">)</a> <a id="6112" class="Bound">∣y∣</a> <a id="6116" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="6124" href="Text.Pretty.Core.html#2232" class="Function">x.height</a> <a id="6133" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="6135" href="Text.Pretty.Core.html#2232" class="Field">y.height</a> <a id="6144" href="Relation.Binary.PropositionalEquality.Core.html#2812" class="Function Operator">∎</a> <a id="6146" class="Keyword">where</a> <a id="6152" class="Keyword">open</a> <a id="6157" href="Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">≡-Reasoning</a>
    <a id="6173" class="Symbol">...</a> <a id="6177" class="Symbol">|</a> <a id="6179" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="6184" class="Symbol">(</a><a id="6185" href="Text.Pretty.Core.html#6185" class="Bound">hd</a> <a id="6188" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6190" href="Text.Pretty.Core.html#6190" class="Bound">tl</a><a id="6192" class="Symbol">)</a> <a id="6194" class="Symbol">=</a> <a id="6196" href="Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
      <a id="6208" href="Text.Pretty.Core.html#6617" class="Function">∣node∣</a>                          <a id="6240" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="6243" href="Text.Pretty.Core.html#3151" class="Function">∣node?∣</a> <a id="6251" href="Text.Pretty.Core.html#3963" class="Function">blockx</a> <a id="6258" href="Text.Pretty.Core.html#6519" class="Function">middle</a> <a id="6265" href="Text.Pretty.Core.html#6548" class="Function">rest</a> <a id="6270" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="6278" href="Text.Pretty.Core.html#6490" class="Function">∣blockx∣</a> <a id="6287" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="6289" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="6293" class="Symbol">(</a><a id="6294" href="Data.Tree.Binary.html#817" class="Function">Tree.size</a> <a id="6304" href="Text.Pretty.Core.html#6548" class="Function">rest</a><a id="6308" class="Symbol">)</a> <a id="6310" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="6313" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="6318" class="Symbol">((</a><a id="6320" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="6325" href="Text.Pretty.Core.html#3963" class="Function">blockx</a> <a id="6332" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+_</a><a id="6334" class="Symbol">)</a> <a id="6336" href="Function.Base.html#3193" class="Function Operator">∘′</a> <a id="6339" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="6342" class="Symbol">)</a> <a id="6344" href="Text.Pretty.Core.html#6580" class="Function">∣rest∣</a> <a id="6351" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="6359" href="Text.Pretty.Core.html#6490" class="Function">∣blockx∣</a> <a id="6368" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="6370" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="6374" class="Symbol">(</a><a id="6375" href="Data.Tree.Binary.html#817" class="Function">Tree.size</a> <a id="6385" href="Text.Pretty.Core.html#6190" class="Bound">tl</a><a id="6387" class="Symbol">)</a>   <a id="6391" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="6394" href="Relation.Binary.PropositionalEquality.html#1531" class="Function">cong₂</a> <a id="6400" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a> <a id="6404" class="Bound">∣x∣</a> <a id="6408" class="Bound">∣y∣</a> <a id="6412" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="6420" href="Text.Pretty.Core.html#2232" class="Function">x.height</a> <a id="6429" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="6431" href="Text.Pretty.Core.html#2232" class="Field">y.height</a>             <a id="6452" href="Relation.Binary.PropositionalEquality.Core.html#2812" class="Function Operator">∎</a> <a id="6454" class="Keyword">where</a>

      <a id="6467" class="Keyword">open</a> <a id="6472" href="Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">≡-Reasoning</a>
      <a id="6490" href="Text.Pretty.Core.html#6490" class="Function">∣blockx∣</a> <a id="6499" class="Symbol">=</a> <a id="6501" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="6506" href="Text.Pretty.Core.html#3963" class="Function">blockx</a>
      <a id="6519" href="Text.Pretty.Core.html#6519" class="Function">middle</a>   <a id="6528" class="Symbol">=</a> <a id="6530" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="6536" href="Data.String.Base.html#1885" class="Function Operator">++</a> <a id="6539" href="Text.Pretty.Core.html#6185" class="Bound">hd</a>
      <a id="6548" href="Text.Pretty.Core.html#6548" class="Function">rest</a>     <a id="6557" class="Symbol">=</a> <a id="6559" href="Text.Pretty.Core.html#4776" class="Function">indents</a> <a id="6567" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="6571" href="Text.Pretty.Core.html#6190" class="Bound">tl</a>
      <a id="6580" href="Text.Pretty.Core.html#6580" class="Function">∣rest∣</a>   <a id="6589" class="Symbol">=</a> <a id="6591" href="Text.Pretty.Core.html#4874" class="Function">size-indents</a> <a id="6604" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="6608" href="Text.Pretty.Core.html#6190" class="Bound">tl</a>
      <a id="6617" href="Text.Pretty.Core.html#6617" class="Function">∣node∣</a>   <a id="6626" class="Symbol">=</a> <a id="6628" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="6633" class="Symbol">(</a><a id="6634" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="6640" href="Text.Pretty.Core.html#3963" class="Function">blockx</a> <a id="6647" href="Text.Pretty.Core.html#6519" class="Function">middle</a> <a id="6654" href="Text.Pretty.Core.html#6548" class="Function">rest</a><a id="6658" class="Symbol">)</a>

    <a id="append.block"></a><a id="6665" href="Text.Pretty.Core.html#6665" class="Function">block</a> <a id="6671" class="Symbol">:</a> <a id="6673" href="Data.Refinement.html#869" class="Function">[</a> <a id="6675" href="Text.Pretty.Core.html#6675" class="Bound">xs</a> <a id="6678" href="Data.Refinement.html#869" class="Function">∈</a> <a id="6680" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="6688" href="Data.Refinement.html#869" class="Function">∣</a> <a id="6690" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="6695" href="Text.Pretty.Core.html#6675" class="Bound">xs</a> <a id="6698" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="6700" href="Text.Pretty.Core.html#4136" class="Function">height</a> <a id="6707" href="Data.Refinement.html#869" class="Function">]</a>
    <a id="6713" href="Text.Pretty.Core.html#6665" class="Function">block</a> <a id="6719" class="Symbol">.</a><a id="6720" href="Data.Refinement.html#592" class="Field">value</a> <a id="6726" class="Symbol">=</a> <a id="6728" href="Text.Pretty.Core.html#5766" class="Function">vBlock</a>
    <a id="6739" href="Text.Pretty.Core.html#6665" class="Function">block</a> <a id="6745" class="Symbol">.</a><a id="6746" href="Data.Refinement.html#610" class="Field">proof</a> <a id="6752" class="Symbol">=</a> <a id="6754" class="Symbol">⦇</a> <a id="6756" href="Text.Pretty.Core.html#5823" class="Function">isBlock</a> <a id="6764" class="Symbol">(</a><a id="6765" href="Text.Pretty.Core.html#2250" class="Field">Block.block</a> <a id="6777" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="6779" class="Symbol">.</a><a id="6780" href="Data.Refinement.html#610" class="Field">proof</a><a id="6785" class="Symbol">)</a> <a id="6787" class="Symbol">(</a><a id="6788" href="Text.Pretty.Core.html#2250" class="Field">Block.block</a> <a id="6800" href="Text.Pretty.Core.html#3894" class="Bound">y</a> <a id="6802" class="Symbol">.</a><a id="6803" href="Data.Refinement.html#610" class="Field">proof</a><a id="6808" class="Symbol">)</a> <a id="6810" class="Symbol">⦈</a>
      <a id="6818" class="Keyword">where</a> <a id="6824" class="Keyword">open</a> <a id="6829" href="Data.Erased.html" class="Module">Erased</a>

    <a id="append.isLastLine"></a><a id="6841" href="Text.Pretty.Core.html#6841" class="Function">isLastLine</a> <a id="6852" class="Symbol">:</a> <a id="6854" href="Data.String.Base.html#1949" class="Function">length</a> <a id="6861" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="6867" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="6869" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="6881" class="Symbol">→</a>
                 <a id="6900" href="Data.String.Base.html#1949" class="Function">length</a> <a id="6907" href="Text.Pretty.Core.html#4109" class="Function">lasty</a> <a id="6913" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="6915" href="Text.Pretty.Core.html#2317" class="Field">y.lastWidth</a> <a id="6927" class="Symbol">→</a>
                 <a id="6946" href="Data.String.Base.html#1949" class="Function">length</a> <a id="6953" href="Text.Pretty.Core.html#5794" class="Function">vLast</a> <a id="6959" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="6961" href="Text.Pretty.Core.html#4191" class="Function">lastWidth</a>
    <a id="6975" href="Text.Pretty.Core.html#6841" class="Function">isLastLine</a> <a id="6986" href="Text.Pretty.Core.html#6986" class="Bound">∣x∣</a> <a id="6990" href="Text.Pretty.Core.html#6990" class="Bound">∣y∣</a> <a id="6994" class="Keyword">with</a> <a id="6999" href="Text.Pretty.Core.html#3991" class="Function">blocky</a>
    <a id="7010" class="Symbol">...</a> <a id="7014" class="Symbol">|</a> <a id="7016" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>        <a id="7031" class="Symbol">=</a> <a id="7033" href="Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
      <a id="7045" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7052" class="Symbol">(</a><a id="7053" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="7059" href="Data.String.Base.html#1885" class="Function Operator">++</a> <a id="7062" href="Text.Pretty.Core.html#4109" class="Function">lasty</a><a id="7067" class="Symbol">)</a>       <a id="7075" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="7078" href="Data.String.Unsafe.html#911" class="Function">length-++</a> <a id="7088" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="7094" href="Text.Pretty.Core.html#4109" class="Function">lasty</a> <a id="7100" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="7108" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7115" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="7121" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="7123" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7130" href="Text.Pretty.Core.html#4109" class="Function">lasty</a>   <a id="7138" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="7141" href="Relation.Binary.PropositionalEquality.html#1531" class="Function">cong₂</a> <a id="7147" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a> <a id="7151" class="Bound">∣x∣</a> <a id="7155" class="Bound">∣y∣</a> <a id="7159" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="7167" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="7179" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="7181" href="Text.Pretty.Core.html#2317" class="Field">y.lastWidth</a>     <a id="7197" href="Relation.Binary.PropositionalEquality.Core.html#2812" class="Function Operator">∎</a> <a id="7199" class="Keyword">where</a> <a id="7205" class="Keyword">open</a> <a id="7210" href="Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">≡-Reasoning</a>
    <a id="7226" class="Symbol">...</a> <a id="7230" class="Symbol">|</a> <a id="7232" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="7237" class="Symbol">(</a><a id="7238" href="Text.Pretty.Core.html#7238" class="Bound">hd</a> <a id="7241" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7243" href="Text.Pretty.Core.html#7243" class="Bound">tl</a><a id="7245" class="Symbol">)</a> <a id="7247" class="Symbol">=</a> <a id="7249" href="Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
      <a id="7261" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7268" class="Symbol">(</a><a id="7269" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="7276" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="7280" href="Text.Pretty.Core.html#4109" class="Function">lasty</a><a id="7285" class="Symbol">)</a>          <a id="7296" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="7299" href="Text.Pretty.Core.html#4584" class="Function">size-indent</a> <a id="7311" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="7315" href="Text.Pretty.Core.html#4109" class="Function">lasty</a> <a id="7321" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="7329" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="7336" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7343" class="Number">0</a> <a id="7345" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="7349" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="7351" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7358" href="Text.Pretty.Core.html#4109" class="Function">lasty</a> <a id="7364" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="7367" href="Relation.Binary.PropositionalEquality.html#1531" class="Function">cong₂</a> <a id="7373" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a> <a id="7377" href="Text.Pretty.Core.html#4363" class="Function">size-pad</a> <a id="7386" class="Bound">∣y∣</a> <a id="7390" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="7398" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="7410" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="7412" href="Text.Pretty.Core.html#2317" class="Field">y.lastWidth</a>          <a id="7433" href="Relation.Binary.PropositionalEquality.Core.html#2812" class="Function Operator">∎</a> <a id="7435" class="Keyword">where</a> <a id="7441" class="Keyword">open</a> <a id="7446" href="Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">≡-Reasoning</a>

    <a id="append.last"></a><a id="7463" href="Text.Pretty.Core.html#7463" class="Function">last</a> <a id="7468" class="Symbol">:</a> <a id="7470" href="Data.Refinement.html#869" class="Function">[</a> <a id="7472" href="Text.Pretty.Core.html#7472" class="Bound">s</a> <a id="7474" href="Data.Refinement.html#869" class="Function">∈</a> <a id="7476" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="7483" href="Data.Refinement.html#869" class="Function">∣</a> <a id="7485" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7492" href="Text.Pretty.Core.html#7472" class="Bound">s</a> <a id="7494" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="7496" href="Text.Pretty.Core.html#4191" class="Function">lastWidth</a> <a id="7506" href="Data.Refinement.html#869" class="Function">]</a>
    <a id="7512" href="Text.Pretty.Core.html#7463" class="Function">last</a> <a id="7517" class="Symbol">.</a><a id="7518" href="Data.Refinement.html#592" class="Field">value</a> <a id="7524" class="Symbol">=</a> <a id="7526" href="Text.Pretty.Core.html#5794" class="Function">vLast</a>
    <a id="7536" href="Text.Pretty.Core.html#7463" class="Function">last</a> <a id="7541" class="Symbol">.</a><a id="7542" href="Data.Refinement.html#610" class="Field">proof</a> <a id="7548" class="Symbol">=</a> <a id="7550" class="Symbol">⦇</a> <a id="7552" href="Text.Pretty.Core.html#6841" class="Function">isLastLine</a> <a id="7563" class="Symbol">(</a><a id="7564" href="Text.Pretty.Core.html#2335" class="Field">Block.last</a> <a id="7575" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="7577" class="Symbol">.</a><a id="7578" href="Data.Refinement.html#610" class="Field">proof</a><a id="7583" class="Symbol">)</a> <a id="7585" class="Symbol">(</a><a id="7586" href="Text.Pretty.Core.html#2335" class="Field">Block.last</a> <a id="7597" href="Text.Pretty.Core.html#3894" class="Bound">y</a> <a id="7599" class="Symbol">.</a><a id="7600" href="Data.Refinement.html#610" class="Field">proof</a><a id="7605" class="Symbol">)</a> <a id="7607" class="Symbol">⦈</a>
      <a id="7615" class="Keyword">where</a> <a id="7621" class="Keyword">open</a> <a id="7626" href="Data.Erased.html" class="Module">Erased</a>

    <a id="append.vMaxWidth"></a><a id="7638" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a> <a id="7648" class="Symbol">:</a> <a id="7650" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
    <a id="7656" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a> <a id="7666" class="Symbol">=</a> <a id="7668" href="Text.Pretty.Core.html#4020" class="Function">widthx</a> <a id="7675" href="Data.Nat.Base.html#1640" class="Function Operator">⊔</a> <a id="7677" class="Symbol">(</a><a id="7678" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="7690" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="7692" href="Text.Pretty.Core.html#4051" class="Function">widthy</a><a id="7698" class="Symbol">)</a>

    <a id="append.isMaxWidth₁"></a><a id="7705" href="Text.Pretty.Core.html#7705" class="Function">isMaxWidth₁</a> <a id="7717" class="Symbol">:</a> <a id="7719" href="Text.Pretty.Core.html#2317" class="Field">y.lastWidth</a> <a id="7731" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="7733" href="Text.Pretty.Core.html#4051" class="Function">widthy</a> <a id="7740" class="Symbol">→</a> <a id="7742" href="Text.Pretty.Core.html#4191" class="Function">lastWidth</a> <a id="7752" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="7754" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a>
    <a id="7768" href="Text.Pretty.Core.html#7705" class="Function">isMaxWidth₁</a> <a id="7780" href="Text.Pretty.Core.html#7780" class="Bound">p</a> <a id="7782" class="Symbol">=</a> <a id="7784" href="Relation.Binary.Reasoning.Base.Triple.html#2856" class="Function Operator">begin</a>
      <a id="7796" href="Text.Pretty.Core.html#4191" class="Function">lastWidth</a>            <a id="7817" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">≤⟨</a> <a id="7820" href="Data.Nat.Properties.html#17415" class="Function">+-monoʳ-≤</a> <a id="7830" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="7842" href="Text.Pretty.Core.html#7780" class="Bound">p</a> <a id="7844" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">⟩</a>
      <a id="7852" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="7864" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="7866" href="Text.Pretty.Core.html#4051" class="Function">widthy</a> <a id="7873" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">≤⟨</a> <a id="7876" href="Data.Nat.Properties.html#30467" class="Function">n≤m⊔n</a> <a id="7882" class="Symbol">_</a> <a id="7884" class="Symbol">_</a> <a id="7886" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">⟩</a>
      <a id="7894" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a>            <a id="7915" href="Relation.Binary.Reasoning.Base.Triple.html#4585" class="Function Operator">∎</a> <a id="7917" class="Keyword">where</a> <a id="7923" class="Keyword">open</a> <a id="7928" href="Data.Nat.Properties.html#11256" class="Module">≤-Reasoning</a>

    <a id="append.isMaxWidth₂"></a><a id="7945" href="Text.Pretty.Core.html#7945" class="Function">isMaxWidth₂</a> <a id="7957" class="Symbol">:</a> <a id="7959" href="Data.String.Base.html#1949" class="Function">length</a> <a id="7966" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="7972" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="7974" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="7986" class="Symbol">→</a>
                  <a id="8006" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="8018" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="8020" href="Text.Pretty.Core.html#4020" class="Function">widthx</a> <a id="8027" class="Symbol">→</a>
                  <a id="8047" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="8052" href="Text.Pretty.Core.html#4020" class="Function">widthx</a> <a id="8059" href="Text.Pretty.Core.html#3963" class="Function">blockx</a> <a id="8066" class="Symbol">→</a>
                  <a id="8086" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="8091" href="Text.Pretty.Core.html#4051" class="Function">widthy</a> <a id="8098" href="Text.Pretty.Core.html#3991" class="Function">blocky</a> <a id="8105" class="Symbol">→</a>
                  <a id="8125" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="8130" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a> <a id="8140" href="Text.Pretty.Core.html#5766" class="Function">vBlock</a>
    <a id="8151" href="Text.Pretty.Core.html#7945" class="Function">isMaxWidth₂</a> <a id="8163" href="Text.Pretty.Core.html#8163" class="Bound">∣x∣≡</a> <a id="8168" href="Text.Pretty.Core.html#8168" class="Bound">∣x∣≤</a> <a id="8173" href="Text.Pretty.Core.html#8173" class="Bound">∣xs∣</a> <a id="8178" href="Text.Pretty.Core.html#8178" class="Bound">∣ys∣</a> <a id="8183" class="Keyword">with</a> <a id="8188" href="Text.Pretty.Core.html#3991" class="Function">blocky</a>
    <a id="8199" class="Symbol">...</a> <a id="8203" class="Symbol">|</a> <a id="8205" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>        <a id="8220" class="Symbol">=</a> <a id="8222" href="Text.Pretty.Core.html#3314" class="Function">≤-Content</a> <a id="8232" class="Symbol">(</a><a id="8233" href="Data.Nat.Properties.html#30341" class="Function">m≤m⊔n</a> <a id="8239" class="Symbol">_</a> <a id="8241" class="Symbol">_)</a> <a id="8244" class="Bound">∣xs∣</a>
    <a id="8253" href="Text.Pretty.Core.html#7945" class="Function">isMaxWidth₂</a> <a id="8265" href="Text.Pretty.Core.html#8265" class="Bound">∣x∣≡</a> <a id="8270" href="Text.Pretty.Core.html#8270" class="Bound">∣x∣≤</a> <a id="8275" href="Text.Pretty.Core.html#8275" class="Bound">∣xs∣</a> <a id="8280" class="Symbol">(</a><a id="8281" href="Data.Maybe.Relation.Unary.All.html#1013" class="InductiveConstructor">just</a> <a id="8286" class="Symbol">(</a><a id="8287" href="Text.Pretty.Core.html#8287" class="Bound">∣hd∣</a> <a id="8292" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8294" href="Text.Pretty.Core.html#8294" class="Bound">∣tl∣</a><a id="8298" class="Symbol">))</a>
        <a id="8309" class="Symbol">|</a> <a id="8311" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="8316" class="Symbol">(</a><a id="8317" href="Text.Pretty.Core.html#8317" class="Bound">hd</a> <a id="8320" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8322" href="Text.Pretty.Core.html#8322" class="Bound">tl</a><a id="8324" class="Symbol">)</a> <a id="8326" class="Symbol">=</a>
      <a id="8334" href="Text.Pretty.Core.html#3511" class="Function">All≤-node?</a> <a id="8345" class="Symbol">(</a><a id="8346" href="Text.Pretty.Core.html#3314" class="Function">≤-Content</a> <a id="8356" class="Symbol">(</a><a id="8357" href="Data.Nat.Properties.html#30341" class="Function">m≤m⊔n</a> <a id="8363" class="Symbol">_</a> <a id="8365" class="Symbol">_)</a> <a id="8368" href="Text.Pretty.Core.html#8275" class="Bound">∣xs∣</a><a id="8372" class="Symbol">)</a>
                 <a id="8391" href="Text.Pretty.Core.html#8557" class="Function">middle</a>
                 <a id="8415" class="Symbol">(</a><a id="8416" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a> <a id="8422" class="Symbol">(</a><a id="8423" href="Data.Tree.Binary.Relation.Unary.All.html#500" class="Datatype">Allᵀ.All</a> <a id="8432" class="Symbol">_)</a> <a id="8435" class="Symbol">(</a><a id="8436" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="8440" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="8442" href="Text.Pretty.Core.html#5038" class="Function">unfold-indents</a> <a id="8457" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="8461" href="Text.Pretty.Core.html#8322" class="Bound">tl</a><a id="8463" class="Symbol">)</a>
                 <a id="8482" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="8484" href="Data.Tree.Binary.Relation.Unary.All.Properties.html#606" class="Function">Allᵀₚ.map⁺</a> <a id="8495" class="Symbol">(</a><a id="8496" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="8503" href="Text.Pretty.Core.html#4255" class="Function">pad</a><a id="8506" class="Symbol">)</a> <a id="8508" class="Symbol">(</a><a id="8509" href="Data.Tree.Binary.Relation.Unary.All.html#698" class="Function">Allᵀ.map</a> <a id="8518" class="Symbol">(</a><a id="8519" href="Text.Pretty.Core.html#8910" class="Function">indented</a> <a id="8528" class="Symbol">_)</a> <a id="8531" href="Text.Pretty.Core.html#8294" class="Bound">∣tl∣</a><a id="8535" class="Symbol">))</a>
      <a id="8544" class="Keyword">where</a>

      <a id="8557" href="Text.Pretty.Core.html#8557" class="Function">middle</a> <a id="8564" class="Symbol">:</a> <a id="8566" href="Data.String.Base.html#1949" class="Function">length</a> <a id="8573" class="Symbol">(</a><a id="8574" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="8580" href="Data.String.Base.html#1885" class="Function Operator">++</a> <a id="8583" href="Text.Pretty.Core.html#8317" class="Bound">hd</a><a id="8585" class="Symbol">)</a> <a id="8587" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="8589" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a>
      <a id="8605" href="Text.Pretty.Core.html#8557" class="Function">middle</a> <a id="8612" class="Symbol">=</a> <a id="8614" href="Relation.Binary.Reasoning.Base.Triple.html#2856" class="Function Operator">begin</a>
        <a id="8628" href="Data.String.Base.html#1949" class="Function">length</a> <a id="8635" class="Symbol">(</a><a id="8636" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="8642" href="Data.String.Base.html#1885" class="Function Operator">++</a> <a id="8645" href="Text.Pretty.Core.html#8317" class="Bound">hd</a><a id="8647" class="Symbol">)</a>     <a id="8653" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">≡⟨</a> <a id="8656" href="Data.String.Unsafe.html#911" class="Function">length-++</a> <a id="8666" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="8672" href="Text.Pretty.Core.html#8317" class="Bound">hd</a> <a id="8675" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">⟩</a>
        <a id="8685" href="Data.String.Base.html#1949" class="Function">length</a> <a id="8692" href="Text.Pretty.Core.html#4083" class="Function">lastx</a> <a id="8698" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="8700" href="Data.String.Base.html#1949" class="Function">length</a> <a id="8707" href="Text.Pretty.Core.html#8317" class="Bound">hd</a> <a id="8710" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">≡⟨</a> <a id="8713" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="8718" class="Symbol">(</a><a id="8719" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+</a> <a id="8722" class="Symbol">_)</a> <a id="8725" href="Text.Pretty.Core.html#8265" class="Bound">∣x∣≡</a> <a id="8730" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">⟩</a>
        <a id="8740" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="8752" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="8754" href="Data.String.Base.html#1949" class="Function">length</a> <a id="8761" href="Text.Pretty.Core.html#8317" class="Bound">hd</a>  <a id="8765" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">≤⟨</a> <a id="8768" href="Data.Nat.Properties.html#17415" class="Function">+-monoʳ-≤</a> <a id="8778" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="8790" href="Text.Pretty.Core.html#8287" class="Bound">∣hd∣</a> <a id="8795" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">⟩</a>
        <a id="8805" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="8817" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="8819" href="Text.Pretty.Core.html#4051" class="Function">widthy</a>     <a id="8830" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">≤⟨</a> <a id="8833" href="Data.Nat.Properties.html#30467" class="Function">n≤m⊔n</a> <a id="8839" class="Symbol">_</a> <a id="8841" class="Symbol">_</a> <a id="8843" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">⟩</a>
        <a id="8853" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a>                <a id="8878" href="Relation.Binary.Reasoning.Base.Triple.html#4585" class="Function Operator">∎</a> <a id="8880" class="Keyword">where</a> <a id="8886" class="Keyword">open</a> <a id="8891" href="Data.Nat.Properties.html#11256" class="Module">≤-Reasoning</a>

      <a id="8910" href="Text.Pretty.Core.html#8910" class="Function">indented</a> <a id="8919" class="Symbol">:</a> <a id="8921" class="Symbol">∀</a> <a id="8923" href="Text.Pretty.Core.html#8923" class="Bound">s</a> <a id="8925" class="Symbol">→</a> <a id="8927" href="Data.String.Base.html#1949" class="Function">length</a> <a id="8934" href="Text.Pretty.Core.html#8923" class="Bound">s</a> <a id="8936" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="8938" href="Text.Pretty.Core.html#4051" class="Function">widthy</a> <a id="8945" class="Symbol">→</a>
                 <a id="8964" href="Data.String.Base.html#1949" class="Function">length</a> <a id="8971" class="Symbol">(</a><a id="8972" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="8979" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="8983" href="Text.Pretty.Core.html#8923" class="Bound">s</a><a id="8984" class="Symbol">)</a> <a id="8986" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="8988" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a>
      <a id="9004" href="Text.Pretty.Core.html#8910" class="Function">indented</a> <a id="9013" href="Text.Pretty.Core.html#9013" class="Bound">s</a> <a id="9015" href="Text.Pretty.Core.html#9015" class="Bound">∣s∣</a> <a id="9019" class="Symbol">=</a> <a id="9021" href="Relation.Binary.Reasoning.Base.Triple.html#2856" class="Function Operator">begin</a>
        <a id="9035" href="Data.String.Base.html#1949" class="Function">length</a> <a id="9042" class="Symbol">(</a><a id="9043" href="Text.Pretty.Core.html#4511" class="Function">indent</a> <a id="9050" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="9054" href="Text.Pretty.Core.html#9013" class="Bound">s</a><a id="9055" class="Symbol">)</a>          <a id="9066" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">≡⟨</a> <a id="9069" href="Text.Pretty.Core.html#4584" class="Function">size-indent</a> <a id="9081" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="9085" href="Text.Pretty.Core.html#9013" class="Bound">s</a> <a id="9087" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">⟩</a>
        <a id="9097" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="9104" href="Data.String.Base.html#1949" class="Function">length</a> <a id="9111" class="Number">0</a> <a id="9113" href="Text.Pretty.Core.html#4255" class="Function">pad</a> <a id="9117" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="9119" href="Data.String.Base.html#1949" class="Function">length</a> <a id="9126" href="Text.Pretty.Core.html#9013" class="Bound">s</a> <a id="9128" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">≡⟨</a> <a id="9131" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="9136" class="Symbol">(</a><a id="9137" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+</a> <a id="9140" class="Symbol">_)</a> <a id="9143" href="Text.Pretty.Core.html#4363" class="Function">size-pad</a> <a id="9152" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">⟩</a>
        <a id="9162" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="9174" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="9176" href="Data.String.Base.html#1949" class="Function">length</a> <a id="9183" href="Text.Pretty.Core.html#9013" class="Bound">s</a>         <a id="9193" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">≤⟨</a> <a id="9196" href="Data.Nat.Properties.html#17415" class="Function">+-monoʳ-≤</a> <a id="9206" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="9218" href="Text.Pretty.Core.html#9015" class="Bound">∣s∣</a> <a id="9222" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">⟩</a>
        <a id="9232" href="Text.Pretty.Core.html#2317" class="Function">x.lastWidth</a> <a id="9244" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="9246" href="Text.Pretty.Core.html#4051" class="Function">widthy</a>           <a id="9263" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">≤⟨</a> <a id="9266" href="Data.Nat.Properties.html#30467" class="Function">n≤m⊔n</a> <a id="9272" class="Symbol">(</a><a id="9273" href="Text.Pretty.Core.html#4020" class="Function">widthx</a><a id="9279" class="Symbol">)</a> <a id="9281" class="Symbol">_</a> <a id="9283" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">⟩</a>
        <a id="9293" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a>                      <a id="9324" href="Relation.Binary.Reasoning.Base.Triple.html#4585" class="Function Operator">∎</a> <a id="9326" class="Keyword">where</a> <a id="9332" class="Keyword">open</a> <a id="9337" href="Data.Nat.Properties.html#11256" class="Module">≤-Reasoning</a>

    <a id="append.maxWidth"></a><a id="9354" href="Text.Pretty.Core.html#9354" class="Function">maxWidth</a> <a id="9363" class="Symbol">:</a> <a id="9365" href="Data.Refinement.html#869" class="Function">[</a> <a id="9367" href="Text.Pretty.Core.html#9367" class="Bound">n</a> <a id="9369" href="Data.Refinement.html#869" class="Function">∈</a> <a id="9371" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="9373" href="Data.Refinement.html#869" class="Function">∣</a> <a id="9375" href="Text.Pretty.Core.html#4191" class="Function">lastWidth</a> <a id="9385" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="9387" href="Text.Pretty.Core.html#9367" class="Bound">n</a> <a id="9389" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="9391" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="9396" href="Text.Pretty.Core.html#9367" class="Bound">n</a> <a id="9398" href="Text.Pretty.Core.html#5766" class="Function">vBlock</a> <a id="9405" href="Data.Refinement.html#869" class="Function">]</a>
    <a id="9411" href="Text.Pretty.Core.html#9354" class="Function">maxWidth</a> <a id="9420" class="Symbol">.</a><a id="9421" href="Data.Refinement.html#592" class="Field">value</a> <a id="9427" class="Symbol">=</a> <a id="9429" href="Text.Pretty.Core.html#7638" class="Function">vMaxWidth</a>
    <a id="9443" href="Text.Pretty.Core.html#9354" class="Function">maxWidth</a> <a id="9452" class="Symbol">.</a><a id="9453" href="Data.Refinement.html#610" class="Field">proof</a> <a id="9459" class="Symbol">=</a>
      <a id="9467" class="Symbol">⦇</a> <a id="9469" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a> <a id="9473" class="Symbol">⦇</a> <a id="9475" href="Text.Pretty.Core.html#7705" class="Function">isMaxWidth₁</a> <a id="9487" class="Symbol">(</a><a id="9488" href="Data.Erased.html#876" class="Function">map</a> <a id="9492" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="9498" class="Symbol">(</a><a id="9499" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="9514" href="Text.Pretty.Core.html#3894" class="Bound">y</a> <a id="9516" class="Symbol">.</a><a id="9517" href="Data.Refinement.html#610" class="Field">proof</a><a id="9522" class="Symbol">))</a> <a id="9525" class="Symbol">⦈</a>
            <a id="9539" class="Symbol">⦇</a> <a id="9541" href="Text.Pretty.Core.html#7945" class="Function">isMaxWidth₂</a> <a id="9553" class="Symbol">(</a><a id="9554" href="Text.Pretty.Core.html#2335" class="Field">Block.last</a> <a id="9565" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="9567" class="Symbol">.</a><a id="9568" href="Data.Refinement.html#610" class="Field">proof</a><a id="9573" class="Symbol">)</a>
                          <a id="9601" class="Symbol">(</a><a id="9602" href="Data.Erased.html#876" class="Function">map</a> <a id="9606" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="9612" class="Symbol">(</a><a id="9613" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="9628" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="9630" class="Symbol">.</a><a id="9631" href="Data.Refinement.html#610" class="Field">proof</a><a id="9636" class="Symbol">))</a>
                          <a id="9665" class="Symbol">(</a><a id="9666" href="Data.Erased.html#876" class="Function">map</a> <a id="9670" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="9676" class="Symbol">(</a><a id="9677" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="9692" href="Text.Pretty.Core.html#3892" class="Bound">x</a> <a id="9694" class="Symbol">.</a><a id="9695" href="Data.Refinement.html#610" class="Field">proof</a><a id="9700" class="Symbol">))</a>
                          <a id="9729" class="Symbol">(</a><a id="9730" href="Data.Erased.html#876" class="Function">map</a> <a id="9734" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="9740" class="Symbol">(</a><a id="9741" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="9756" href="Text.Pretty.Core.html#3894" class="Bound">y</a> <a id="9758" class="Symbol">.</a><a id="9759" href="Data.Refinement.html#610" class="Field">proof</a><a id="9764" class="Symbol">))</a>
            <a id="9779" class="Symbol">⦈</a>
      <a id="9787" class="Symbol">⦈</a> <a id="9789" class="Keyword">where</a> <a id="9795" class="Keyword">open</a> <a id="9800" href="Data.Erased.html" class="Module">Erased</a>

<a id="9808" class="Keyword">infixl</a> <a id="9815" class="Number">4</a> <a id="9817" href="Text.Pretty.Core.html#9822" class="Function Operator">_&lt;&gt;_</a>
<a id="_&lt;&gt;_"></a><a id="9822" href="Text.Pretty.Core.html#9822" class="Function Operator">_&lt;&gt;_</a> <a id="9827" class="Symbol">:</a> <a id="9829" href="Text.Pretty.Core.html#2202" class="Record">Block</a> <a id="9835" class="Symbol">→</a> <a id="9837" href="Text.Pretty.Core.html#2202" class="Record">Block</a> <a id="9843" class="Symbol">→</a> <a id="9845" href="Text.Pretty.Core.html#2202" class="Record">Block</a>
<a id="9851" href="Text.Pretty.Core.html#9851" class="Bound">x</a> <a id="9853" href="Text.Pretty.Core.html#9822" class="Function Operator">&lt;&gt;</a> <a id="9856" href="Text.Pretty.Core.html#9856" class="Bound">y</a> <a id="9858" class="Symbol">=</a> <a id="9860" class="Keyword">record</a> <a id="9867" class="Symbol">{</a> <a id="9869" href="Text.Pretty.Core.html#9869" class="Module">append</a> <a id="9876" href="Text.Pretty.Core.html#9851" class="Bound">x</a> <a id="9878" href="Text.Pretty.Core.html#9856" class="Bound">y</a> <a id="9880" class="Symbol">}</a>

<a id="9883" class="Comment">------------------------------------------------------------------------</a>
<a id="9956" class="Comment">-- Flush (introduces a new line)</a>

<a id="9990" class="Keyword">private</a>
  <a id="10000" class="Keyword">module</a> <a id="flush"></a><a id="10007" href="Text.Pretty.Core.html#10007" class="Module">flush</a> <a id="10013" class="Symbol">(</a><a id="10014" href="Text.Pretty.Core.html#10014" class="Bound">x</a> <a id="10016" class="Symbol">:</a> <a id="10018" href="Text.Pretty.Core.html#2202" class="Record">Block</a><a id="10023" class="Symbol">)</a> <a id="10025" class="Keyword">where</a>

    <a id="10036" class="Keyword">module</a> <a id="x"></a><a id="10043" href="Text.Pretty.Core.html#10043" class="Module">x</a> <a id="10045" class="Symbol">=</a> <a id="10047" href="Text.Pretty.Core.html#2202" class="Module">Block</a> <a id="10053" href="Text.Pretty.Core.html#10014" class="Bound">x</a>
    <a id="flush.blockx"></a><a id="10059" href="Text.Pretty.Core.html#10059" class="Function">blockx</a>  <a id="10067" class="Symbol">=</a> <a id="10069" href="Text.Pretty.Core.html#2250" class="Field">x.block</a> <a id="10077" class="Symbol">.</a><a id="10078" href="Data.Refinement.html#592" class="Field">value</a>
    <a id="flush.lastx"></a><a id="10088" href="Text.Pretty.Core.html#10088" class="Function">lastx</a>   <a id="10096" class="Symbol">=</a> <a id="10098" href="Text.Pretty.Core.html#2335" class="Field">x.last</a> <a id="10105" class="Symbol">.</a><a id="10106" href="Data.Refinement.html#592" class="Field">value</a>
    <a id="flush.widthx"></a><a id="10116" href="Text.Pretty.Core.html#10116" class="Function">widthx</a>  <a id="10124" class="Symbol">=</a> <a id="10126" href="Text.Pretty.Core.html#2416" class="Field">x.maxWidth</a> <a id="10137" class="Symbol">.</a><a id="10138" href="Data.Refinement.html#592" class="Field">value</a>
    <a id="flush.heightx"></a><a id="10148" href="Text.Pretty.Core.html#10148" class="Function">heightx</a> <a id="10156" class="Symbol">=</a> <a id="10158" href="Text.Pretty.Core.html#2232" class="Field">x.height</a>

    <a id="flush.height"></a><a id="10172" href="Text.Pretty.Core.html#10172" class="Function">height</a>    <a id="10182" class="Symbol">=</a> <a id="10184" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="10188" href="Text.Pretty.Core.html#10148" class="Function">heightx</a>
    <a id="flush.lastWidth"></a><a id="10200" href="Text.Pretty.Core.html#10200" class="Function">lastWidth</a> <a id="10210" class="Symbol">=</a> <a id="10212" class="Number">0</a>
    <a id="flush.vMaxWidth"></a><a id="10218" href="Text.Pretty.Core.html#10218" class="Function">vMaxWidth</a> <a id="10228" class="Symbol">=</a> <a id="10230" href="Text.Pretty.Core.html#10116" class="Function">widthx</a>

    <a id="flush.last"></a><a id="10242" href="Text.Pretty.Core.html#10242" class="Function">last</a> <a id="10247" class="Symbol">:</a> <a id="10249" href="Data.Refinement.html#869" class="Function">[</a> <a id="10251" href="Text.Pretty.Core.html#10251" class="Bound">s</a> <a id="10253" href="Data.Refinement.html#869" class="Function">∈</a> <a id="10255" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="10262" href="Data.Refinement.html#869" class="Function">∣</a> <a id="10264" href="Data.String.Base.html#1949" class="Function">length</a> <a id="10271" href="Text.Pretty.Core.html#10251" class="Bound">s</a> <a id="10273" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="10275" href="Text.Pretty.Core.html#10200" class="Function">lastWidth</a> <a id="10285" href="Data.Refinement.html#869" class="Function">]</a>
    <a id="10291" href="Text.Pretty.Core.html#10242" class="Function">last</a> <a id="10296" class="Symbol">=</a> <a id="10298" class="String">&quot;&quot;</a> <a id="10301" href="Data.Refinement.html#580" class="InductiveConstructor Operator">,</a> <a id="10303" class="Symbol">⦇</a> <a id="10305" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="10310" class="Symbol">⦈</a> <a id="10312" class="Keyword">where</a> <a id="10318" class="Keyword">open</a> <a id="10323" href="Data.Erased.html" class="Module">Erased</a>

    <a id="flush.vContent"></a><a id="10335" href="Text.Pretty.Core.html#10335" class="Function">vContent</a> <a id="10344" class="Symbol">=</a> <a id="10346" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="10352" href="Text.Pretty.Core.html#10059" class="Function">blockx</a> <a id="10359" href="Text.Pretty.Core.html#10088" class="Function">lastx</a> <a id="10365" href="Data.Tree.Binary.html#653" class="InductiveConstructor">leaf</a>

    <a id="flush.isBlock"></a><a id="10375" href="Text.Pretty.Core.html#10375" class="Function">isBlock</a> <a id="10383" class="Symbol">:</a> <a id="10385" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="10390" href="Text.Pretty.Core.html#10059" class="Function">blockx</a> <a id="10397" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="10399" href="Text.Pretty.Core.html#10148" class="Function">heightx</a> <a id="10407" class="Symbol">→</a> <a id="10409" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="10414" href="Text.Pretty.Core.html#10335" class="Function">vContent</a> <a id="10423" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a>  <a id="10426" href="Text.Pretty.Core.html#10172" class="Function">height</a>
    <a id="10437" href="Text.Pretty.Core.html#10375" class="Function">isBlock</a> <a id="10445" href="Text.Pretty.Core.html#10445" class="Bound">∣x∣</a> <a id="10449" class="Symbol">=</a> <a id="10451" href="Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
      <a id="10463" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="10468" href="Text.Pretty.Core.html#10335" class="Function">vContent</a>   <a id="10479" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="10482" href="Text.Pretty.Core.html#3151" class="Function">∣node?∣</a> <a id="10490" href="Text.Pretty.Core.html#10059" class="Function">blockx</a> <a id="10497" href="Text.Pretty.Core.html#10088" class="Function">lastx</a> <a id="10503" href="Data.Tree.Binary.html#653" class="InductiveConstructor">leaf</a> <a id="10508" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="10516" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="10521" href="Text.Pretty.Core.html#10059" class="Function">blockx</a> <a id="10528" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="10530" class="Number">1</a> <a id="10532" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="10535" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="10540" class="Symbol">(</a><a id="10541" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+</a> <a id="10544" class="Number">1</a><a id="10545" class="Symbol">)</a> <a id="10547" href="Text.Pretty.Core.html#10445" class="Bound">∣x∣</a> <a id="10551" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="10559" href="Text.Pretty.Core.html#10148" class="Function">heightx</a> <a id="10567" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="10569" class="Number">1</a>     <a id="10575" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">≡⟨</a> <a id="10578" href="Data.Nat.Properties.html#12828" class="Function">+-comm</a> <a id="10585" href="Text.Pretty.Core.html#10148" class="Function">heightx</a> <a id="10593" class="Number">1</a> <a id="10595" href="Relation.Binary.PropositionalEquality.Core.html#2634" class="Function Operator">⟩</a>
      <a id="10603" href="Text.Pretty.Core.html#10172" class="Function">height</a>          <a id="10619" href="Relation.Binary.PropositionalEquality.Core.html#2812" class="Function Operator">∎</a> <a id="10621" class="Keyword">where</a> <a id="10627" class="Keyword">open</a> <a id="10632" href="Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">≡-Reasoning</a>

    <a id="flush.block"></a><a id="10649" href="Text.Pretty.Core.html#10649" class="Function">block</a> <a id="10655" class="Symbol">:</a> <a id="10657" href="Data.Refinement.html#869" class="Function">[</a> <a id="10659" href="Text.Pretty.Core.html#10659" class="Bound">xs</a> <a id="10662" href="Data.Refinement.html#869" class="Function">∈</a> <a id="10664" href="Text.Pretty.Core.html#1922" class="Function">Content</a> <a id="10672" href="Data.Refinement.html#869" class="Function">∣</a> <a id="10674" href="Text.Pretty.Core.html#1976" class="Function">size</a> <a id="10679" href="Text.Pretty.Core.html#10659" class="Bound">xs</a> <a id="10682" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="10684" href="Text.Pretty.Core.html#10172" class="Function">height</a> <a id="10691" href="Data.Refinement.html#869" class="Function">]</a>
    <a id="10697" href="Text.Pretty.Core.html#10649" class="Function">block</a> <a id="10703" class="Symbol">.</a><a id="10704" href="Data.Refinement.html#592" class="Field">value</a> <a id="10710" class="Symbol">=</a> <a id="10712" href="Text.Pretty.Core.html#10335" class="Function">vContent</a>
    <a id="10725" href="Text.Pretty.Core.html#10649" class="Function">block</a> <a id="10731" class="Symbol">.</a><a id="10732" href="Data.Refinement.html#610" class="Field">proof</a> <a id="10738" class="Symbol">=</a> <a id="10740" href="Data.Erased.html#876" class="Function">Erased.map</a> <a id="10751" href="Text.Pretty.Core.html#10375" class="Function">isBlock</a> <a id="10759" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="10761" href="Text.Pretty.Core.html#2250" class="Field">Block.block</a> <a id="10773" href="Text.Pretty.Core.html#10014" class="Bound">x</a> <a id="10775" class="Symbol">.</a><a id="10776" href="Data.Refinement.html#610" class="Field">proof</a>

    <a id="flush.maxWidth"></a><a id="10787" href="Text.Pretty.Core.html#10787" class="Function">maxWidth</a> <a id="10796" class="Symbol">:</a> <a id="10798" href="Data.Refinement.html#869" class="Function">[</a> <a id="10800" href="Text.Pretty.Core.html#10800" class="Bound">n</a> <a id="10802" href="Data.Refinement.html#869" class="Function">∈</a> <a id="10804" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="10806" href="Data.Refinement.html#869" class="Function">∣</a> <a id="10808" href="Text.Pretty.Core.html#10200" class="Function">lastWidth</a> <a id="10818" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="10820" href="Text.Pretty.Core.html#10800" class="Bound">n</a> <a id="10822" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="10824" href="Text.Pretty.Core.html#2135" class="Function">All≤</a> <a id="10829" href="Text.Pretty.Core.html#10800" class="Bound">n</a> <a id="10831" href="Text.Pretty.Core.html#10335" class="Function">vContent</a> <a id="10840" href="Data.Refinement.html#869" class="Function">]</a>
    <a id="10846" href="Text.Pretty.Core.html#10787" class="Function">maxWidth</a> <a id="10855" class="Symbol">.</a><a id="10856" href="Data.Refinement.html#592" class="Field">value</a> <a id="10862" class="Symbol">=</a> <a id="10864" href="Text.Pretty.Core.html#10116" class="Function">widthx</a>
    <a id="10875" href="Text.Pretty.Core.html#10787" class="Function">maxWidth</a> <a id="10884" class="Symbol">.</a><a id="10885" href="Data.Refinement.html#610" class="Field">proof</a> <a id="10891" class="Symbol">=</a> <a id="10893" href="Data.Erased.html#876" class="Function">map</a> <a id="10897" class="Symbol">(</a><a id="10898" href="Data.Nat.Base.html#960" class="InductiveConstructor">z≤n</a> <a id="10902" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,_</a><a id="10904" class="Symbol">)</a>
      <a id="10912" class="Symbol">⦇</a> <a id="10914" href="Text.Pretty.Core.html#3511" class="Function">All≤-node?</a> <a id="10925" class="Symbol">⦇</a> <a id="10927" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="10933" class="Symbol">(</a><a id="10934" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="10949" href="Text.Pretty.Core.html#10014" class="Bound">x</a> <a id="10951" class="Symbol">.</a><a id="10952" href="Data.Refinement.html#610" class="Field">proof</a><a id="10957" class="Symbol">)</a> <a id="10959" class="Symbol">⦈</a>
                   <a id="10980" class="Symbol">⦇</a> <a id="10982" href="Text.Pretty.Core.html#11120" class="Function">middle</a> <a id="10989" class="Symbol">(</a><a id="10990" href="Text.Pretty.Core.html#2335" class="Field">Block.last</a> <a id="11001" href="Text.Pretty.Core.html#10014" class="Bound">x</a> <a id="11003" class="Symbol">.</a><a id="11004" href="Data.Refinement.html#610" class="Field">proof</a><a id="11009" class="Symbol">)</a> <a id="11011" class="Symbol">⦇</a> <a id="11013" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="11019" class="Symbol">(</a><a id="11020" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="11035" href="Text.Pretty.Core.html#10014" class="Bound">x</a> <a id="11037" class="Symbol">.</a><a id="11038" href="Data.Refinement.html#610" class="Field">proof</a><a id="11043" class="Symbol">)</a> <a id="11045" class="Symbol">⦈</a> <a id="11047" class="Symbol">⦈</a>
                   <a id="11068" class="Symbol">(</a><a id="11069" href="Data.Erased.html#935" class="Function">pure</a> <a id="11074" href="Data.Tree.Binary.Relation.Unary.All.html#563" class="InductiveConstructor">leaf</a><a id="11078" class="Symbol">)</a>
      <a id="11086" class="Symbol">⦈</a> <a id="11088" class="Keyword">where</a>

      <a id="11101" class="Keyword">open</a> <a id="11106" href="Data.Erased.html" class="Module">Erased</a>

      <a id="11120" href="Text.Pretty.Core.html#11120" class="Function">middle</a> <a id="11127" class="Symbol">:</a> <a id="11129" href="Data.String.Base.html#1949" class="Function">length</a> <a id="11136" href="Text.Pretty.Core.html#10088" class="Function">lastx</a> <a id="11142" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="11144" href="Text.Pretty.Core.html#2317" class="Field">x.lastWidth</a> <a id="11156" class="Symbol">→</a> <a id="11158" href="Text.Pretty.Core.html#2317" class="Field">x.lastWidth</a> <a id="11170" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="11172" href="Text.Pretty.Core.html#10218" class="Function">vMaxWidth</a> <a id="11182" class="Symbol">→</a>
               <a id="11199" href="Data.String.Base.html#1949" class="Function">length</a> <a id="11206" href="Text.Pretty.Core.html#10088" class="Function">lastx</a> <a id="11212" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="11214" href="Text.Pretty.Core.html#10218" class="Function">vMaxWidth</a>
      <a id="11230" href="Text.Pretty.Core.html#11120" class="Function">middle</a> <a id="11237" href="Text.Pretty.Core.html#11237" class="Bound">p</a> <a id="11239" href="Text.Pretty.Core.html#11239" class="Bound">q</a> <a id="11241" class="Symbol">=</a> <a id="11243" href="Relation.Binary.Reasoning.Base.Triple.html#2856" class="Function Operator">begin</a>
        <a id="11257" href="Data.String.Base.html#1949" class="Function">length</a> <a id="11264" href="Text.Pretty.Core.html#10088" class="Function">lastx</a> <a id="11270" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">≡⟨</a> <a id="11273" href="Text.Pretty.Core.html#11237" class="Bound">p</a> <a id="11275" href="Relation.Binary.Reasoning.Base.Triple.html#4128" class="Function Operator">⟩</a>
        <a id="11285" href="Text.Pretty.Core.html#2317" class="Field">x.lastWidth</a>  <a id="11298" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">≤⟨</a> <a id="11301" href="Text.Pretty.Core.html#11239" class="Bound">q</a> <a id="11303" href="Relation.Binary.Reasoning.Base.Triple.html#3511" class="Function Operator">⟩</a>
        <a id="11313" href="Text.Pretty.Core.html#10218" class="Function">vMaxWidth</a>    <a id="11326" href="Relation.Binary.Reasoning.Base.Triple.html#4585" class="Function Operator">∎</a> <a id="11328" class="Keyword">where</a> <a id="11334" class="Keyword">open</a> <a id="11339" href="Data.Nat.Properties.html#11256" class="Module">≤-Reasoning</a>

<a id="flush"></a><a id="11352" href="Text.Pretty.Core.html#11352" class="Function">flush</a> <a id="11358" class="Symbol">:</a> <a id="11360" href="Text.Pretty.Core.html#2202" class="Record">Block</a> <a id="11366" class="Symbol">→</a> <a id="11368" href="Text.Pretty.Core.html#2202" class="Record">Block</a>
<a id="11374" href="Text.Pretty.Core.html#11352" class="Function">flush</a> <a id="11380" href="Text.Pretty.Core.html#11380" class="Bound">x</a> <a id="11382" class="Symbol">=</a> <a id="11384" class="Keyword">record</a> <a id="11391" class="Symbol">{</a> <a id="11393" href="Text.Pretty.Core.html#11393" class="Module">flush</a> <a id="11399" href="Text.Pretty.Core.html#11380" class="Bound">x</a> <a id="11401" class="Symbol">}</a>

<a id="11404" class="Comment">------------------------------------------------------------------------</a>
<a id="11477" class="Comment">-- Other functions</a>

<a id="render"></a><a id="11497" href="Text.Pretty.Core.html#11497" class="Function">render</a> <a id="11504" class="Symbol">:</a> <a id="11506" href="Text.Pretty.Core.html#2202" class="Record">Block</a> <a id="11512" class="Symbol">→</a> <a id="11514" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
<a id="11521" href="Text.Pretty.Core.html#11497" class="Function">render</a> <a id="11528" href="Text.Pretty.Core.html#11528" class="Bound">x</a> <a id="11530" class="Symbol">=</a> <a id="11532" href="Data.String.Base.html#2162" class="Function">unlines</a>
  <a id="11542" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="11544" href="Data.Maybe.Base.html#1573" class="Function">maybe′</a> <a id="11551" class="Symbol">(</a><a id="11552" href="Data.Product.html#3103" class="Function">uncurry</a> <a id="11560" class="Symbol">(λ</a> <a id="11563" href="Text.Pretty.Core.html#11563" class="Bound">hd</a> <a id="11566" href="Text.Pretty.Core.html#11566" class="Bound">tl</a> <a id="11569" class="Symbol">→</a> <a id="11571" href="Text.Pretty.Core.html#11563" class="Bound">hd</a> <a id="11574" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="11576" href="Data.Tree.Binary.html#1443" class="Function">Tree.Infix.toList</a> <a id="11594" href="Text.Pretty.Core.html#11566" class="Bound">tl</a><a id="11596" class="Symbol">))</a> <a id="11599" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
  <a id="11604" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="11606" href="Text.Pretty.Core.html#3005" class="Function">node?</a> <a id="11612" class="Symbol">(</a><a id="11613" href="Text.Pretty.Core.html#2250" class="Field">Block.block</a> <a id="11625" href="Text.Pretty.Core.html#11528" class="Bound">x</a> <a id="11627" class="Symbol">.</a><a id="11628" href="Data.Refinement.html#592" class="Field">value</a><a id="11633" class="Symbol">)</a> <a id="11635" class="Symbol">(</a><a id="11636" href="Text.Pretty.Core.html#2335" class="Field">Block.last</a> <a id="11647" href="Text.Pretty.Core.html#11528" class="Bound">x</a> <a id="11649" class="Symbol">.</a><a id="11650" href="Data.Refinement.html#592" class="Field">value</a><a id="11655" class="Symbol">)</a> <a id="11657" href="Data.Tree.Binary.html#653" class="InductiveConstructor">leaf</a>

<a id="valid"></a><a id="11663" href="Text.Pretty.Core.html#11663" class="Function">valid</a> <a id="11669" class="Symbol">:</a> <a id="11671" class="Symbol">(</a><a id="11672" href="Text.Pretty.Core.html#11672" class="Bound">width</a> <a id="11678" class="Symbol">:</a> <a id="11680" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="11681" class="Symbol">)</a> <a id="11683" class="Symbol">(</a><a id="11684" href="Text.Pretty.Core.html#11684" class="Bound">b</a> <a id="11686" class="Symbol">:</a> <a id="11688" href="Text.Pretty.Core.html#2202" class="Record">Block</a><a id="11693" class="Symbol">)</a> <a id="11695" class="Symbol">→</a> <a id="11697" href="Relation.Nullary.html#1508" class="Record">Dec</a> <a id="11701" class="Symbol">(</a><a id="11702" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="11717" href="Text.Pretty.Core.html#11684" class="Bound">b</a> <a id="11719" class="Symbol">.</a><a id="11720" href="Data.Refinement.html#592" class="Field">value</a> <a id="11726" href="Data.Nat.Base.html#937" class="Datatype Operator">≤</a> <a id="11728" href="Text.Pretty.Core.html#11672" class="Bound">width</a><a id="11733" class="Symbol">)</a>
<a id="11735" href="Text.Pretty.Core.html#11663" class="Function">valid</a> <a id="11741" href="Text.Pretty.Core.html#11741" class="Bound">width</a> <a id="11747" href="Text.Pretty.Core.html#11747" class="Bound">b</a> <a id="11749" class="Symbol">=</a> <a id="11751" href="Text.Pretty.Core.html#2416" class="Field">Block.maxWidth</a> <a id="11766" href="Text.Pretty.Core.html#11747" class="Bound">b</a> <a id="11768" class="Symbol">.</a><a id="11769" href="Data.Refinement.html#592" class="Field">value</a> <a id="11775" href="Data.Nat.Properties.html#4692" class="Function Operator">≤?</a> <a id="11778" href="Text.Pretty.Core.html#11741" class="Bound">width</a>
</pre></body></html>