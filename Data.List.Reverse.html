<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.List.Reverse</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Reverse view</a>
<a id="122" class="Comment">------------------------------------------------------------------------</a>

<a id="196" class="Keyword">module</a> <a id="203" href="Data.List.Reverse.html" class="Module">Data.List.Reverse</a> <a id="221" class="Keyword">where</a>

<a id="228" class="Keyword">open</a> <a id="233" class="Keyword">import</a> <a id="240" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="276" class="Keyword">import</a> <a id="283" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="303" class="Symbol">as</a> <a id="306" class="Module">Nat</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Induction.Nat.html" class="Module">Induction.Nat</a> <a id="336" class="Keyword">using</a> <a id="342" class="Symbol">(</a><a id="343" href="Induction.Nat.html#%3C%E2%80%B2-Rec" class="Function">&lt;′-Rec</a><a id="349" class="Symbol">;</a> <a id="351" href="Induction.WellFounded.html#1751" class="Function">&lt;′-rec</a><a id="357" class="Symbol">)</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="410" class="Comment">-- If you want to traverse a list from the end, then you can use the</a>
<a id="479" class="Comment">-- reverse view of it.</a>

<a id="503" class="Keyword">infixl</a> <a id="510" class="Number">5</a> <a id="512" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">_∶_∶ʳ_</a>

<a id="520" class="Keyword">data</a> <a id="Reverse" href="Data.List.Reverse.html#Reverse" class="Datatype">Reverse</a> <a id="533" class="Symbol">{</a><a id="534" href="Data.List.Reverse.html#534" class="Bound">A</a> <a id="536" class="Symbol">:</a> <a id="538" class="PrimitiveType">Set</a><a id="541" class="Symbol">}</a> <a id="543" class="Symbol">:</a> <a id="545" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="550" href="Data.List.Reverse.html#534" class="Bound">A</a> <a id="552" class="Symbol">→</a> <a id="554" class="PrimitiveType">Set</a> <a id="558" class="Keyword">where</a>
  <a id="Reverse.[]" href="Data.List.Reverse.html#Reverse.%5B%5D" class="InductiveConstructor">[]</a>     <a id="573" class="Symbol">:</a> <a id="575" href="Data.List.Reverse.html#Reverse" class="Datatype">Reverse</a> <a id="583" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a>
  <a id="Reverse._∶_∶ʳ_" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">_∶_∶ʳ_</a> <a id="595" class="Symbol">:</a> <a id="597" class="Symbol">∀</a> <a id="599" href="Data.List.Reverse.html#599" class="Bound">xs</a> <a id="602" class="Symbol">(</a><a id="603" href="Data.List.Reverse.html#603" class="Bound">rs</a> <a id="606" class="Symbol">:</a> <a id="608" href="Data.List.Reverse.html#Reverse" class="Datatype">Reverse</a> <a id="616" href="Data.List.Reverse.html#599" class="Bound">xs</a><a id="618" class="Symbol">)</a> <a id="620" class="Symbol">(</a><a id="621" href="Data.List.Reverse.html#621" class="Bound">x</a> <a id="623" class="Symbol">:</a> <a id="625" href="Data.List.Reverse.html#534" class="Bound">A</a><a id="626" class="Symbol">)</a> <a id="628" class="Symbol">→</a> <a id="630" href="Data.List.Reverse.html#Reverse" class="Datatype">Reverse</a> <a id="638" class="Symbol">(</a><a id="639" href="Data.List.Reverse.html#599" class="Bound">xs</a> <a id="642" href="Data.List.Base.html#_%E2%88%B7%CA%B3_" class="Function Operator">∷ʳ</a> <a id="645" href="Data.List.Reverse.html#621" class="Bound">x</a><a id="646" class="Symbol">)</a>

<a id="reverseView" href="Data.List.Reverse.html#reverseView" class="Function">reverseView</a> <a id="661" class="Symbol">:</a> <a id="663" class="Symbol">∀</a> <a id="665" class="Symbol">{</a><a id="666" href="Data.List.Reverse.html#666" class="Bound">A</a><a id="667" class="Symbol">}</a> <a id="669" class="Symbol">(</a><a id="670" href="Data.List.Reverse.html#670" class="Bound">xs</a> <a id="673" class="Symbol">:</a> <a id="675" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="680" href="Data.List.Reverse.html#666" class="Bound">A</a><a id="681" class="Symbol">)</a> <a id="683" class="Symbol">→</a> <a id="685" href="Data.List.Reverse.html#Reverse" class="Datatype">Reverse</a> <a id="693" href="Data.List.Reverse.html#670" class="Bound">xs</a>
<a id="696" href="Data.List.Reverse.html#reverseView" class="Function">reverseView</a> <a id="708" class="Symbol">{</a><a id="709" href="Data.List.Reverse.html#709" class="Bound">A</a><a id="710" class="Symbol">}</a> <a id="712" href="Data.List.Reverse.html#712" class="Bound">xs</a> <a id="715" class="Symbol">=</a> <a id="717" href="Induction.WellFounded.html#1751" class="Function">&lt;′-rec</a> <a id="724" href="Data.List.Reverse.html#763" class="Function">Pred</a> <a id="729" href="Data.List.Reverse.html#949" class="Function">rev</a> <a id="733" class="Symbol">(</a><a id="734" href="Data.List.Base.html#length" class="Function">length</a> <a id="741" href="Data.List.Reverse.html#712" class="Bound">xs</a><a id="743" class="Symbol">)</a> <a id="745" href="Data.List.Reverse.html#712" class="Bound">xs</a> <a id="748" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>
  <a id="755" class="Keyword">where</a>
  <a id="763" href="Data.List.Reverse.html#763" class="Function">Pred</a> <a id="768" class="Symbol">:</a> <a id="770" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a> <a id="772" class="Symbol">→</a> <a id="774" class="PrimitiveType">Set</a>
  <a id="780" href="Data.List.Reverse.html#763" class="Function">Pred</a> <a id="785" href="Data.List.Reverse.html#785" class="Bound">n</a> <a id="787" class="Symbol">=</a> <a id="789" class="Symbol">(</a><a id="790" href="Data.List.Reverse.html#790" class="Bound">xs</a> <a id="793" class="Symbol">:</a> <a id="795" href="Agda.Builtin.List.html#List" class="Datatype">List</a> <a id="800" href="Data.List.Reverse.html#709" class="Bound">A</a><a id="801" class="Symbol">)</a> <a id="803" class="Symbol">→</a> <a id="805" href="Data.List.Base.html#length" class="Function">length</a> <a id="812" href="Data.List.Reverse.html#790" class="Bound">xs</a> <a id="815" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="817" href="Data.List.Reverse.html#785" class="Bound">n</a> <a id="819" class="Symbol">→</a> <a id="821" href="Data.List.Reverse.html#Reverse" class="Datatype">Reverse</a> <a id="829" href="Data.List.Reverse.html#790" class="Bound">xs</a>

  <a id="835" href="Data.List.Reverse.html#835" class="Function">lem</a> <a id="839" class="Symbol">:</a> <a id="841" class="Symbol">∀</a> <a id="843" href="Data.List.Reverse.html#843" class="Bound">xs</a> <a id="846" class="Symbol">{</a><a id="847" href="Data.List.Reverse.html#847" class="Bound">x</a> <a id="849" class="Symbol">:</a> <a id="851" href="Data.List.Reverse.html#709" class="Bound">A</a><a id="852" class="Symbol">}</a> <a id="854" class="Symbol">→</a> <a id="856" href="Data.List.Base.html#length" class="Function">length</a> <a id="863" href="Data.List.Reverse.html#843" class="Bound">xs</a> <a id="866" href="Data.Nat.Base.html#_%3C%E2%80%B2_" class="Function Operator">&lt;′</a> <a id="869" href="Data.List.Base.html#length" class="Function">length</a> <a id="876" class="Symbol">(</a><a id="877" href="Data.List.Reverse.html#843" class="Bound">xs</a> <a id="880" href="Data.List.Base.html#_%E2%88%B7%CA%B3_" class="Function Operator">∷ʳ</a> <a id="883" href="Data.List.Reverse.html#847" class="Bound">x</a><a id="884" class="Symbol">)</a>
  <a id="888" href="Data.List.Reverse.html#835" class="Function">lem</a> <a id="892" href="Agda.Builtin.List.html#List.%5B%5D" class="InductiveConstructor">[]</a>       <a id="901" class="Symbol">=</a> <a id="903" href="Data.Nat.Base.html#_%E2%89%A4%E2%80%B2_.%E2%89%A4%E2%80%B2-refl" class="InductiveConstructor">≤′-refl</a>
  <a id="913" href="Data.List.Reverse.html#835" class="Function">lem</a> <a id="917" class="Symbol">(</a><a id="918" href="Data.List.Reverse.html#918" class="Bound">x</a> <a id="920" href="Agda.Builtin.List.html#List._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="922" href="Data.List.Reverse.html#922" class="Bound">xs</a><a id="924" class="Symbol">)</a> <a id="926" class="Symbol">=</a> <a id="928" href="Data.Nat.Properties.html#s%E2%89%A4%E2%80%B2s" class="Function">Nat.s≤′s</a> <a id="937" class="Symbol">(</a><a id="938" href="Data.List.Reverse.html#835" class="Function">lem</a> <a id="942" href="Data.List.Reverse.html#922" class="Bound">xs</a><a id="944" class="Symbol">)</a>

  <a id="949" href="Data.List.Reverse.html#949" class="Function">rev</a> <a id="953" class="Symbol">:</a> <a id="955" class="Symbol">(</a><a id="956" href="Data.List.Reverse.html#956" class="Bound">n</a> <a id="958" class="Symbol">:</a> <a id="960" href="Agda.Builtin.Nat.html#%E2%84%95" class="Datatype">ℕ</a><a id="961" class="Symbol">)</a> <a id="963" class="Symbol">→</a> <a id="965" href="Induction.Nat.html#%3C%E2%80%B2-Rec" class="Function">&lt;′-Rec</a> <a id="972" href="Data.List.Reverse.html#763" class="Function">Pred</a> <a id="977" href="Data.List.Reverse.html#956" class="Bound">n</a> <a id="979" class="Symbol">→</a> <a id="981" href="Data.List.Reverse.html#763" class="Function">Pred</a> <a id="986" href="Data.List.Reverse.html#956" class="Bound">n</a>
  <a id="990" href="Data.List.Reverse.html#949" class="Function">rev</a> <a id="994" href="Data.List.Reverse.html#994" class="Bound">n</a>                   <a id="1014" href="Data.List.Reverse.html#1014" class="Bound">rec</a> <a id="1018" href="Data.List.Reverse.html#1018" class="Bound">xs</a>         <a id="1029" href="Data.List.Reverse.html#1029" class="Bound">eq</a>   <a id="1034" class="Keyword">with</a> <a id="1039" href="Data.List.Base.html#initLast" class="Function">initLast</a> <a id="1048" href="Data.List.Reverse.html#1018" class="Bound">xs</a>
  <a id="1053" href="Data.List.Reverse.html#949" class="Function">rev</a> <a id="1057" href="Data.List.Reverse.html#1057" class="Bound">n</a>                   <a id="1077" href="Data.List.Reverse.html#1077" class="Bound">rec</a> <a id="1081" class="DottedPattern Symbol">.</a><a id="1082" href="Agda.Builtin.List.html#List.%5B%5D" class="DottedPattern InductiveConstructor">[]</a>        <a id="1092" href="Data.List.Reverse.html#1092" class="Bound">eq</a>   <a id="1097" class="Symbol">|</a> <a id="1099" href="Data.List.Base.html#InitLast.%5B%5D" class="InductiveConstructor">[]</a>       <a id="1108" class="Symbol">=</a> <a id="1110" href="Data.List.Reverse.html#Reverse.%5B%5D" class="InductiveConstructor">[]</a>
  <a id="1115" href="Data.List.Reverse.html#949" class="Function">rev</a> <a id="1119" class="DottedPattern Symbol">.(</a><a id="1121" href="Data.List.Base.html#length" class="DottedPattern Function">length</a> <a id="1128" class="DottedPattern Symbol">(</a><a id="1129" href="Data.List.Reverse.html#1161" class="DottedPattern Bound">xs</a> <a id="1132" href="Data.List.Base.html#_%E2%88%B7%CA%B3_" class="DottedPattern Function Operator">∷ʳ</a> <a id="1135" href="Data.List.Reverse.html#1168" class="DottedPattern Bound">x</a><a id="1136" class="DottedPattern Symbol">))</a> <a id="1139" href="Data.List.Reverse.html#1139" class="Bound">rec</a> <a id="1143" class="DottedPattern Symbol">.(</a><a id="1145" href="Data.List.Reverse.html#1161" class="DottedPattern Bound">xs</a> <a id="1148" href="Data.List.Base.html#_%E2%88%B7%CA%B3_" class="DottedPattern Function Operator">∷ʳ</a> <a id="1151" href="Data.List.Reverse.html#1168" class="DottedPattern Bound">x</a><a id="1152" class="DottedPattern Symbol">)</a> <a id="1154" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="1159" class="Symbol">|</a> <a id="1161" href="Data.List.Reverse.html#1161" class="Bound">xs</a> <a id="1164" href="Data.List.Base.html#InitLast._%E2%88%B7%CA%B3%27_" class="InductiveConstructor Operator">∷ʳ&#39;</a> <a id="1168" href="Data.List.Reverse.html#1168" class="Bound">x</a>
    <a id="1174" class="Keyword">with</a> <a id="1179" href="Data.List.Reverse.html#1139" class="Bound">rec</a> <a id="1183" class="Symbol">(</a><a id="1184" href="Data.List.Base.html#length" class="Function">length</a> <a id="1191" href="Data.List.Reverse.html#1161" class="Bound">xs</a><a id="1193" class="Symbol">)</a> <a id="1195" class="Symbol">(</a><a id="1196" href="Data.List.Reverse.html#835" class="Function">lem</a> <a id="1200" href="Data.List.Reverse.html#1161" class="Bound">xs</a><a id="1202" class="Symbol">)</a> <a id="1204" href="Data.List.Reverse.html#1161" class="Bound">xs</a> <a id="1207" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>
  <a id="1214" href="Data.List.Reverse.html#949" class="Function">rev</a> <a id="1218" class="DottedPattern Symbol">._</a> <a id="1221" href="Data.List.Reverse.html#1221" class="Bound">rec</a> <a id="1225" class="DottedPattern Symbol">.(</a><a id="1227" href="Agda.Builtin.List.html#List.%5B%5D" class="DottedPattern InductiveConstructor">[]</a>      <a id="1235" href="Data.List.Base.html#_%E2%88%B7%CA%B3_" class="DottedPattern Function Operator">∷ʳ</a> <a id="1238" href="Data.List.Reverse.html#1255" class="DottedPattern Bound">x</a><a id="1239" class="DottedPattern Symbol">)</a> <a id="1241" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="1246" class="Symbol">|</a> <a id="1248" class="DottedPattern Symbol">._</a> <a id="1251" href="Data.List.Base.html#InitLast._%E2%88%B7%CA%B3%27_" class="InductiveConstructor Operator">∷ʳ&#39;</a> <a id="1255" href="Data.List.Reverse.html#1255" class="Bound">x</a> <a id="1257" class="Symbol">|</a> <a id="1259" href="Data.List.Reverse.html#Reverse.%5B%5D" class="InductiveConstructor">[]</a> <a id="1262" class="Symbol">=</a> <a id="1264" class="Symbol">_</a> <a id="1266" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶</a> <a id="1268" href="Data.List.Reverse.html#Reverse.%5B%5D" class="InductiveConstructor">[]</a> <a id="1271" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶ʳ</a> <a id="1274" href="Data.List.Reverse.html#1255" class="Bound">x</a>
  <a id="1278" href="Data.List.Reverse.html#949" class="Function">rev</a> <a id="1282" class="DottedPattern Symbol">._</a> <a id="1285" href="Data.List.Reverse.html#1285" class="Bound">rec</a> <a id="1289" class="DottedPattern Symbol">.(</a><a id="1291" href="Data.List.Reverse.html#1323" class="DottedPattern Bound">ys</a> <a id="1294" href="Data.List.Base.html#_%E2%88%B7%CA%B3_" class="DottedPattern Function Operator">∷ʳ</a> <a id="1297" href="Data.List.Reverse.html#1334" class="DottedPattern Bound">y</a> <a id="1299" href="Data.List.Base.html#_%E2%88%B7%CA%B3_" class="DottedPattern Function Operator">∷ʳ</a> <a id="1302" href="Data.List.Reverse.html#1319" class="DottedPattern Bound">x</a><a id="1303" class="DottedPattern Symbol">)</a> <a id="1305" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="1310" class="Symbol">|</a> <a id="1312" class="DottedPattern Symbol">._</a> <a id="1315" href="Data.List.Base.html#InitLast._%E2%88%B7%CA%B3%27_" class="InductiveConstructor Operator">∷ʳ&#39;</a> <a id="1319" href="Data.List.Reverse.html#1319" class="Bound">x</a> <a id="1321" class="Symbol">|</a> <a id="1323" href="Data.List.Reverse.html#1323" class="Bound">ys</a> <a id="1326" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶</a> <a id="1328" href="Data.List.Reverse.html#1328" class="Bound">rs</a> <a id="1331" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶ʳ</a> <a id="1334" href="Data.List.Reverse.html#1334" class="Bound">y</a> <a id="1336" class="Symbol">=</a>
    <a id="1342" class="Symbol">_</a> <a id="1344" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶</a> <a id="1346" class="Symbol">(_</a> <a id="1349" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶</a> <a id="1351" href="Data.List.Reverse.html#1328" class="Bound">rs</a> <a id="1354" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶ʳ</a> <a id="1357" href="Data.List.Reverse.html#1334" class="Bound">y</a><a id="1358" class="Symbol">)</a> <a id="1360" href="Data.List.Reverse.html#Reverse._%E2%88%B6_%E2%88%B6%CA%B3_" class="InductiveConstructor Operator">∶ʳ</a> <a id="1363" href="Data.List.Reverse.html#1319" class="Bound">x</a>
</pre></body></html>