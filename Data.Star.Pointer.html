<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Star.Pointer</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pointers into star-lists</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Keyword">module</a> <a id="215" href="Data.Star.Pointer.html" class="Module">Data.Star.Pointer</a> <a id="233" class="Symbol">{</a><a id="234" href="Data.Star.Pointer.html#234" class="Bound">ℓ</a><a id="235" class="Symbol">}</a> <a id="237" class="Symbol">{</a><a id="238" href="Data.Star.Pointer.html#238" class="Bound">I</a> <a id="240" class="Symbol">:</a> <a id="242" class="PrimitiveType">Set</a> <a id="246" href="Data.Star.Pointer.html#234" class="Bound">ℓ</a><a id="247" class="Symbol">}</a> <a id="249" class="Keyword">where</a>

<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="284" class="Keyword">using</a> <a id="290" class="Symbol">(</a><a id="291" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a><a id="296" class="Symbol">;</a> <a id="298" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a><a id="305" class="Symbol">;</a> <a id="307" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a><a id="311" class="Symbol">)</a>
<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Data.Star.Decoration.html" class="Module">Data.Star.Decoration</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Function.html" class="Module">Function</a>
<a id="389" class="Keyword">open</a> <a id="394" class="Keyword">import</a> <a id="401" href="Level.html" class="Module">Level</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="435" class="Keyword">open</a> <a id="440" class="Keyword">import</a> <a id="447" href="Relation.Binary.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Closure.ReflexiveTransitive</a>

<a id="492" class="Comment">-- Pointers into star-lists. The edge pointed to is decorated with Q,</a>
<a id="562" class="Comment">-- while other edges are decorated with P.</a>

<a id="606" class="Keyword">data</a> <a id="Pointer"></a><a id="611" href="Data.Star.Pointer.html#611" class="Datatype">Pointer</a> <a id="619" class="Symbol">{</a><a id="620" href="Data.Star.Pointer.html#620" class="Bound">r</a> <a id="622" href="Data.Star.Pointer.html#622" class="Bound">p</a> <a id="624" href="Data.Star.Pointer.html#624" class="Bound">q</a><a id="625" class="Symbol">}</a> <a id="627" class="Symbol">{</a><a id="628" href="Data.Star.Pointer.html#628" class="Bound">T</a> <a id="630" class="Symbol">:</a> <a id="632" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="636" href="Data.Star.Pointer.html#238" class="Bound">I</a> <a id="638" href="Data.Star.Pointer.html#620" class="Bound">r</a><a id="639" class="Symbol">}</a>
             <a id="654" class="Symbol">(</a><a id="655" href="Data.Star.Pointer.html#655" class="Bound">P</a> <a id="657" class="Symbol">:</a> <a id="659" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="668" href="Data.Star.Pointer.html#622" class="Bound">p</a> <a id="670" href="Data.Star.Pointer.html#628" class="Bound">T</a><a id="671" class="Symbol">)</a> <a id="673" class="Symbol">(</a><a id="674" href="Data.Star.Pointer.html#674" class="Bound">Q</a> <a id="676" class="Symbol">:</a> <a id="678" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="687" href="Data.Star.Pointer.html#624" class="Bound">q</a> <a id="689" href="Data.Star.Pointer.html#628" class="Bound">T</a><a id="690" class="Symbol">)</a>
             <a id="705" class="Symbol">:</a> <a id="707" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="711" class="Symbol">(</a><a id="712" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="718" class="Symbol">(</a><a id="719" href="Relation.Binary.Core.html#4734" class="Record">NonEmpty</a> <a id="728" class="Symbol">(</a><a id="729" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="734" href="Data.Star.Pointer.html#628" class="Bound">T</a><a id="735" class="Symbol">)))</a> <a id="739" class="Symbol">(</a><a id="740" href="Data.Star.Pointer.html#622" class="Bound">p</a> <a id="742" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="744" href="Data.Star.Pointer.html#624" class="Bound">q</a><a id="745" class="Symbol">)</a> <a id="747" class="Keyword">where</a>
  <a id="Pointer.step"></a><a id="755" href="Data.Star.Pointer.html#755" class="InductiveConstructor">step</a> <a id="760" class="Symbol">:</a> <a id="762" class="Symbol">∀</a> <a id="764" class="Symbol">{</a><a id="765" href="Data.Star.Pointer.html#765" class="Bound">i</a> <a id="767" href="Data.Star.Pointer.html#767" class="Bound">j</a> <a id="769" href="Data.Star.Pointer.html#769" class="Bound">k</a><a id="770" class="Symbol">}</a> <a id="772" class="Symbol">{</a><a id="773" href="Data.Star.Pointer.html#773" class="Bound">x</a> <a id="775" class="Symbol">:</a> <a id="777" href="Data.Star.Pointer.html#628" class="Bound">T</a> <a id="779" href="Data.Star.Pointer.html#765" class="Bound">i</a> <a id="781" href="Data.Star.Pointer.html#767" class="Bound">j</a><a id="782" class="Symbol">}</a> <a id="784" class="Symbol">{</a><a id="785" href="Data.Star.Pointer.html#785" class="Bound">xs</a> <a id="788" class="Symbol">:</a> <a id="790" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="795" href="Data.Star.Pointer.html#628" class="Bound">T</a> <a id="797" href="Data.Star.Pointer.html#767" class="Bound">j</a> <a id="799" href="Data.Star.Pointer.html#769" class="Bound">k</a><a id="800" class="Symbol">}</a>
         <a id="811" class="Symbol">(</a><a id="812" href="Data.Star.Pointer.html#812" class="Bound">p</a> <a id="814" class="Symbol">:</a> <a id="816" href="Data.Star.Pointer.html#655" class="Bound">P</a> <a id="818" href="Data.Star.Pointer.html#773" class="Bound">x</a><a id="819" class="Symbol">)</a> <a id="821" class="Symbol">→</a> <a id="823" href="Data.Star.Pointer.html#611" class="Datatype">Pointer</a> <a id="831" href="Data.Star.Pointer.html#655" class="Bound">P</a> <a id="833" href="Data.Star.Pointer.html#674" class="Bound">Q</a> <a id="835" class="Symbol">(</a><a id="836" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="841" class="Symbol">(</a><a id="842" href="Relation.Binary.Core.html#4845" class="InductiveConstructor">nonEmpty</a> <a id="851" class="Symbol">(</a><a id="852" href="Data.Star.Pointer.html#773" class="Bound">x</a> <a id="854" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="856" href="Data.Star.Pointer.html#785" class="Bound">xs</a><a id="858" class="Symbol">)))</a>
                                 <a id="895" class="Symbol">(</a><a id="896" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="901" class="Symbol">(</a><a id="902" href="Relation.Binary.Core.html#4845" class="InductiveConstructor">nonEmpty</a> <a id="911" href="Data.Star.Pointer.html#785" class="Bound">xs</a><a id="913" class="Symbol">))</a>
  <a id="Pointer.done"></a><a id="918" href="Data.Star.Pointer.html#918" class="InductiveConstructor">done</a> <a id="923" class="Symbol">:</a> <a id="925" class="Symbol">∀</a> <a id="927" class="Symbol">{</a><a id="928" href="Data.Star.Pointer.html#928" class="Bound">i</a> <a id="930" href="Data.Star.Pointer.html#930" class="Bound">j</a> <a id="932" href="Data.Star.Pointer.html#932" class="Bound">k</a><a id="933" class="Symbol">}</a> <a id="935" class="Symbol">{</a><a id="936" href="Data.Star.Pointer.html#936" class="Bound">x</a> <a id="938" class="Symbol">:</a> <a id="940" href="Data.Star.Pointer.html#628" class="Bound">T</a> <a id="942" href="Data.Star.Pointer.html#928" class="Bound">i</a> <a id="944" href="Data.Star.Pointer.html#930" class="Bound">j</a><a id="945" class="Symbol">}</a> <a id="947" class="Symbol">{</a><a id="948" href="Data.Star.Pointer.html#948" class="Bound">xs</a> <a id="951" class="Symbol">:</a> <a id="953" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="958" href="Data.Star.Pointer.html#628" class="Bound">T</a> <a id="960" href="Data.Star.Pointer.html#930" class="Bound">j</a> <a id="962" href="Data.Star.Pointer.html#932" class="Bound">k</a><a id="963" class="Symbol">}</a>
         <a id="974" class="Symbol">(</a><a id="975" href="Data.Star.Pointer.html#975" class="Bound">q</a> <a id="977" class="Symbol">:</a> <a id="979" href="Data.Star.Pointer.html#674" class="Bound">Q</a> <a id="981" href="Data.Star.Pointer.html#936" class="Bound">x</a><a id="982" class="Symbol">)</a> <a id="984" class="Symbol">→</a> <a id="986" href="Data.Star.Pointer.html#611" class="Datatype">Pointer</a> <a id="994" href="Data.Star.Pointer.html#655" class="Bound">P</a> <a id="996" href="Data.Star.Pointer.html#674" class="Bound">Q</a> <a id="998" class="Symbol">(</a><a id="999" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1004" class="Symbol">(</a><a id="1005" href="Relation.Binary.Core.html#4845" class="InductiveConstructor">nonEmpty</a> <a id="1014" class="Symbol">(</a><a id="1015" href="Data.Star.Pointer.html#936" class="Bound">x</a> <a id="1017" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="1019" href="Data.Star.Pointer.html#948" class="Bound">xs</a><a id="1021" class="Symbol">)))</a> <a id="1025" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>

<a id="1034" class="Comment">-- Any P Q xs means that some edge in xs satisfies Q, while all</a>
<a id="1098" class="Comment">-- preceding edges satisfy P. A star-list of type Any Always Always xs</a>
<a id="1169" class="Comment">-- is basically a prefix of xs; the existence of such a prefix</a>
<a id="1232" class="Comment">-- guarantees that xs is non-empty.</a>

<a id="Any"></a><a id="1269" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="1273" class="Symbol">:</a> <a id="1275" class="Symbol">∀</a> <a id="1277" class="Symbol">{</a><a id="1278" href="Data.Star.Pointer.html#1278" class="Bound">r</a> <a id="1280" href="Data.Star.Pointer.html#1280" class="Bound">p</a> <a id="1282" href="Data.Star.Pointer.html#1282" class="Bound">q</a><a id="1283" class="Symbol">}</a> <a id="1285" class="Symbol">{</a><a id="1286" href="Data.Star.Pointer.html#1286" class="Bound">T</a> <a id="1288" class="Symbol">:</a> <a id="1290" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1294" href="Data.Star.Pointer.html#238" class="Bound">I</a> <a id="1296" href="Data.Star.Pointer.html#1278" class="Bound">r</a><a id="1297" class="Symbol">}</a> <a id="1299" class="Symbol">(</a><a id="1300" href="Data.Star.Pointer.html#1300" class="Bound">P</a> <a id="1302" class="Symbol">:</a> <a id="1304" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="1313" href="Data.Star.Pointer.html#1280" class="Bound">p</a> <a id="1315" href="Data.Star.Pointer.html#1286" class="Bound">T</a><a id="1316" class="Symbol">)</a> <a id="1318" class="Symbol">(</a><a id="1319" href="Data.Star.Pointer.html#1319" class="Bound">Q</a> <a id="1321" class="Symbol">:</a> <a id="1323" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="1332" href="Data.Star.Pointer.html#1282" class="Bound">q</a> <a id="1334" href="Data.Star.Pointer.html#1286" class="Bound">T</a><a id="1335" class="Symbol">)</a> <a id="1337" class="Symbol">→</a>
      <a id="1345" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="1354" class="Symbol">(</a><a id="1355" href="Data.Star.Pointer.html#234" class="Bound">ℓ</a> <a id="1357" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1359" class="Symbol">(</a><a id="1360" href="Data.Star.Pointer.html#1278" class="Bound">r</a> <a id="1362" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1364" class="Symbol">(</a><a id="1365" href="Data.Star.Pointer.html#1280" class="Bound">p</a> <a id="1367" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1369" href="Data.Star.Pointer.html#1282" class="Bound">q</a><a id="1370" class="Symbol">)))</a> <a id="1374" class="Symbol">(</a><a id="1375" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="1380" href="Data.Star.Pointer.html#1286" class="Bound">T</a><a id="1381" class="Symbol">)</a>
<a id="1383" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="1387" href="Data.Star.Pointer.html#1387" class="Bound">P</a> <a id="1389" href="Data.Star.Pointer.html#1389" class="Bound">Q</a> <a id="1391" href="Data.Star.Pointer.html#1391" class="Bound">xs</a> <a id="1394" class="Symbol">=</a> <a id="1396" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="1401" class="Symbol">(</a><a id="1402" href="Data.Star.Pointer.html#611" class="Datatype">Pointer</a> <a id="1410" href="Data.Star.Pointer.html#1387" class="Bound">P</a> <a id="1412" href="Data.Star.Pointer.html#1389" class="Bound">Q</a><a id="1413" class="Symbol">)</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1421" class="Symbol">(</a><a id="1422" href="Relation.Binary.Core.html#4845" class="InductiveConstructor">nonEmpty</a> <a id="1431" href="Data.Star.Pointer.html#1391" class="Bound">xs</a><a id="1433" class="Symbol">))</a> <a id="1436" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>

<a id="1445" class="Keyword">module</a> <a id="1452" href="Data.Star.Pointer.html#1452" class="Module">_</a> <a id="1454" class="Symbol">{</a><a id="1455" href="Data.Star.Pointer.html#1455" class="Bound">r</a> <a id="1457" href="Data.Star.Pointer.html#1457" class="Bound">p</a> <a id="1459" href="Data.Star.Pointer.html#1459" class="Bound">q</a><a id="1460" class="Symbol">}</a> <a id="1462" class="Symbol">{</a><a id="1463" href="Data.Star.Pointer.html#1463" class="Bound">T</a> <a id="1465" class="Symbol">:</a> <a id="1467" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1471" href="Data.Star.Pointer.html#238" class="Bound">I</a> <a id="1473" href="Data.Star.Pointer.html#1455" class="Bound">r</a><a id="1474" class="Symbol">}</a> <a id="1476" class="Symbol">{</a><a id="1477" href="Data.Star.Pointer.html#1477" class="Bound">P</a> <a id="1479" class="Symbol">:</a> <a id="1481" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="1490" href="Data.Star.Pointer.html#1457" class="Bound">p</a> <a id="1492" href="Data.Star.Pointer.html#1463" class="Bound">T</a><a id="1493" class="Symbol">}</a> <a id="1495" class="Symbol">{</a><a id="1496" href="Data.Star.Pointer.html#1496" class="Bound">Q</a> <a id="1498" class="Symbol">:</a> <a id="1500" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="1509" href="Data.Star.Pointer.html#1459" class="Bound">q</a> <a id="1511" href="Data.Star.Pointer.html#1463" class="Bound">T</a><a id="1512" class="Symbol">}</a> <a id="1514" class="Keyword">where</a>

  <a id="1523" href="Data.Star.Pointer.html#1523" class="Function">this</a> <a id="1528" class="Symbol">:</a> <a id="1530" class="Symbol">∀</a> <a id="1532" class="Symbol">{</a><a id="1533" href="Data.Star.Pointer.html#1533" class="Bound">i</a> <a id="1535" href="Data.Star.Pointer.html#1535" class="Bound">j</a> <a id="1537" href="Data.Star.Pointer.html#1537" class="Bound">k</a><a id="1538" class="Symbol">}</a> <a id="1540" class="Symbol">{</a><a id="1541" href="Data.Star.Pointer.html#1541" class="Bound">x</a> <a id="1543" class="Symbol">:</a> <a id="1545" href="Data.Star.Pointer.html#1463" class="Bound">T</a> <a id="1547" href="Data.Star.Pointer.html#1533" class="Bound">i</a> <a id="1549" href="Data.Star.Pointer.html#1535" class="Bound">j</a><a id="1550" class="Symbol">}</a> <a id="1552" class="Symbol">{</a><a id="1553" href="Data.Star.Pointer.html#1553" class="Bound">xs</a> <a id="1556" class="Symbol">:</a> <a id="1558" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="1563" href="Data.Star.Pointer.html#1463" class="Bound">T</a> <a id="1565" href="Data.Star.Pointer.html#1535" class="Bound">j</a> <a id="1567" href="Data.Star.Pointer.html#1537" class="Bound">k</a><a id="1568" class="Symbol">}</a> <a id="1570" class="Symbol">→</a>
         <a id="1581" href="Data.Star.Pointer.html#1496" class="Bound">Q</a> <a id="1583" href="Data.Star.Pointer.html#1541" class="Bound">x</a> <a id="1585" class="Symbol">→</a> <a id="1587" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="1591" href="Data.Star.Pointer.html#1477" class="Bound">P</a> <a id="1593" href="Data.Star.Pointer.html#1496" class="Bound">Q</a> <a id="1595" class="Symbol">(</a><a id="1596" href="Data.Star.Pointer.html#1541" class="Bound">x</a> <a id="1598" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="1600" href="Data.Star.Pointer.html#1553" class="Bound">xs</a><a id="1602" class="Symbol">)</a>
  <a id="1606" href="Data.Star.Pointer.html#1523" class="Function">this</a> <a id="1611" href="Data.Star.Pointer.html#1611" class="Bound">q</a> <a id="1613" class="Symbol">=</a> <a id="1615" href="Data.Star.Pointer.html#918" class="InductiveConstructor">done</a> <a id="1620" href="Data.Star.Pointer.html#1611" class="Bound">q</a> <a id="1622" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="1624" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">ε</a>

  <a id="1629" href="Data.Star.Pointer.html#1629" class="Function">that</a> <a id="1634" class="Symbol">:</a> <a id="1636" class="Symbol">∀</a> <a id="1638" class="Symbol">{</a><a id="1639" href="Data.Star.Pointer.html#1639" class="Bound">i</a> <a id="1641" href="Data.Star.Pointer.html#1641" class="Bound">j</a> <a id="1643" href="Data.Star.Pointer.html#1643" class="Bound">k</a><a id="1644" class="Symbol">}</a> <a id="1646" class="Symbol">{</a><a id="1647" href="Data.Star.Pointer.html#1647" class="Bound">x</a> <a id="1649" class="Symbol">:</a> <a id="1651" href="Data.Star.Pointer.html#1463" class="Bound">T</a> <a id="1653" href="Data.Star.Pointer.html#1639" class="Bound">i</a> <a id="1655" href="Data.Star.Pointer.html#1641" class="Bound">j</a><a id="1656" class="Symbol">}</a> <a id="1658" class="Symbol">{</a><a id="1659" href="Data.Star.Pointer.html#1659" class="Bound">xs</a> <a id="1662" class="Symbol">:</a> <a id="1664" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="1669" href="Data.Star.Pointer.html#1463" class="Bound">T</a> <a id="1671" href="Data.Star.Pointer.html#1641" class="Bound">j</a> <a id="1673" href="Data.Star.Pointer.html#1643" class="Bound">k</a><a id="1674" class="Symbol">}</a> <a id="1676" class="Symbol">→</a>
         <a id="1687" href="Data.Star.Pointer.html#1477" class="Bound">P</a> <a id="1689" href="Data.Star.Pointer.html#1647" class="Bound">x</a> <a id="1691" class="Symbol">→</a> <a id="1693" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="1697" href="Data.Star.Pointer.html#1477" class="Bound">P</a> <a id="1699" href="Data.Star.Pointer.html#1496" class="Bound">Q</a> <a id="1701" href="Data.Star.Pointer.html#1659" class="Bound">xs</a> <a id="1704" class="Symbol">→</a> <a id="1706" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="1710" href="Data.Star.Pointer.html#1477" class="Bound">P</a> <a id="1712" href="Data.Star.Pointer.html#1496" class="Bound">Q</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Data.Star.Pointer.html#1647" class="Bound">x</a> <a id="1717" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="1719" href="Data.Star.Pointer.html#1659" class="Bound">xs</a><a id="1721" class="Symbol">)</a>
  <a id="1725" href="Data.Star.Pointer.html#1629" class="Function">that</a> <a id="1730" href="Data.Star.Pointer.html#1730" class="Bound">p</a> <a id="1732" class="Symbol">=</a> <a id="1734" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">_◅_</a> <a id="1738" class="Symbol">(</a><a id="1739" href="Data.Star.Pointer.html#755" class="InductiveConstructor">step</a> <a id="1744" href="Data.Star.Pointer.html#1730" class="Bound">p</a><a id="1745" class="Symbol">)</a>

<a id="1748" class="Comment">-- Safe lookup.</a>

<a id="1765" class="Keyword">data</a> <a id="Result"></a><a id="1770" href="Data.Star.Pointer.html#1770" class="Datatype">Result</a> <a id="1777" class="Symbol">{</a><a id="1778" href="Data.Star.Pointer.html#1778" class="Bound">r</a> <a id="1780" href="Data.Star.Pointer.html#1780" class="Bound">p</a> <a id="1782" href="Data.Star.Pointer.html#1782" class="Bound">q</a><a id="1783" class="Symbol">}</a> <a id="1785" class="Symbol">(</a><a id="1786" href="Data.Star.Pointer.html#1786" class="Bound">T</a> <a id="1788" class="Symbol">:</a> <a id="1790" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1794" href="Data.Star.Pointer.html#238" class="Bound">I</a> <a id="1796" href="Data.Star.Pointer.html#1778" class="Bound">r</a><a id="1797" class="Symbol">)</a>
            <a id="1811" class="Symbol">(</a><a id="1812" href="Data.Star.Pointer.html#1812" class="Bound">P</a> <a id="1814" class="Symbol">:</a> <a id="1816" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="1825" href="Data.Star.Pointer.html#1780" class="Bound">p</a> <a id="1827" href="Data.Star.Pointer.html#1786" class="Bound">T</a><a id="1828" class="Symbol">)</a> <a id="1830" class="Symbol">(</a><a id="1831" href="Data.Star.Pointer.html#1831" class="Bound">Q</a> <a id="1833" class="Symbol">:</a> <a id="1835" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="1844" href="Data.Star.Pointer.html#1782" class="Bound">q</a> <a id="1846" href="Data.Star.Pointer.html#1786" class="Bound">T</a><a id="1847" class="Symbol">)</a> <a id="1849" class="Symbol">:</a> <a id="1851" class="PrimitiveType">Set</a> <a id="1855" class="Symbol">(</a><a id="1856" href="Data.Star.Pointer.html#234" class="Bound">ℓ</a> <a id="1858" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1860" href="Data.Star.Pointer.html#1778" class="Bound">r</a> <a id="1862" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1864" href="Data.Star.Pointer.html#1780" class="Bound">p</a> <a id="1866" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1868" href="Data.Star.Pointer.html#1782" class="Bound">q</a><a id="1869" class="Symbol">)</a> <a id="1871" class="Keyword">where</a>
  <a id="Result.result"></a><a id="1879" href="Data.Star.Pointer.html#1879" class="InductiveConstructor">result</a> <a id="1886" class="Symbol">:</a> <a id="1888" class="Symbol">∀</a> <a id="1890" class="Symbol">{</a><a id="1891" href="Data.Star.Pointer.html#1891" class="Bound">i</a> <a id="1893" href="Data.Star.Pointer.html#1893" class="Bound">j</a><a id="1894" class="Symbol">}</a> <a id="1896" class="Symbol">{</a><a id="1897" href="Data.Star.Pointer.html#1897" class="Bound">x</a> <a id="1899" class="Symbol">:</a> <a id="1901" href="Data.Star.Pointer.html#1786" class="Bound">T</a> <a id="1903" href="Data.Star.Pointer.html#1891" class="Bound">i</a> <a id="1905" href="Data.Star.Pointer.html#1893" class="Bound">j</a><a id="1906" class="Symbol">}</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Data.Star.Pointer.html#1909" class="Bound">p</a> <a id="1911" class="Symbol">:</a> <a id="1913" href="Data.Star.Pointer.html#1812" class="Bound">P</a> <a id="1915" href="Data.Star.Pointer.html#1897" class="Bound">x</a><a id="1916" class="Symbol">)</a> <a id="1918" class="Symbol">(</a><a id="1919" href="Data.Star.Pointer.html#1919" class="Bound">q</a> <a id="1921" class="Symbol">:</a> <a id="1923" href="Data.Star.Pointer.html#1831" class="Bound">Q</a> <a id="1925" href="Data.Star.Pointer.html#1897" class="Bound">x</a><a id="1926" class="Symbol">)</a> <a id="1928" class="Symbol">→</a> <a id="1930" href="Data.Star.Pointer.html#1770" class="Datatype">Result</a> <a id="1937" href="Data.Star.Pointer.html#1786" class="Bound">T</a> <a id="1939" href="Data.Star.Pointer.html#1812" class="Bound">P</a> <a id="1941" href="Data.Star.Pointer.html#1831" class="Bound">Q</a>

<a id="1944" class="Comment">-- The first argument points out which edge to extract. The edge is</a>
<a id="2012" class="Comment">-- returned, together with proofs that it satisfies Q and R.</a>

<a id="2074" class="Keyword">module</a> <a id="2081" href="Data.Star.Pointer.html#2081" class="Module">_</a> <a id="2083" class="Symbol">{</a><a id="2084" href="Data.Star.Pointer.html#2084" class="Bound">t</a> <a id="2086" href="Data.Star.Pointer.html#2086" class="Bound">p</a> <a id="2088" href="Data.Star.Pointer.html#2088" class="Bound">q</a><a id="2089" class="Symbol">}</a> <a id="2091" class="Symbol">{</a><a id="2092" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="2094" class="Symbol">:</a> <a id="2096" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="2100" href="Data.Star.Pointer.html#238" class="Bound">I</a> <a id="2102" href="Data.Star.Pointer.html#2084" class="Bound">t</a><a id="2103" class="Symbol">}</a> <a id="2105" class="Symbol">{</a><a id="2106" href="Data.Star.Pointer.html#2106" class="Bound">P</a> <a id="2108" class="Symbol">:</a> <a id="2110" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="2119" href="Data.Star.Pointer.html#2086" class="Bound">p</a> <a id="2121" href="Data.Star.Pointer.html#2092" class="Bound">T</a><a id="2122" class="Symbol">}</a> <a id="2124" class="Symbol">{</a><a id="2125" href="Data.Star.Pointer.html#2125" class="Bound">Q</a> <a id="2127" class="Symbol">:</a> <a id="2129" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="2138" href="Data.Star.Pointer.html#2088" class="Bound">q</a> <a id="2140" href="Data.Star.Pointer.html#2092" class="Bound">T</a><a id="2141" class="Symbol">}</a> <a id="2143" class="Keyword">where</a>

  <a id="2152" href="Data.Star.Pointer.html#2152" class="Function">lookup</a> <a id="2159" class="Symbol">:</a> <a id="2161" class="Symbol">∀</a> <a id="2163" class="Symbol">{</a><a id="2164" href="Data.Star.Pointer.html#2164" class="Bound">r</a><a id="2165" class="Symbol">}</a> <a id="2167" class="Symbol">{</a><a id="2168" href="Data.Star.Pointer.html#2168" class="Bound">R</a> <a id="2170" class="Symbol">:</a> <a id="2172" href="Data.Star.Decoration.html#457" class="Function">EdgePred</a> <a id="2181" href="Data.Star.Pointer.html#2164" class="Bound">r</a> <a id="2183" href="Data.Star.Pointer.html#2092" class="Bound">T</a><a id="2184" class="Symbol">}</a> <a id="2186" class="Symbol">{</a><a id="2187" href="Data.Star.Pointer.html#2187" class="Bound">i</a> <a id="2189" href="Data.Star.Pointer.html#2189" class="Bound">j</a><a id="2190" class="Symbol">}</a> <a id="2192" class="Symbol">{</a><a id="2193" href="Data.Star.Pointer.html#2193" class="Bound">xs</a> <a id="2196" class="Symbol">:</a> <a id="2198" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="2203" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="2205" href="Data.Star.Pointer.html#2187" class="Bound">i</a> <a id="2207" href="Data.Star.Pointer.html#2189" class="Bound">j</a><a id="2208" class="Symbol">}</a> <a id="2210" class="Symbol">→</a>
           <a id="2223" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="2227" href="Data.Star.Pointer.html#2106" class="Bound">P</a> <a id="2229" href="Data.Star.Pointer.html#2125" class="Bound">Q</a> <a id="2231" href="Data.Star.Pointer.html#2193" class="Bound">xs</a> <a id="2234" class="Symbol">→</a> <a id="2236" href="Data.Star.Decoration.html#1485" class="Function">All</a> <a id="2240" href="Data.Star.Pointer.html#2168" class="Bound">R</a> <a id="2242" href="Data.Star.Pointer.html#2193" class="Bound">xs</a> <a id="2245" class="Symbol">→</a> <a id="2247" href="Data.Star.Pointer.html#1770" class="Datatype">Result</a> <a id="2254" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="2256" href="Data.Star.Pointer.html#2125" class="Bound">Q</a> <a id="2258" href="Data.Star.Pointer.html#2168" class="Bound">R</a>
  <a id="2262" href="Data.Star.Pointer.html#2152" class="Function">lookup</a> <a id="2269" class="Symbol">(</a><a id="2270" href="Data.Star.Pointer.html#918" class="InductiveConstructor">done</a> <a id="2275" href="Data.Star.Pointer.html#2275" class="Bound">q</a> <a id="2277" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2279" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">ε</a><a id="2280" class="Symbol">)</a>      <a id="2287" class="Symbol">(</a><a id="2288" href="Data.Star.Decoration.html#973" class="InductiveConstructor">↦</a> <a id="2290" href="Data.Star.Pointer.html#2290" class="Bound">r</a> <a id="2292" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2294" class="Symbol">_)</a>  <a id="2298" class="Symbol">=</a> <a id="2300" href="Data.Star.Pointer.html#1879" class="InductiveConstructor">result</a> <a id="2307" href="Data.Star.Pointer.html#2275" class="Bound">q</a> <a id="2309" href="Data.Star.Pointer.html#2290" class="Bound">r</a>
  <a id="2313" href="Data.Star.Pointer.html#2152" class="Function">lookup</a> <a id="2320" class="Symbol">(</a><a id="2321" href="Data.Star.Pointer.html#755" class="InductiveConstructor">step</a> <a id="2326" href="Data.Star.Pointer.html#2326" class="Bound">p</a> <a id="2328" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2330" href="Data.Star.Pointer.html#2330" class="Bound">ps</a><a id="2332" class="Symbol">)</a>     <a id="2338" class="Symbol">(</a><a id="2339" href="Data.Star.Decoration.html#973" class="InductiveConstructor">↦</a> <a id="2341" href="Data.Star.Pointer.html#2341" class="Bound">r</a> <a id="2343" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2345" href="Data.Star.Pointer.html#2345" class="Bound">rs</a><a id="2347" class="Symbol">)</a> <a id="2349" class="Symbol">=</a> <a id="2351" href="Data.Star.Pointer.html#2152" class="Function">lookup</a> <a id="2358" href="Data.Star.Pointer.html#2330" class="Bound">ps</a> <a id="2361" href="Data.Star.Pointer.html#2345" class="Bound">rs</a>
  <a id="2366" href="Data.Star.Pointer.html#2152" class="Function">lookup</a> <a id="2373" class="Symbol">(</a><a id="2374" href="Data.Star.Pointer.html#918" class="InductiveConstructor">done</a> <a id="2379" class="Symbol">_</a> <a id="2381" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2383" class="Symbol">()</a> <a id="2386" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2388" class="Symbol">_)</a> <a id="2391" class="Symbol">_</a>

<a id="2394" class="Comment">-- We can define something resembling init.</a>

  <a id="2441" href="Data.Star.Pointer.html#2441" class="Function">prefixIndex</a> <a id="2453" class="Symbol">:</a> <a id="2455" class="Symbol">∀</a> <a id="2457" class="Symbol">{</a><a id="2458" href="Data.Star.Pointer.html#2458" class="Bound">i</a> <a id="2460" href="Data.Star.Pointer.html#2460" class="Bound">j</a><a id="2461" class="Symbol">}</a> <a id="2463" class="Symbol">{</a><a id="2464" href="Data.Star.Pointer.html#2464" class="Bound">xs</a> <a id="2467" class="Symbol">:</a> <a id="2469" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="2474" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="2476" href="Data.Star.Pointer.html#2458" class="Bound">i</a> <a id="2478" href="Data.Star.Pointer.html#2460" class="Bound">j</a><a id="2479" class="Symbol">}</a> <a id="2481" class="Symbol">→</a> <a id="2483" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="2487" href="Data.Star.Pointer.html#2106" class="Bound">P</a> <a id="2489" href="Data.Star.Pointer.html#2125" class="Bound">Q</a> <a id="2491" href="Data.Star.Pointer.html#2464" class="Bound">xs</a> <a id="2494" class="Symbol">→</a> <a id="2496" href="Data.Star.Pointer.html#238" class="Bound">I</a>
  <a id="2500" href="Data.Star.Pointer.html#2441" class="Function">prefixIndex</a> <a id="2512" class="Symbol">(</a><a id="2513" href="Data.Star.Pointer.html#918" class="InductiveConstructor">done</a> <a id="2518" class="Symbol">{</a><a id="2519" class="Argument">i</a> <a id="2521" class="Symbol">=</a> <a id="2523" href="Data.Star.Pointer.html#2523" class="Bound">i</a><a id="2524" class="Symbol">}</a> <a id="2526" href="Data.Star.Pointer.html#2526" class="Bound">q</a> <a id="2528" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2530" class="Symbol">_)</a>  <a id="2534" class="Symbol">=</a> <a id="2536" href="Data.Star.Pointer.html#2523" class="Bound">i</a>
  <a id="2540" href="Data.Star.Pointer.html#2441" class="Function">prefixIndex</a> <a id="2552" class="Symbol">(</a><a id="2553" href="Data.Star.Pointer.html#755" class="InductiveConstructor">step</a> <a id="2558" href="Data.Star.Pointer.html#2558" class="Bound">p</a>         <a id="2568" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2570" href="Data.Star.Pointer.html#2570" class="Bound">ps</a><a id="2572" class="Symbol">)</a> <a id="2574" class="Symbol">=</a> <a id="2576" href="Data.Star.Pointer.html#2441" class="Function">prefixIndex</a> <a id="2588" href="Data.Star.Pointer.html#2570" class="Bound">ps</a>

  <a id="2594" href="Data.Star.Pointer.html#2594" class="Function">prefix</a> <a id="2601" class="Symbol">:</a> <a id="2603" class="Symbol">∀</a> <a id="2605" class="Symbol">{</a><a id="2606" href="Data.Star.Pointer.html#2606" class="Bound">i</a> <a id="2608" href="Data.Star.Pointer.html#2608" class="Bound">j</a><a id="2609" class="Symbol">}</a> <a id="2611" class="Symbol">{</a><a id="2612" href="Data.Star.Pointer.html#2612" class="Bound">xs</a> <a id="2615" class="Symbol">:</a> <a id="2617" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="2622" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="2624" href="Data.Star.Pointer.html#2606" class="Bound">i</a> <a id="2626" href="Data.Star.Pointer.html#2608" class="Bound">j</a><a id="2627" class="Symbol">}</a> <a id="2629" class="Symbol">→</a>
           <a id="2642" class="Symbol">(</a><a id="2643" href="Data.Star.Pointer.html#2643" class="Bound">ps</a> <a id="2646" class="Symbol">:</a> <a id="2648" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="2652" href="Data.Star.Pointer.html#2106" class="Bound">P</a> <a id="2654" href="Data.Star.Pointer.html#2125" class="Bound">Q</a> <a id="2656" href="Data.Star.Pointer.html#2612" class="Bound">xs</a><a id="2658" class="Symbol">)</a> <a id="2660" class="Symbol">→</a> <a id="2662" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="2667" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="2669" href="Data.Star.Pointer.html#2606" class="Bound">i</a> <a id="2671" class="Symbol">(</a><a id="2672" href="Data.Star.Pointer.html#2441" class="Function">prefixIndex</a> <a id="2684" href="Data.Star.Pointer.html#2643" class="Bound">ps</a><a id="2686" class="Symbol">)</a>
  <a id="2690" href="Data.Star.Pointer.html#2594" class="Function">prefix</a> <a id="2697" class="Symbol">(</a><a id="2698" href="Data.Star.Pointer.html#918" class="InductiveConstructor">done</a> <a id="2703" href="Data.Star.Pointer.html#2703" class="Bound">q</a>         <a id="2713" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2715" class="Symbol">_)</a>  <a id="2719" class="Symbol">=</a> <a id="2721" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">ε</a>
  <a id="2725" href="Data.Star.Pointer.html#2594" class="Function">prefix</a> <a id="2732" class="Symbol">(</a><a id="2733" href="Data.Star.Pointer.html#755" class="InductiveConstructor">step</a> <a id="2738" class="Symbol">{</a><a id="2739" class="Argument">x</a> <a id="2741" class="Symbol">=</a> <a id="2743" href="Data.Star.Pointer.html#2743" class="Bound">x</a><a id="2744" class="Symbol">}</a> <a id="2746" href="Data.Star.Pointer.html#2746" class="Bound">p</a> <a id="2748" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2750" href="Data.Star.Pointer.html#2750" class="Bound">ps</a><a id="2752" class="Symbol">)</a> <a id="2754" class="Symbol">=</a> <a id="2756" href="Data.Star.Pointer.html#2743" class="Bound">x</a> <a id="2758" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2760" href="Data.Star.Pointer.html#2594" class="Function">prefix</a> <a id="2767" href="Data.Star.Pointer.html#2750" class="Bound">ps</a>

<a id="2771" class="Comment">-- Here we are taking the initial segment of ps (all elements but the</a>
<a id="2841" class="Comment">-- last, i.e. all edges satisfying P).</a>

  <a id="2883" href="Data.Star.Pointer.html#2883" class="Function">init</a> <a id="2888" class="Symbol">:</a> <a id="2890" class="Symbol">∀</a> <a id="2892" class="Symbol">{</a><a id="2893" href="Data.Star.Pointer.html#2893" class="Bound">i</a> <a id="2895" href="Data.Star.Pointer.html#2895" class="Bound">j</a><a id="2896" class="Symbol">}</a> <a id="2898" class="Symbol">{</a><a id="2899" href="Data.Star.Pointer.html#2899" class="Bound">xs</a> <a id="2902" class="Symbol">:</a> <a id="2904" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="2909" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="2911" href="Data.Star.Pointer.html#2893" class="Bound">i</a> <a id="2913" href="Data.Star.Pointer.html#2895" class="Bound">j</a><a id="2914" class="Symbol">}</a> <a id="2916" class="Symbol">→</a>
        <a id="2926" class="Symbol">(</a><a id="2927" href="Data.Star.Pointer.html#2927" class="Bound">ps</a> <a id="2930" class="Symbol">:</a> <a id="2932" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="2936" href="Data.Star.Pointer.html#2106" class="Bound">P</a> <a id="2938" href="Data.Star.Pointer.html#2125" class="Bound">Q</a> <a id="2940" href="Data.Star.Pointer.html#2899" class="Bound">xs</a><a id="2942" class="Symbol">)</a> <a id="2944" class="Symbol">→</a> <a id="2946" href="Data.Star.Decoration.html#1485" class="Function">All</a> <a id="2950" href="Data.Star.Pointer.html#2106" class="Bound">P</a> <a id="2952" class="Symbol">(</a><a id="2953" href="Data.Star.Pointer.html#2594" class="Function">prefix</a> <a id="2960" href="Data.Star.Pointer.html#2927" class="Bound">ps</a><a id="2962" class="Symbol">)</a>
  <a id="2966" href="Data.Star.Pointer.html#2883" class="Function">init</a> <a id="2971" class="Symbol">(</a><a id="2972" href="Data.Star.Pointer.html#918" class="InductiveConstructor">done</a> <a id="2977" href="Data.Star.Pointer.html#2977" class="Bound">q</a> <a id="2979" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="2981" class="Symbol">_)</a>  <a id="2985" class="Symbol">=</a> <a id="2987" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">ε</a>
  <a id="2991" href="Data.Star.Pointer.html#2883" class="Function">init</a> <a id="2996" class="Symbol">(</a><a id="2997" href="Data.Star.Pointer.html#755" class="InductiveConstructor">step</a> <a id="3002" href="Data.Star.Pointer.html#3002" class="Bound">p</a> <a id="3004" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="3006" href="Data.Star.Pointer.html#3006" class="Bound">ps</a><a id="3008" class="Symbol">)</a> <a id="3010" class="Symbol">=</a> <a id="3012" href="Data.Star.Decoration.html#973" class="InductiveConstructor">↦</a> <a id="3014" href="Data.Star.Pointer.html#3002" class="Bound">p</a> <a id="3016" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="3018" href="Data.Star.Pointer.html#2883" class="Function">init</a> <a id="3023" href="Data.Star.Pointer.html#3006" class="Bound">ps</a>

<a id="3027" class="Comment">-- One can simplify the implementation by not carrying around the</a>
<a id="3093" class="Comment">-- indices in the type:</a>

  <a id="3120" href="Data.Star.Pointer.html#3120" class="Function">last</a> <a id="3125" class="Symbol">:</a> <a id="3127" class="Symbol">∀</a> <a id="3129" class="Symbol">{</a><a id="3130" href="Data.Star.Pointer.html#3130" class="Bound">i</a> <a id="3132" href="Data.Star.Pointer.html#3132" class="Bound">j</a><a id="3133" class="Symbol">}</a> <a id="3135" class="Symbol">{</a><a id="3136" href="Data.Star.Pointer.html#3136" class="Bound">xs</a> <a id="3139" class="Symbol">:</a> <a id="3141" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="3146" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="3148" href="Data.Star.Pointer.html#3130" class="Bound">i</a> <a id="3150" href="Data.Star.Pointer.html#3132" class="Bound">j</a><a id="3151" class="Symbol">}</a> <a id="3153" class="Symbol">→</a>
         <a id="3164" href="Data.Star.Pointer.html#1269" class="Function">Any</a> <a id="3168" href="Data.Star.Pointer.html#2106" class="Bound">P</a> <a id="3170" href="Data.Star.Pointer.html#2125" class="Bound">Q</a> <a id="3172" href="Data.Star.Pointer.html#3136" class="Bound">xs</a> <a id="3175" class="Symbol">→</a> <a id="3177" href="Data.Star.Decoration.html#584" class="Datatype">NonEmptyEdgePred</a> <a id="3194" href="Data.Star.Pointer.html#2092" class="Bound">T</a> <a id="3196" href="Data.Star.Pointer.html#2125" class="Bound">Q</a>
  <a id="3200" href="Data.Star.Pointer.html#3120" class="Function">last</a> <a id="3205" href="Data.Star.Pointer.html#3205" class="Bound">ps</a> <a id="3208" class="Keyword">with</a> <a id="3213" href="Data.Star.Pointer.html#2152" class="Function">lookup</a> <a id="3220" class="Symbol">{</a><a id="3221" class="Argument">r</a> <a id="3223" class="Symbol">=</a> <a id="3225" href="Data.Star.Pointer.html#2086" class="Bound">p</a><a id="3226" class="Symbol">}</a> <a id="3228" href="Data.Star.Pointer.html#3205" class="Bound">ps</a> <a id="3231" class="Symbol">(</a><a id="3232" href="Data.Star.Decoration.html#2590" class="Function">decorate</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Function.html#1109" class="Function">const</a> <a id="3248" class="Symbol">(</a><a id="3249" href="Level.html#415" class="InductiveConstructor">lift</a> <a id="3254" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="3256" class="Symbol">))</a> <a id="3259" class="Symbol">_)</a>
  <a id="3264" class="Symbol">...</a> <a id="3268" class="Symbol">|</a> <a id="3270" href="Data.Star.Pointer.html#1879" class="InductiveConstructor">result</a> <a id="3277" href="Data.Star.Pointer.html#3277" class="Bound">q</a> <a id="3279" class="Symbol">_</a> <a id="3281" class="Symbol">=</a> <a id="3283" href="Data.Star.Decoration.html#710" class="InductiveConstructor">nonEmptyEdgePred</a> <a id="3300" href="Data.Star.Pointer.html#3277" class="Bound">q</a>
</pre></body></html>