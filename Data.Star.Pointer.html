<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Star.Pointer</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Pointers into star-lists</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Option">--with-K</a> <a id="229" class="Symbol">#-}</a>

<a id="234" class="Keyword">module</a> <a id="241" href="Data.Star.Pointer.html" class="Module">Data.Star.Pointer</a> <a id="259" class="Symbol">{</a><a id="260" href="Data.Star.Pointer.html#260" class="Bound">ℓ</a><a id="261" class="Symbol">}</a> <a id="263" class="Symbol">{</a><a id="264" href="Data.Star.Pointer.html#264" class="Bound">I</a> <a id="266" class="Symbol">:</a> <a id="268" class="PrimitiveType">Set</a> <a id="272" href="Data.Star.Pointer.html#260" class="Bound">ℓ</a><a id="273" class="Symbol">}</a> <a id="275" class="Keyword">where</a>

<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="310" class="Keyword">using</a> <a id="316" class="Symbol">(</a><a id="317" href="Data.Maybe.Base.html#703" class="Datatype">Maybe</a><a id="322" class="Symbol">;</a> <a id="324" href="Data.Maybe.Base.html#771" class="InductiveConstructor">nothing</a><a id="331" class="Symbol">;</a> <a id="333" href="Data.Maybe.Base.html#741" class="InductiveConstructor">just</a><a id="337" class="Symbol">)</a>
<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="Data.Star.Decoration.html" class="Module">Data.Star.Decoration</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="394" class="Keyword">open</a> <a id="399" class="Keyword">import</a> <a id="406" href="Function.html" class="Module">Function</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Level.html" class="Module">Level</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a>

<a id="528" class="Comment">-- Pointers into star-lists. The edge pointed to is decorated with Q,</a>
<a id="598" class="Comment">-- while other edges are decorated with P.</a>

<a id="642" class="Keyword">data</a> <a id="Pointer"></a><a id="647" href="Data.Star.Pointer.html#647" class="Datatype">Pointer</a> <a id="655" class="Symbol">{</a><a id="656" href="Data.Star.Pointer.html#656" class="Bound">r</a> <a id="658" href="Data.Star.Pointer.html#658" class="Bound">p</a> <a id="660" href="Data.Star.Pointer.html#660" class="Bound">q</a><a id="661" class="Symbol">}</a> <a id="663" class="Symbol">{</a><a id="664" href="Data.Star.Pointer.html#664" class="Bound">T</a> <a id="666" class="Symbol">:</a> <a id="668" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="672" href="Data.Star.Pointer.html#264" class="Bound">I</a> <a id="674" href="Data.Star.Pointer.html#656" class="Bound">r</a><a id="675" class="Symbol">}</a>
             <a id="690" class="Symbol">(</a><a id="691" href="Data.Star.Pointer.html#691" class="Bound">P</a> <a id="693" class="Symbol">:</a> <a id="695" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="704" href="Data.Star.Pointer.html#658" class="Bound">p</a> <a id="706" href="Data.Star.Pointer.html#664" class="Bound">T</a><a id="707" class="Symbol">)</a> <a id="709" class="Symbol">(</a><a id="710" href="Data.Star.Pointer.html#710" class="Bound">Q</a> <a id="712" class="Symbol">:</a> <a id="714" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="723" href="Data.Star.Pointer.html#660" class="Bound">q</a> <a id="725" href="Data.Star.Pointer.html#664" class="Bound">T</a><a id="726" class="Symbol">)</a>
             <a id="741" class="Symbol">:</a> <a id="743" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="747" class="Symbol">(</a><a id="748" href="Data.Maybe.Base.html#703" class="Datatype">Maybe</a> <a id="754" class="Symbol">(</a><a id="755" href="Relation.Binary.Core.html#5067" class="Record">NonEmpty</a> <a id="764" class="Symbol">(</a><a id="765" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="770" href="Data.Star.Pointer.html#664" class="Bound">T</a><a id="771" class="Symbol">)))</a> <a id="775" class="Symbol">(</a><a id="776" href="Data.Star.Pointer.html#658" class="Bound">p</a> <a id="778" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="780" href="Data.Star.Pointer.html#660" class="Bound">q</a><a id="781" class="Symbol">)</a> <a id="783" class="Keyword">where</a>
  <a id="Pointer.step"></a><a id="791" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="796" class="Symbol">:</a> <a id="798" class="Symbol">∀</a> <a id="800" class="Symbol">{</a><a id="801" href="Data.Star.Pointer.html#801" class="Bound">i</a> <a id="803" href="Data.Star.Pointer.html#803" class="Bound">j</a> <a id="805" href="Data.Star.Pointer.html#805" class="Bound">k</a><a id="806" class="Symbol">}</a> <a id="808" class="Symbol">{</a><a id="809" href="Data.Star.Pointer.html#809" class="Bound">x</a> <a id="811" class="Symbol">:</a> <a id="813" href="Data.Star.Pointer.html#664" class="Bound">T</a> <a id="815" href="Data.Star.Pointer.html#801" class="Bound">i</a> <a id="817" href="Data.Star.Pointer.html#803" class="Bound">j</a><a id="818" class="Symbol">}</a> <a id="820" class="Symbol">{</a><a id="821" href="Data.Star.Pointer.html#821" class="Bound">xs</a> <a id="824" class="Symbol">:</a> <a id="826" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="831" href="Data.Star.Pointer.html#664" class="Bound">T</a> <a id="833" href="Data.Star.Pointer.html#803" class="Bound">j</a> <a id="835" href="Data.Star.Pointer.html#805" class="Bound">k</a><a id="836" class="Symbol">}</a>
         <a id="847" class="Symbol">(</a><a id="848" href="Data.Star.Pointer.html#848" class="Bound">p</a> <a id="850" class="Symbol">:</a> <a id="852" href="Data.Star.Pointer.html#691" class="Bound">P</a> <a id="854" href="Data.Star.Pointer.html#809" class="Bound">x</a><a id="855" class="Symbol">)</a> <a id="857" class="Symbol">→</a> <a id="859" href="Data.Star.Pointer.html#647" class="Datatype">Pointer</a> <a id="867" href="Data.Star.Pointer.html#691" class="Bound">P</a> <a id="869" href="Data.Star.Pointer.html#710" class="Bound">Q</a> <a id="871" class="Symbol">(</a><a id="872" href="Data.Maybe.Base.html#741" class="InductiveConstructor">just</a> <a id="877" class="Symbol">(</a><a id="878" href="Relation.Binary.Core.html#5178" class="InductiveConstructor">nonEmpty</a> <a id="887" class="Symbol">(</a><a id="888" href="Data.Star.Pointer.html#809" class="Bound">x</a> <a id="890" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="892" href="Data.Star.Pointer.html#821" class="Bound">xs</a><a id="894" class="Symbol">)))</a>
                                 <a id="931" class="Symbol">(</a><a id="932" href="Data.Maybe.Base.html#741" class="InductiveConstructor">just</a> <a id="937" class="Symbol">(</a><a id="938" href="Relation.Binary.Core.html#5178" class="InductiveConstructor">nonEmpty</a> <a id="947" href="Data.Star.Pointer.html#821" class="Bound">xs</a><a id="949" class="Symbol">))</a>
  <a id="Pointer.done"></a><a id="954" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="959" class="Symbol">:</a> <a id="961" class="Symbol">∀</a> <a id="963" class="Symbol">{</a><a id="964" href="Data.Star.Pointer.html#964" class="Bound">i</a> <a id="966" href="Data.Star.Pointer.html#966" class="Bound">j</a> <a id="968" href="Data.Star.Pointer.html#968" class="Bound">k</a><a id="969" class="Symbol">}</a> <a id="971" class="Symbol">{</a><a id="972" href="Data.Star.Pointer.html#972" class="Bound">x</a> <a id="974" class="Symbol">:</a> <a id="976" href="Data.Star.Pointer.html#664" class="Bound">T</a> <a id="978" href="Data.Star.Pointer.html#964" class="Bound">i</a> <a id="980" href="Data.Star.Pointer.html#966" class="Bound">j</a><a id="981" class="Symbol">}</a> <a id="983" class="Symbol">{</a><a id="984" href="Data.Star.Pointer.html#984" class="Bound">xs</a> <a id="987" class="Symbol">:</a> <a id="989" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="994" href="Data.Star.Pointer.html#664" class="Bound">T</a> <a id="996" href="Data.Star.Pointer.html#966" class="Bound">j</a> <a id="998" href="Data.Star.Pointer.html#968" class="Bound">k</a><a id="999" class="Symbol">}</a>
         <a id="1010" class="Symbol">(</a><a id="1011" href="Data.Star.Pointer.html#1011" class="Bound">q</a> <a id="1013" class="Symbol">:</a> <a id="1015" href="Data.Star.Pointer.html#710" class="Bound">Q</a> <a id="1017" href="Data.Star.Pointer.html#972" class="Bound">x</a><a id="1018" class="Symbol">)</a> <a id="1020" class="Symbol">→</a> <a id="1022" href="Data.Star.Pointer.html#647" class="Datatype">Pointer</a> <a id="1030" href="Data.Star.Pointer.html#691" class="Bound">P</a> <a id="1032" href="Data.Star.Pointer.html#710" class="Bound">Q</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Data.Maybe.Base.html#741" class="InductiveConstructor">just</a> <a id="1040" class="Symbol">(</a><a id="1041" href="Relation.Binary.Core.html#5178" class="InductiveConstructor">nonEmpty</a> <a id="1050" class="Symbol">(</a><a id="1051" href="Data.Star.Pointer.html#972" class="Bound">x</a> <a id="1053" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="1055" href="Data.Star.Pointer.html#984" class="Bound">xs</a><a id="1057" class="Symbol">)))</a> <a id="1061" href="Data.Maybe.Base.html#771" class="InductiveConstructor">nothing</a>

<a id="1070" class="Comment">-- Any P Q xs means that some edge in xs satisfies Q, while all</a>
<a id="1134" class="Comment">-- preceding edges satisfy P. A star-list of type Any Always Always xs</a>
<a id="1205" class="Comment">-- is basically a prefix of xs; the existence of such a prefix</a>
<a id="1268" class="Comment">-- guarantees that xs is non-empty.</a>

<a id="Any"></a><a id="1305" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="1309" class="Symbol">:</a> <a id="1311" class="Symbol">∀</a> <a id="1313" class="Symbol">{</a><a id="1314" href="Data.Star.Pointer.html#1314" class="Bound">r</a> <a id="1316" href="Data.Star.Pointer.html#1316" class="Bound">p</a> <a id="1318" href="Data.Star.Pointer.html#1318" class="Bound">q</a><a id="1319" class="Symbol">}</a> <a id="1321" class="Symbol">{</a><a id="1322" href="Data.Star.Pointer.html#1322" class="Bound">T</a> <a id="1324" class="Symbol">:</a> <a id="1326" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="1330" href="Data.Star.Pointer.html#264" class="Bound">I</a> <a id="1332" href="Data.Star.Pointer.html#1314" class="Bound">r</a><a id="1333" class="Symbol">}</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Data.Star.Pointer.html#1336" class="Bound">P</a> <a id="1338" class="Symbol">:</a> <a id="1340" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="1349" href="Data.Star.Pointer.html#1316" class="Bound">p</a> <a id="1351" href="Data.Star.Pointer.html#1322" class="Bound">T</a><a id="1352" class="Symbol">)</a> <a id="1354" class="Symbol">(</a><a id="1355" href="Data.Star.Pointer.html#1355" class="Bound">Q</a> <a id="1357" class="Symbol">:</a> <a id="1359" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="1368" href="Data.Star.Pointer.html#1318" class="Bound">q</a> <a id="1370" href="Data.Star.Pointer.html#1322" class="Bound">T</a><a id="1371" class="Symbol">)</a> <a id="1373" class="Symbol">→</a>
      <a id="1381" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="1390" class="Symbol">(</a><a id="1391" href="Data.Star.Pointer.html#260" class="Bound">ℓ</a> <a id="1393" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Data.Star.Pointer.html#1314" class="Bound">r</a> <a id="1398" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1400" class="Symbol">(</a><a id="1401" href="Data.Star.Pointer.html#1316" class="Bound">p</a> <a id="1403" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1405" href="Data.Star.Pointer.html#1318" class="Bound">q</a><a id="1406" class="Symbol">)))</a> <a id="1410" class="Symbol">(</a><a id="1411" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="1416" href="Data.Star.Pointer.html#1322" class="Bound">T</a><a id="1417" class="Symbol">)</a>
<a id="1419" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="1423" href="Data.Star.Pointer.html#1423" class="Bound">P</a> <a id="1425" href="Data.Star.Pointer.html#1425" class="Bound">Q</a> <a id="1427" href="Data.Star.Pointer.html#1427" class="Bound">xs</a> <a id="1430" class="Symbol">=</a> <a id="1432" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="1437" class="Symbol">(</a><a id="1438" href="Data.Star.Pointer.html#647" class="Datatype">Pointer</a> <a id="1446" href="Data.Star.Pointer.html#1423" class="Bound">P</a> <a id="1448" href="Data.Star.Pointer.html#1425" class="Bound">Q</a><a id="1449" class="Symbol">)</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Data.Maybe.Base.html#741" class="InductiveConstructor">just</a> <a id="1457" class="Symbol">(</a><a id="1458" href="Relation.Binary.Core.html#5178" class="InductiveConstructor">nonEmpty</a> <a id="1467" href="Data.Star.Pointer.html#1427" class="Bound">xs</a><a id="1469" class="Symbol">))</a> <a id="1472" href="Data.Maybe.Base.html#771" class="InductiveConstructor">nothing</a>

<a id="1481" class="Keyword">module</a> <a id="1488" href="Data.Star.Pointer.html#1488" class="Module">_</a> <a id="1490" class="Symbol">{</a><a id="1491" href="Data.Star.Pointer.html#1491" class="Bound">r</a> <a id="1493" href="Data.Star.Pointer.html#1493" class="Bound">p</a> <a id="1495" href="Data.Star.Pointer.html#1495" class="Bound">q</a><a id="1496" class="Symbol">}</a> <a id="1498" class="Symbol">{</a><a id="1499" href="Data.Star.Pointer.html#1499" class="Bound">T</a> <a id="1501" class="Symbol">:</a> <a id="1503" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="1507" href="Data.Star.Pointer.html#264" class="Bound">I</a> <a id="1509" href="Data.Star.Pointer.html#1491" class="Bound">r</a><a id="1510" class="Symbol">}</a> <a id="1512" class="Symbol">{</a><a id="1513" href="Data.Star.Pointer.html#1513" class="Bound">P</a> <a id="1515" class="Symbol">:</a> <a id="1517" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="1526" href="Data.Star.Pointer.html#1493" class="Bound">p</a> <a id="1528" href="Data.Star.Pointer.html#1499" class="Bound">T</a><a id="1529" class="Symbol">}</a> <a id="1531" class="Symbol">{</a><a id="1532" href="Data.Star.Pointer.html#1532" class="Bound">Q</a> <a id="1534" class="Symbol">:</a> <a id="1536" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="1545" href="Data.Star.Pointer.html#1495" class="Bound">q</a> <a id="1547" href="Data.Star.Pointer.html#1499" class="Bound">T</a><a id="1548" class="Symbol">}</a> <a id="1550" class="Keyword">where</a>

  <a id="1559" href="Data.Star.Pointer.html#1559" class="Function">this</a> <a id="1564" class="Symbol">:</a> <a id="1566" class="Symbol">∀</a> <a id="1568" class="Symbol">{</a><a id="1569" href="Data.Star.Pointer.html#1569" class="Bound">i</a> <a id="1571" href="Data.Star.Pointer.html#1571" class="Bound">j</a> <a id="1573" href="Data.Star.Pointer.html#1573" class="Bound">k</a><a id="1574" class="Symbol">}</a> <a id="1576" class="Symbol">{</a><a id="1577" href="Data.Star.Pointer.html#1577" class="Bound">x</a> <a id="1579" class="Symbol">:</a> <a id="1581" href="Data.Star.Pointer.html#1499" class="Bound">T</a> <a id="1583" href="Data.Star.Pointer.html#1569" class="Bound">i</a> <a id="1585" href="Data.Star.Pointer.html#1571" class="Bound">j</a><a id="1586" class="Symbol">}</a> <a id="1588" class="Symbol">{</a><a id="1589" href="Data.Star.Pointer.html#1589" class="Bound">xs</a> <a id="1592" class="Symbol">:</a> <a id="1594" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="1599" href="Data.Star.Pointer.html#1499" class="Bound">T</a> <a id="1601" href="Data.Star.Pointer.html#1571" class="Bound">j</a> <a id="1603" href="Data.Star.Pointer.html#1573" class="Bound">k</a><a id="1604" class="Symbol">}</a> <a id="1606" class="Symbol">→</a>
         <a id="1617" href="Data.Star.Pointer.html#1532" class="Bound">Q</a> <a id="1619" href="Data.Star.Pointer.html#1577" class="Bound">x</a> <a id="1621" class="Symbol">→</a> <a id="1623" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="1627" href="Data.Star.Pointer.html#1513" class="Bound">P</a> <a id="1629" href="Data.Star.Pointer.html#1532" class="Bound">Q</a> <a id="1631" class="Symbol">(</a><a id="1632" href="Data.Star.Pointer.html#1577" class="Bound">x</a> <a id="1634" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="1636" href="Data.Star.Pointer.html#1589" class="Bound">xs</a><a id="1638" class="Symbol">)</a>
  <a id="1642" href="Data.Star.Pointer.html#1559" class="Function">this</a> <a id="1647" href="Data.Star.Pointer.html#1647" class="Bound">q</a> <a id="1649" class="Symbol">=</a> <a id="1651" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="1656" href="Data.Star.Pointer.html#1647" class="Bound">q</a> <a id="1658" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="1660" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#539" class="InductiveConstructor">ε</a>

  <a id="1665" href="Data.Star.Pointer.html#1665" class="Function">that</a> <a id="1670" class="Symbol">:</a> <a id="1672" class="Symbol">∀</a> <a id="1674" class="Symbol">{</a><a id="1675" href="Data.Star.Pointer.html#1675" class="Bound">i</a> <a id="1677" href="Data.Star.Pointer.html#1677" class="Bound">j</a> <a id="1679" href="Data.Star.Pointer.html#1679" class="Bound">k</a><a id="1680" class="Symbol">}</a> <a id="1682" class="Symbol">{</a><a id="1683" href="Data.Star.Pointer.html#1683" class="Bound">x</a> <a id="1685" class="Symbol">:</a> <a id="1687" href="Data.Star.Pointer.html#1499" class="Bound">T</a> <a id="1689" href="Data.Star.Pointer.html#1675" class="Bound">i</a> <a id="1691" href="Data.Star.Pointer.html#1677" class="Bound">j</a><a id="1692" class="Symbol">}</a> <a id="1694" class="Symbol">{</a><a id="1695" href="Data.Star.Pointer.html#1695" class="Bound">xs</a> <a id="1698" class="Symbol">:</a> <a id="1700" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="1705" href="Data.Star.Pointer.html#1499" class="Bound">T</a> <a id="1707" href="Data.Star.Pointer.html#1677" class="Bound">j</a> <a id="1709" href="Data.Star.Pointer.html#1679" class="Bound">k</a><a id="1710" class="Symbol">}</a> <a id="1712" class="Symbol">→</a>
         <a id="1723" href="Data.Star.Pointer.html#1513" class="Bound">P</a> <a id="1725" href="Data.Star.Pointer.html#1683" class="Bound">x</a> <a id="1727" class="Symbol">→</a> <a id="1729" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="1733" href="Data.Star.Pointer.html#1513" class="Bound">P</a> <a id="1735" href="Data.Star.Pointer.html#1532" class="Bound">Q</a> <a id="1737" href="Data.Star.Pointer.html#1695" class="Bound">xs</a> <a id="1740" class="Symbol">→</a> <a id="1742" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="1746" href="Data.Star.Pointer.html#1513" class="Bound">P</a> <a id="1748" href="Data.Star.Pointer.html#1532" class="Bound">Q</a> <a id="1750" class="Symbol">(</a><a id="1751" href="Data.Star.Pointer.html#1683" class="Bound">x</a> <a id="1753" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="1755" href="Data.Star.Pointer.html#1695" class="Bound">xs</a><a id="1757" class="Symbol">)</a>
  <a id="1761" href="Data.Star.Pointer.html#1665" class="Function">that</a> <a id="1766" href="Data.Star.Pointer.html#1766" class="Bound">p</a> <a id="1768" class="Symbol">=</a> <a id="1770" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">_◅_</a> <a id="1774" class="Symbol">(</a><a id="1775" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="1780" href="Data.Star.Pointer.html#1766" class="Bound">p</a><a id="1781" class="Symbol">)</a>

<a id="1784" class="Comment">-- Safe lookup.</a>

<a id="1801" class="Keyword">data</a> <a id="Result"></a><a id="1806" href="Data.Star.Pointer.html#1806" class="Datatype">Result</a> <a id="1813" class="Symbol">{</a><a id="1814" href="Data.Star.Pointer.html#1814" class="Bound">r</a> <a id="1816" href="Data.Star.Pointer.html#1816" class="Bound">p</a> <a id="1818" href="Data.Star.Pointer.html#1818" class="Bound">q</a><a id="1819" class="Symbol">}</a> <a id="1821" class="Symbol">(</a><a id="1822" href="Data.Star.Pointer.html#1822" class="Bound">T</a> <a id="1824" class="Symbol">:</a> <a id="1826" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="1830" href="Data.Star.Pointer.html#264" class="Bound">I</a> <a id="1832" href="Data.Star.Pointer.html#1814" class="Bound">r</a><a id="1833" class="Symbol">)</a>
            <a id="1847" class="Symbol">(</a><a id="1848" href="Data.Star.Pointer.html#1848" class="Bound">P</a> <a id="1850" class="Symbol">:</a> <a id="1852" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="1861" href="Data.Star.Pointer.html#1816" class="Bound">p</a> <a id="1863" href="Data.Star.Pointer.html#1822" class="Bound">T</a><a id="1864" class="Symbol">)</a> <a id="1866" class="Symbol">(</a><a id="1867" href="Data.Star.Pointer.html#1867" class="Bound">Q</a> <a id="1869" class="Symbol">:</a> <a id="1871" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="1880" href="Data.Star.Pointer.html#1818" class="Bound">q</a> <a id="1882" href="Data.Star.Pointer.html#1822" class="Bound">T</a><a id="1883" class="Symbol">)</a> <a id="1885" class="Symbol">:</a> <a id="1887" class="PrimitiveType">Set</a> <a id="1891" class="Symbol">(</a><a id="1892" href="Data.Star.Pointer.html#260" class="Bound">ℓ</a> <a id="1894" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1896" href="Data.Star.Pointer.html#1814" class="Bound">r</a> <a id="1898" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1900" href="Data.Star.Pointer.html#1816" class="Bound">p</a> <a id="1902" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1904" href="Data.Star.Pointer.html#1818" class="Bound">q</a><a id="1905" class="Symbol">)</a> <a id="1907" class="Keyword">where</a>
  <a id="Result.result"></a><a id="1915" href="Data.Star.Pointer.html#1915" class="InductiveConstructor">result</a> <a id="1922" class="Symbol">:</a> <a id="1924" class="Symbol">∀</a> <a id="1926" class="Symbol">{</a><a id="1927" href="Data.Star.Pointer.html#1927" class="Bound">i</a> <a id="1929" href="Data.Star.Pointer.html#1929" class="Bound">j</a><a id="1930" class="Symbol">}</a> <a id="1932" class="Symbol">{</a><a id="1933" href="Data.Star.Pointer.html#1933" class="Bound">x</a> <a id="1935" class="Symbol">:</a> <a id="1937" href="Data.Star.Pointer.html#1822" class="Bound">T</a> <a id="1939" href="Data.Star.Pointer.html#1927" class="Bound">i</a> <a id="1941" href="Data.Star.Pointer.html#1929" class="Bound">j</a><a id="1942" class="Symbol">}</a> <a id="1944" class="Symbol">(</a><a id="1945" href="Data.Star.Pointer.html#1945" class="Bound">p</a> <a id="1947" class="Symbol">:</a> <a id="1949" href="Data.Star.Pointer.html#1848" class="Bound">P</a> <a id="1951" href="Data.Star.Pointer.html#1933" class="Bound">x</a><a id="1952" class="Symbol">)</a> <a id="1954" class="Symbol">(</a><a id="1955" href="Data.Star.Pointer.html#1955" class="Bound">q</a> <a id="1957" class="Symbol">:</a> <a id="1959" href="Data.Star.Pointer.html#1867" class="Bound">Q</a> <a id="1961" href="Data.Star.Pointer.html#1933" class="Bound">x</a><a id="1962" class="Symbol">)</a> <a id="1964" class="Symbol">→</a> <a id="1966" href="Data.Star.Pointer.html#1806" class="Datatype">Result</a> <a id="1973" href="Data.Star.Pointer.html#1822" class="Bound">T</a> <a id="1975" href="Data.Star.Pointer.html#1848" class="Bound">P</a> <a id="1977" href="Data.Star.Pointer.html#1867" class="Bound">Q</a>

<a id="1980" class="Comment">-- The first argument points out which edge to extract. The edge is</a>
<a id="2048" class="Comment">-- returned, together with proofs that it satisfies Q and R.</a>

<a id="2110" class="Keyword">module</a> <a id="2117" href="Data.Star.Pointer.html#2117" class="Module">_</a> <a id="2119" class="Symbol">{</a><a id="2120" href="Data.Star.Pointer.html#2120" class="Bound">t</a> <a id="2122" href="Data.Star.Pointer.html#2122" class="Bound">p</a> <a id="2124" href="Data.Star.Pointer.html#2124" class="Bound">q</a><a id="2125" class="Symbol">}</a> <a id="2127" class="Symbol">{</a><a id="2128" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="2130" class="Symbol">:</a> <a id="2132" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="2136" href="Data.Star.Pointer.html#264" class="Bound">I</a> <a id="2138" href="Data.Star.Pointer.html#2120" class="Bound">t</a><a id="2139" class="Symbol">}</a> <a id="2141" class="Symbol">{</a><a id="2142" href="Data.Star.Pointer.html#2142" class="Bound">P</a> <a id="2144" class="Symbol">:</a> <a id="2146" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="2155" href="Data.Star.Pointer.html#2122" class="Bound">p</a> <a id="2157" href="Data.Star.Pointer.html#2128" class="Bound">T</a><a id="2158" class="Symbol">}</a> <a id="2160" class="Symbol">{</a><a id="2161" href="Data.Star.Pointer.html#2161" class="Bound">Q</a> <a id="2163" class="Symbol">:</a> <a id="2165" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="2174" href="Data.Star.Pointer.html#2124" class="Bound">q</a> <a id="2176" href="Data.Star.Pointer.html#2128" class="Bound">T</a><a id="2177" class="Symbol">}</a> <a id="2179" class="Keyword">where</a>

  <a id="2188" href="Data.Star.Pointer.html#2188" class="Function">lookup</a> <a id="2195" class="Symbol">:</a> <a id="2197" class="Symbol">∀</a> <a id="2199" class="Symbol">{</a><a id="2200" href="Data.Star.Pointer.html#2200" class="Bound">r</a><a id="2201" class="Symbol">}</a> <a id="2203" class="Symbol">{</a><a id="2204" href="Data.Star.Pointer.html#2204" class="Bound">R</a> <a id="2206" class="Symbol">:</a> <a id="2208" href="Data.Star.Decoration.html#493" class="Function">EdgePred</a> <a id="2217" href="Data.Star.Pointer.html#2200" class="Bound">r</a> <a id="2219" href="Data.Star.Pointer.html#2128" class="Bound">T</a><a id="2220" class="Symbol">}</a> <a id="2222" class="Symbol">{</a><a id="2223" href="Data.Star.Pointer.html#2223" class="Bound">i</a> <a id="2225" href="Data.Star.Pointer.html#2225" class="Bound">j</a><a id="2226" class="Symbol">}</a> <a id="2228" class="Symbol">{</a><a id="2229" href="Data.Star.Pointer.html#2229" class="Bound">xs</a> <a id="2232" class="Symbol">:</a> <a id="2234" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="2239" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="2241" href="Data.Star.Pointer.html#2223" class="Bound">i</a> <a id="2243" href="Data.Star.Pointer.html#2225" class="Bound">j</a><a id="2244" class="Symbol">}</a> <a id="2246" class="Symbol">→</a>
           <a id="2259" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="2263" href="Data.Star.Pointer.html#2142" class="Bound">P</a> <a id="2265" href="Data.Star.Pointer.html#2161" class="Bound">Q</a> <a id="2267" href="Data.Star.Pointer.html#2229" class="Bound">xs</a> <a id="2270" class="Symbol">→</a> <a id="2272" href="Data.Star.Decoration.html#1521" class="Function">All</a> <a id="2276" href="Data.Star.Pointer.html#2204" class="Bound">R</a> <a id="2278" href="Data.Star.Pointer.html#2229" class="Bound">xs</a> <a id="2281" class="Symbol">→</a> <a id="2283" href="Data.Star.Pointer.html#1806" class="Datatype">Result</a> <a id="2290" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="2292" href="Data.Star.Pointer.html#2161" class="Bound">Q</a> <a id="2294" href="Data.Star.Pointer.html#2204" class="Bound">R</a>
  <a id="2298" href="Data.Star.Pointer.html#2188" class="Function">lookup</a> <a id="2305" class="Symbol">(</a><a id="2306" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="2311" href="Data.Star.Pointer.html#2311" class="Bound">q</a> <a id="2313" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2315" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#539" class="InductiveConstructor">ε</a><a id="2316" class="Symbol">)</a>      <a id="2323" class="Symbol">(</a><a id="2324" href="Data.Star.Decoration.html#1009" class="InductiveConstructor">↦</a> <a id="2326" href="Data.Star.Pointer.html#2326" class="Bound">r</a> <a id="2328" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2330" class="Symbol">_)</a>  <a id="2334" class="Symbol">=</a> <a id="2336" href="Data.Star.Pointer.html#1915" class="InductiveConstructor">result</a> <a id="2343" href="Data.Star.Pointer.html#2311" class="Bound">q</a> <a id="2345" href="Data.Star.Pointer.html#2326" class="Bound">r</a>
  <a id="2349" href="Data.Star.Pointer.html#2188" class="Function">lookup</a> <a id="2356" class="Symbol">(</a><a id="2357" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="2362" href="Data.Star.Pointer.html#2362" class="Bound">p</a> <a id="2364" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2366" href="Data.Star.Pointer.html#2366" class="Bound">ps</a><a id="2368" class="Symbol">)</a>     <a id="2374" class="Symbol">(</a><a id="2375" href="Data.Star.Decoration.html#1009" class="InductiveConstructor">↦</a> <a id="2377" href="Data.Star.Pointer.html#2377" class="Bound">r</a> <a id="2379" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2381" href="Data.Star.Pointer.html#2381" class="Bound">rs</a><a id="2383" class="Symbol">)</a> <a id="2385" class="Symbol">=</a> <a id="2387" href="Data.Star.Pointer.html#2188" class="Function">lookup</a> <a id="2394" href="Data.Star.Pointer.html#2366" class="Bound">ps</a> <a id="2397" href="Data.Star.Pointer.html#2381" class="Bound">rs</a>
  <a id="2402" href="Data.Star.Pointer.html#2188" class="Function">lookup</a> <a id="2409" class="Symbol">(</a><a id="2410" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="2415" class="Symbol">_</a> <a id="2417" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2419" class="Symbol">()</a> <a id="2422" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2424" class="Symbol">_)</a> <a id="2427" class="Symbol">_</a>

<a id="2430" class="Comment">-- We can define something resembling init.</a>

  <a id="2477" href="Data.Star.Pointer.html#2477" class="Function">prefixIndex</a> <a id="2489" class="Symbol">:</a> <a id="2491" class="Symbol">∀</a> <a id="2493" class="Symbol">{</a><a id="2494" href="Data.Star.Pointer.html#2494" class="Bound">i</a> <a id="2496" href="Data.Star.Pointer.html#2496" class="Bound">j</a><a id="2497" class="Symbol">}</a> <a id="2499" class="Symbol">{</a><a id="2500" href="Data.Star.Pointer.html#2500" class="Bound">xs</a> <a id="2503" class="Symbol">:</a> <a id="2505" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="2510" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="2512" href="Data.Star.Pointer.html#2494" class="Bound">i</a> <a id="2514" href="Data.Star.Pointer.html#2496" class="Bound">j</a><a id="2515" class="Symbol">}</a> <a id="2517" class="Symbol">→</a> <a id="2519" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="2523" href="Data.Star.Pointer.html#2142" class="Bound">P</a> <a id="2525" href="Data.Star.Pointer.html#2161" class="Bound">Q</a> <a id="2527" href="Data.Star.Pointer.html#2500" class="Bound">xs</a> <a id="2530" class="Symbol">→</a> <a id="2532" href="Data.Star.Pointer.html#264" class="Bound">I</a>
  <a id="2536" href="Data.Star.Pointer.html#2477" class="Function">prefixIndex</a> <a id="2548" class="Symbol">(</a><a id="2549" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="2554" class="Symbol">{</a><a id="2555" class="Argument">i</a> <a id="2557" class="Symbol">=</a> <a id="2559" href="Data.Star.Pointer.html#2559" class="Bound">i</a><a id="2560" class="Symbol">}</a> <a id="2562" href="Data.Star.Pointer.html#2562" class="Bound">q</a> <a id="2564" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2566" class="Symbol">_)</a>  <a id="2570" class="Symbol">=</a> <a id="2572" href="Data.Star.Pointer.html#2559" class="Bound">i</a>
  <a id="2576" href="Data.Star.Pointer.html#2477" class="Function">prefixIndex</a> <a id="2588" class="Symbol">(</a><a id="2589" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="2594" href="Data.Star.Pointer.html#2594" class="Bound">p</a>         <a id="2604" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2606" href="Data.Star.Pointer.html#2606" class="Bound">ps</a><a id="2608" class="Symbol">)</a> <a id="2610" class="Symbol">=</a> <a id="2612" href="Data.Star.Pointer.html#2477" class="Function">prefixIndex</a> <a id="2624" href="Data.Star.Pointer.html#2606" class="Bound">ps</a>

  <a id="2630" href="Data.Star.Pointer.html#2630" class="Function">prefix</a> <a id="2637" class="Symbol">:</a> <a id="2639" class="Symbol">∀</a> <a id="2641" class="Symbol">{</a><a id="2642" href="Data.Star.Pointer.html#2642" class="Bound">i</a> <a id="2644" href="Data.Star.Pointer.html#2644" class="Bound">j</a><a id="2645" class="Symbol">}</a> <a id="2647" class="Symbol">{</a><a id="2648" href="Data.Star.Pointer.html#2648" class="Bound">xs</a> <a id="2651" class="Symbol">:</a> <a id="2653" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="2658" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="2660" href="Data.Star.Pointer.html#2642" class="Bound">i</a> <a id="2662" href="Data.Star.Pointer.html#2644" class="Bound">j</a><a id="2663" class="Symbol">}</a> <a id="2665" class="Symbol">→</a>
           <a id="2678" class="Symbol">(</a><a id="2679" href="Data.Star.Pointer.html#2679" class="Bound">ps</a> <a id="2682" class="Symbol">:</a> <a id="2684" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="2688" href="Data.Star.Pointer.html#2142" class="Bound">P</a> <a id="2690" href="Data.Star.Pointer.html#2161" class="Bound">Q</a> <a id="2692" href="Data.Star.Pointer.html#2648" class="Bound">xs</a><a id="2694" class="Symbol">)</a> <a id="2696" class="Symbol">→</a> <a id="2698" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="2703" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="2705" href="Data.Star.Pointer.html#2642" class="Bound">i</a> <a id="2707" class="Symbol">(</a><a id="2708" href="Data.Star.Pointer.html#2477" class="Function">prefixIndex</a> <a id="2720" href="Data.Star.Pointer.html#2679" class="Bound">ps</a><a id="2722" class="Symbol">)</a>
  <a id="2726" href="Data.Star.Pointer.html#2630" class="Function">prefix</a> <a id="2733" class="Symbol">(</a><a id="2734" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="2739" href="Data.Star.Pointer.html#2739" class="Bound">q</a>         <a id="2749" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2751" class="Symbol">_)</a>  <a id="2755" class="Symbol">=</a> <a id="2757" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#539" class="InductiveConstructor">ε</a>
  <a id="2761" href="Data.Star.Pointer.html#2630" class="Function">prefix</a> <a id="2768" class="Symbol">(</a><a id="2769" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="2774" class="Symbol">{</a><a id="2775" class="Argument">x</a> <a id="2777" class="Symbol">=</a> <a id="2779" href="Data.Star.Pointer.html#2779" class="Bound">x</a><a id="2780" class="Symbol">}</a> <a id="2782" href="Data.Star.Pointer.html#2782" class="Bound">p</a> <a id="2784" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2786" href="Data.Star.Pointer.html#2786" class="Bound">ps</a><a id="2788" class="Symbol">)</a> <a id="2790" class="Symbol">=</a> <a id="2792" href="Data.Star.Pointer.html#2779" class="Bound">x</a> <a id="2794" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="2796" href="Data.Star.Pointer.html#2630" class="Function">prefix</a> <a id="2803" href="Data.Star.Pointer.html#2786" class="Bound">ps</a>

<a id="2807" class="Comment">-- Here we are taking the initial segment of ps (all elements but the</a>
<a id="2877" class="Comment">-- last, i.e. all edges satisfying P).</a>

  <a id="2919" href="Data.Star.Pointer.html#2919" class="Function">init</a> <a id="2924" class="Symbol">:</a> <a id="2926" class="Symbol">∀</a> <a id="2928" class="Symbol">{</a><a id="2929" href="Data.Star.Pointer.html#2929" class="Bound">i</a> <a id="2931" href="Data.Star.Pointer.html#2931" class="Bound">j</a><a id="2932" class="Symbol">}</a> <a id="2934" class="Symbol">{</a><a id="2935" href="Data.Star.Pointer.html#2935" class="Bound">xs</a> <a id="2938" class="Symbol">:</a> <a id="2940" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="2945" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="2947" href="Data.Star.Pointer.html#2929" class="Bound">i</a> <a id="2949" href="Data.Star.Pointer.html#2931" class="Bound">j</a><a id="2950" class="Symbol">}</a> <a id="2952" class="Symbol">→</a>
        <a id="2962" class="Symbol">(</a><a id="2963" href="Data.Star.Pointer.html#2963" class="Bound">ps</a> <a id="2966" class="Symbol">:</a> <a id="2968" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="2972" href="Data.Star.Pointer.html#2142" class="Bound">P</a> <a id="2974" href="Data.Star.Pointer.html#2161" class="Bound">Q</a> <a id="2976" href="Data.Star.Pointer.html#2935" class="Bound">xs</a><a id="2978" class="Symbol">)</a> <a id="2980" class="Symbol">→</a> <a id="2982" href="Data.Star.Decoration.html#1521" class="Function">All</a> <a id="2986" href="Data.Star.Pointer.html#2142" class="Bound">P</a> <a id="2988" class="Symbol">(</a><a id="2989" href="Data.Star.Pointer.html#2630" class="Function">prefix</a> <a id="2996" href="Data.Star.Pointer.html#2963" class="Bound">ps</a><a id="2998" class="Symbol">)</a>
  <a id="3002" href="Data.Star.Pointer.html#2919" class="Function">init</a> <a id="3007" class="Symbol">(</a><a id="3008" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="3013" href="Data.Star.Pointer.html#3013" class="Bound">q</a> <a id="3015" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="3017" class="Symbol">_)</a>  <a id="3021" class="Symbol">=</a> <a id="3023" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#539" class="InductiveConstructor">ε</a>
  <a id="3027" href="Data.Star.Pointer.html#2919" class="Function">init</a> <a id="3032" class="Symbol">(</a><a id="3033" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="3038" href="Data.Star.Pointer.html#3038" class="Bound">p</a> <a id="3040" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="3042" href="Data.Star.Pointer.html#3042" class="Bound">ps</a><a id="3044" class="Symbol">)</a> <a id="3046" class="Symbol">=</a> <a id="3048" href="Data.Star.Decoration.html#1009" class="InductiveConstructor">↦</a> <a id="3050" href="Data.Star.Pointer.html#3038" class="Bound">p</a> <a id="3052" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="3054" href="Data.Star.Pointer.html#2919" class="Function">init</a> <a id="3059" href="Data.Star.Pointer.html#3042" class="Bound">ps</a>

<a id="3063" class="Comment">-- One can simplify the implementation by not carrying around the</a>
<a id="3129" class="Comment">-- indices in the type:</a>

  <a id="3156" href="Data.Star.Pointer.html#3156" class="Function">last</a> <a id="3161" class="Symbol">:</a> <a id="3163" class="Symbol">∀</a> <a id="3165" class="Symbol">{</a><a id="3166" href="Data.Star.Pointer.html#3166" class="Bound">i</a> <a id="3168" href="Data.Star.Pointer.html#3168" class="Bound">j</a><a id="3169" class="Symbol">}</a> <a id="3171" class="Symbol">{</a><a id="3172" href="Data.Star.Pointer.html#3172" class="Bound">xs</a> <a id="3175" class="Symbol">:</a> <a id="3177" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#478" class="Datatype">Star</a> <a id="3182" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="3184" href="Data.Star.Pointer.html#3166" class="Bound">i</a> <a id="3186" href="Data.Star.Pointer.html#3168" class="Bound">j</a><a id="3187" class="Symbol">}</a> <a id="3189" class="Symbol">→</a>
         <a id="3200" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="3204" href="Data.Star.Pointer.html#2142" class="Bound">P</a> <a id="3206" href="Data.Star.Pointer.html#2161" class="Bound">Q</a> <a id="3208" href="Data.Star.Pointer.html#3172" class="Bound">xs</a> <a id="3211" class="Symbol">→</a> <a id="3213" href="Data.Star.Decoration.html#620" class="Datatype">NonEmptyEdgePred</a> <a id="3230" href="Data.Star.Pointer.html#2128" class="Bound">T</a> <a id="3232" href="Data.Star.Pointer.html#2161" class="Bound">Q</a>
  <a id="3236" href="Data.Star.Pointer.html#3156" class="Function">last</a> <a id="3241" href="Data.Star.Pointer.html#3241" class="Bound">ps</a> <a id="3244" class="Keyword">with</a> <a id="3249" href="Data.Star.Pointer.html#2188" class="Function">lookup</a> <a id="3256" class="Symbol">{</a><a id="3257" class="Argument">r</a> <a id="3259" class="Symbol">=</a> <a id="3261" href="Data.Star.Pointer.html#2122" class="Bound">p</a><a id="3262" class="Symbol">}</a> <a id="3264" href="Data.Star.Pointer.html#3241" class="Bound">ps</a> <a id="3267" class="Symbol">(</a><a id="3268" href="Data.Star.Decoration.html#2626" class="Function">decorate</a> <a id="3277" class="Symbol">(</a><a id="3278" href="Function.html#1138" class="Function">const</a> <a id="3284" class="Symbol">(</a><a id="3285" href="Level.html#444" class="InductiveConstructor">lift</a> <a id="3290" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="3292" class="Symbol">))</a> <a id="3295" class="Symbol">_)</a>
  <a id="3300" class="Symbol">...</a> <a id="3304" class="Symbol">|</a> <a id="3306" href="Data.Star.Pointer.html#1915" class="InductiveConstructor">result</a> <a id="3313" href="Data.Star.Pointer.html#3313" class="Bound">q</a> <a id="3315" class="Symbol">_</a> <a id="3317" class="Symbol">=</a> <a id="3319" href="Data.Star.Decoration.html#746" class="InductiveConstructor">nonEmptyEdgePred</a> <a id="3336" href="Data.Star.Pointer.html#3313" class="Bound">q</a>
</pre></body></html>