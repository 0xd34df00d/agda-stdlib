<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Nary</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Heterogeneous N-ary Relations</a>
<a id="139" class="Comment">------------------------------------------------------------------------</a>

<a id="213" class="Symbol">{-#</a> <a id="217" class="Keyword">OPTIONS</a> <a id="225" class="Pragma">--without-K</a> <a id="237" class="Pragma">--safe</a> <a id="244" class="Symbol">#-}</a>

<a id="249" class="Keyword">module</a> <a id="256" href="Relation.Nary.html" class="Module">Relation.Nary</a> <a id="270" class="Keyword">where</a>

<a id="277" class="Comment">------------------------------------------------------------------------</a>
<a id="350" class="Comment">-- Concrete examples can be found in README.Nary. This file&#39;s comments</a>
<a id="421" class="Comment">-- are more focused on the implementation details and the motivations</a>
<a id="491" class="Comment">-- behind the design decisions.</a>
<a id="523" class="Comment">------------------------------------------------------------------------</a>

<a id="597" class="Keyword">open</a> <a id="602" class="Keyword">import</a> <a id="609" href="Level.html" class="Module">Level</a> <a id="615" class="Keyword">using</a> <a id="621" class="Symbol">(</a><a id="622" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="627" class="Symbol">;</a> <a id="629" href="Agda.Primitive.html#657" class="Primitive Operator">_⊔_</a><a id="632" class="Symbol">)</a>
<a id="634" class="Keyword">open</a> <a id="639" class="Keyword">import</a> <a id="646" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="660" class="Keyword">using</a> <a id="666" class="Symbol">(</a><a id="667" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="671" class="Symbol">;</a> <a id="673" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="676" class="Symbol">)</a>
<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Data.Product.html" class="Module">Data.Product</a> <a id="703" class="Keyword">using</a> <a id="709" class="Symbol">(</a><a id="710" href="Data.Product.html#1162" class="Function Operator">_×_</a><a id="713" class="Symbol">;</a> <a id="715" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a><a id="718" class="Symbol">)</a>
<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="Data.Product.Nary.NonDependent.html" class="Module">Data.Product.Nary.NonDependent</a> <a id="763" class="Keyword">using</a> <a id="769" class="Symbol">(</a><a id="770" href="Data.Product.Nary.NonDependent.html#1388" class="Function">Product⊤</a><a id="778" class="Symbol">;</a> <a id="780" href="Data.Product.Nary.NonDependent.html#3448" class="Function">curry⊤ₙ</a><a id="787" class="Symbol">;</a> <a id="789" href="Data.Product.Nary.NonDependent.html#3584" class="Function">uncurry⊤ₙ</a><a id="798" class="Symbol">)</a>
<a id="800" class="Keyword">open</a> <a id="805" class="Keyword">import</a> <a id="812" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="821" class="Keyword">using</a> <a id="827" class="Symbol">(</a><a id="828" href="Data.Sum.Base.html#612" class="Datatype Operator">_⊎_</a><a id="831" class="Symbol">)</a>
<a id="833" class="Keyword">open</a> <a id="838" class="Keyword">import</a> <a id="845" href="Function.html" class="Module">Function</a> <a id="854" class="Keyword">using</a> <a id="860" class="Symbol">(</a><a id="861" href="Function.html#1645" class="Function Operator">_$_</a><a id="864" class="Symbol">)</a>
<a id="866" class="Keyword">open</a> <a id="871" class="Keyword">import</a> <a id="878" href="Function.Nary.NonDependent.html" class="Module">Function.Nary.NonDependent</a>
<a id="905" class="Keyword">open</a> <a id="910" class="Keyword">import</a> <a id="917" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="934" class="Keyword">using</a> <a id="940" class="Symbol">(</a><a id="941" href="Relation.Nullary.html#535" class="Function Operator">¬_</a><a id="943" class="Symbol">)</a>
<a id="945" class="Keyword">import</a> <a id="952" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="967" class="Symbol">as</a> <a id="970" class="Module">Unary</a>

<a id="977" class="Keyword">private</a>
  <a id="987" class="Keyword">variable</a>
    <a id="1000" href="Relation.Nary.html#1000" class="Generalizable">r</a> <a id="1002" class="Symbol">:</a> <a id="1004" href="Agda.Primitive.html#408" class="Postulate">Level</a>
    <a id="1014" href="Relation.Nary.html#1014" class="Generalizable">R</a> <a id="1016" class="Symbol">:</a> <a id="1018" class="PrimitiveType">Set</a> <a id="1022" href="Relation.Nary.html#1000" class="Generalizable">r</a>

<a id="1025" class="Comment">------------------------------------------------------------------------</a>
<a id="1098" class="Comment">-- Generic type constructors</a>

<a id="1128" class="Comment">-- `Relation.Unary` provides users with a wealth of combinators to work</a>
<a id="1200" class="Comment">-- with indexed sets. We can generalise these to n-ary relations.</a>

<a id="1267" class="Comment">-- The crucial thing to notice here is that because we are explicitly</a>
<a id="1337" class="Comment">-- considering that the input function should be a `Set`-ended `Arrows`,</a>
<a id="1410" class="Comment">-- all the other parameters are inferrable. This allows us to make the</a>
<a id="1481" class="Comment">-- number arguments (`n`) implicit.</a>
<a id="1517" class="Comment">------------------------------------------------------------------------</a>

<a id="1591" class="Comment">------------------------------------------------------------------------</a>
<a id="1664" class="Comment">-- Quantifiers</a>

<a id="1680" class="Comment">-- If we already know how to quantify over one variable, we can easily</a>
<a id="1751" class="Comment">-- describe how to quantify over `n` variables by induction over said `n`.</a>

<a id="quantₙ"></a><a id="1827" href="Relation.Nary.html#1827" class="Function">quantₙ</a> <a id="1834" class="Symbol">:</a> <a id="1836" class="Symbol">(∀</a> <a id="1839" class="Symbol">{</a><a id="1840" href="Relation.Nary.html#1840" class="Bound">i</a> <a id="1842" href="Relation.Nary.html#1842" class="Bound">l</a><a id="1843" class="Symbol">}</a> <a id="1845" class="Symbol">{</a><a id="1846" href="Relation.Nary.html#1846" class="Bound">I</a> <a id="1848" class="Symbol">:</a> <a id="1850" class="PrimitiveType">Set</a> <a id="1854" href="Relation.Nary.html#1840" class="Bound">i</a><a id="1855" class="Symbol">}</a> <a id="1857" class="Symbol">→</a> <a id="1859" class="Symbol">(</a><a id="1860" href="Relation.Nary.html#1846" class="Bound">I</a> <a id="1862" class="Symbol">→</a> <a id="1864" class="PrimitiveType">Set</a> <a id="1868" href="Relation.Nary.html#1842" class="Bound">l</a><a id="1869" class="Symbol">)</a> <a id="1871" class="Symbol">→</a> <a id="1873" class="PrimitiveType">Set</a> <a id="1877" class="Symbol">(</a><a id="1878" href="Relation.Nary.html#1840" class="Bound">i</a> <a id="1880" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1882" href="Relation.Nary.html#1842" class="Bound">l</a><a id="1883" class="Symbol">))</a> <a id="1886" class="Symbol">→</a>
         <a id="1897" class="Symbol">∀</a> <a id="1899" href="Relation.Nary.html#1899" class="Bound">n</a> <a id="1901" class="Symbol">{</a><a id="1902" href="Relation.Nary.html#1902" class="Bound">ls</a><a id="1904" class="Symbol">}</a> <a id="1906" class="Symbol">{</a><a id="1907" href="Relation.Nary.html#1907" class="Bound">as</a> <a id="1910" class="Symbol">:</a> <a id="1912" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="1917" href="Relation.Nary.html#1899" class="Bound">n</a> <a id="1919" href="Relation.Nary.html#1902" class="Bound">ls</a><a id="1921" class="Symbol">}</a> <a id="1923" class="Symbol">→</a>
         <a id="1934" href="Function.Nary.NonDependent.html#2708" class="Function">Arrows</a> <a id="1941" href="Relation.Nary.html#1899" class="Bound">n</a> <a id="1943" href="Relation.Nary.html#1907" class="Bound">as</a> <a id="1946" class="Symbol">(</a><a id="1947" class="PrimitiveType">Set</a> <a id="1951" href="Relation.Nary.html#1000" class="Generalizable">r</a><a id="1952" class="Symbol">)</a> <a id="1954" class="Symbol">→</a> <a id="1956" class="PrimitiveType">Set</a> <a id="1960" class="Symbol">(</a><a id="1961" href="Relation.Nary.html#1000" class="Generalizable">r</a> <a id="1963" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1965" class="Symbol">(</a><a id="1966" href="Function.Nary.NonDependent.html#2185" class="Function">⨆</a> <a id="1968" href="Relation.Nary.html#1899" class="Bound">n</a> <a id="1970" href="Relation.Nary.html#1902" class="Bound">ls</a><a id="1972" class="Symbol">))</a>
<a id="1975" href="Relation.Nary.html#1827" class="Function">quantₙ</a> <a id="1982" href="Relation.Nary.html#1982" class="Bound">Q</a> <a id="1984" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>     <a id="1993" href="Relation.Nary.html#1993" class="Bound">f</a> <a id="1995" class="Symbol">=</a> <a id="1997" href="Relation.Nary.html#1993" class="Bound">f</a>
<a id="1999" href="Relation.Nary.html#1827" class="Function">quantₙ</a> <a id="2006" href="Relation.Nary.html#2006" class="Bound">Q</a> <a id="2008" class="Symbol">(</a><a id="2009" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="2013" href="Relation.Nary.html#2013" class="Bound">n</a><a id="2014" class="Symbol">)</a>  <a id="2017" href="Relation.Nary.html#2017" class="Bound">f</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="Relation.Nary.html#2006" class="Bound">Q</a> <a id="2023" class="Symbol">(λ</a> <a id="2026" href="Relation.Nary.html#2026" class="Bound">x</a> <a id="2028" class="Symbol">→</a> <a id="2030" href="Relation.Nary.html#1827" class="Function">quantₙ</a> <a id="2037" href="Relation.Nary.html#2006" class="Bound">Q</a> <a id="2039" href="Relation.Nary.html#2013" class="Bound">n</a> <a id="2041" class="Symbol">(</a><a id="2042" href="Relation.Nary.html#2017" class="Bound">f</a> <a id="2044" href="Relation.Nary.html#2026" class="Bound">x</a><a id="2045" class="Symbol">))</a>

<a id="2049" class="Keyword">infix</a> <a id="2055" class="Number">5</a> <a id="2057" href="Relation.Nary.html#2100" class="Function Operator">∃⟨_⟩</a> <a id="2062" href="Relation.Nary.html#2239" class="Function Operator">Π[_]</a> <a id="2067" href="Relation.Nary.html#2376" class="Function Operator">∀[_]</a>

<a id="2073" class="Comment">-- existential quantifier</a>

<a id="∃⟨_⟩"></a><a id="2100" href="Relation.Nary.html#2100" class="Function Operator">∃⟨_⟩</a> <a id="2105" class="Symbol">:</a> <a id="2107" class="Symbol">∀</a> <a id="2109" class="Symbol">{</a><a id="2110" href="Relation.Nary.html#2110" class="Bound">n</a> <a id="2112" href="Relation.Nary.html#2112" class="Bound">ls</a> <a id="2115" href="Relation.Nary.html#2115" class="Bound">r</a><a id="2116" class="Symbol">}</a> <a id="2118" class="Symbol">{</a><a id="2119" href="Relation.Nary.html#2119" class="Bound">as</a> <a id="2122" class="Symbol">:</a> <a id="2124" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="2129" href="Relation.Nary.html#2110" class="Bound">n</a> <a id="2131" href="Relation.Nary.html#2112" class="Bound">ls</a><a id="2133" class="Symbol">}</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="Relation.Nary.html#2119" class="Bound">as</a> <a id="2140" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="2142" class="PrimitiveType">Set</a> <a id="2146" href="Relation.Nary.html#2115" class="Bound">r</a> <a id="2148" class="Symbol">→</a> <a id="2150" class="PrimitiveType">Set</a> <a id="2154" class="Symbol">(</a><a id="2155" href="Relation.Nary.html#2115" class="Bound">r</a> <a id="2157" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2159" class="Symbol">(</a><a id="2160" href="Function.Nary.NonDependent.html#2185" class="Function">⨆</a> <a id="2162" href="Relation.Nary.html#2110" class="Bound">n</a> <a id="2164" href="Relation.Nary.html#2112" class="Bound">ls</a><a id="2166" class="Symbol">))</a>
<a id="2169" href="Relation.Nary.html#2100" class="Function Operator">∃⟨_⟩</a> <a id="2174" class="Symbol">=</a> <a id="2176" href="Relation.Nary.html#1827" class="Function">quantₙ</a> <a id="2183" href="Relation.Unary.html#3023" class="Function">Unary.Satisfiable</a> <a id="2201" class="Symbol">_</a>

<a id="2204" class="Comment">-- explicit universal quantifiers</a>

<a id="Π[_]"></a><a id="2239" href="Relation.Nary.html#2239" class="Function Operator">Π[_]</a> <a id="2244" class="Symbol">:</a> <a id="2246" class="Symbol">∀</a> <a id="2248" class="Symbol">{</a><a id="2249" href="Relation.Nary.html#2249" class="Bound">n</a> <a id="2251" href="Relation.Nary.html#2251" class="Bound">ls</a> <a id="2254" href="Relation.Nary.html#2254" class="Bound">r</a><a id="2255" class="Symbol">}</a> <a id="2257" class="Symbol">{</a><a id="2258" href="Relation.Nary.html#2258" class="Bound">as</a> <a id="2261" class="Symbol">:</a> <a id="2263" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="2268" href="Relation.Nary.html#2249" class="Bound">n</a> <a id="2270" href="Relation.Nary.html#2251" class="Bound">ls</a><a id="2272" class="Symbol">}</a> <a id="2274" class="Symbol">→</a> <a id="2276" href="Relation.Nary.html#2258" class="Bound">as</a> <a id="2279" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="2281" class="PrimitiveType">Set</a> <a id="2285" href="Relation.Nary.html#2254" class="Bound">r</a> <a id="2287" class="Symbol">→</a> <a id="2289" class="PrimitiveType">Set</a> <a id="2293" class="Symbol">(</a><a id="2294" href="Relation.Nary.html#2254" class="Bound">r</a> <a id="2296" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Function.Nary.NonDependent.html#2185" class="Function">⨆</a> <a id="2301" href="Relation.Nary.html#2249" class="Bound">n</a> <a id="2303" href="Relation.Nary.html#2251" class="Bound">ls</a><a id="2305" class="Symbol">))</a>
<a id="2308" href="Relation.Nary.html#2239" class="Function Operator">Π[_]</a> <a id="2313" class="Symbol">=</a> <a id="2315" href="Relation.Nary.html#1827" class="Function">quantₙ</a> <a id="2322" href="Relation.Unary.html#3159" class="Function">Unary.Universal</a> <a id="2338" class="Symbol">_</a>

<a id="2341" class="Comment">-- implicit universal quantifiers</a>

<a id="∀[_]"></a><a id="2376" href="Relation.Nary.html#2376" class="Function Operator">∀[_]</a> <a id="2381" class="Symbol">:</a> <a id="2383" class="Symbol">∀</a> <a id="2385" class="Symbol">{</a><a id="2386" href="Relation.Nary.html#2386" class="Bound">n</a> <a id="2388" href="Relation.Nary.html#2388" class="Bound">ls</a> <a id="2391" href="Relation.Nary.html#2391" class="Bound">r</a><a id="2392" class="Symbol">}</a> <a id="2394" class="Symbol">{</a><a id="2395" href="Relation.Nary.html#2395" class="Bound">as</a> <a id="2398" class="Symbol">:</a> <a id="2400" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="2405" href="Relation.Nary.html#2386" class="Bound">n</a> <a id="2407" href="Relation.Nary.html#2388" class="Bound">ls</a><a id="2409" class="Symbol">}</a> <a id="2411" class="Symbol">→</a> <a id="2413" href="Relation.Nary.html#2395" class="Bound">as</a> <a id="2416" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="2418" class="PrimitiveType">Set</a> <a id="2422" href="Relation.Nary.html#2391" class="Bound">r</a> <a id="2424" class="Symbol">→</a> <a id="2426" class="PrimitiveType">Set</a> <a id="2430" class="Symbol">(</a><a id="2431" href="Relation.Nary.html#2391" class="Bound">r</a> <a id="2433" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2435" class="Symbol">(</a><a id="2436" href="Function.Nary.NonDependent.html#2185" class="Function">⨆</a> <a id="2438" href="Relation.Nary.html#2386" class="Bound">n</a> <a id="2440" href="Relation.Nary.html#2388" class="Bound">ls</a><a id="2442" class="Symbol">))</a>
<a id="2445" href="Relation.Nary.html#2376" class="Function Operator">∀[_]</a> <a id="2450" class="Symbol">=</a> <a id="2452" href="Relation.Nary.html#1827" class="Function">quantₙ</a> <a id="2459" href="Relation.Unary.html#3297" class="Function">Unary.IUniversal</a> <a id="2476" class="Symbol">_</a>



<a id="2481" class="Comment">------------------------------------------------------------------------</a>
<a id="2554" class="Comment">-- Pointwise liftings of k-ary operators</a>

<a id="2596" class="Comment">-- Rather than having multiple ad-hoc lifting functions for various arities</a>
<a id="2672" class="Comment">-- we have a fully generic liftₙ functional which lifts a k-ary operator</a>
<a id="2745" class="Comment">-- to work with k n-ary functions whose respective codomains match the domains</a>
<a id="2824" class="Comment">-- of the operator.</a>
<a id="2844" class="Comment">-- The type of liftₙ is fairly unreadable. Here it is written with ellipsis:</a>

<a id="2922" class="Comment">-- liftₙ : ∀ k n. (B₁ → ⋯ → Bₖ → R) →</a>
<a id="2960" class="Comment">--                (A₁ → ⋯ → Aₙ → B₁) →</a>
<a id="2999" class="Comment">--                       ⋮</a>
<a id="3026" class="Comment">--                (A₁ → ⋯ → Aₙ → B₁) →</a>
<a id="3065" class="Comment">--                (A₁ → ⋯ → Aₙ → R)</a>

<a id="liftₙ"></a><a id="3102" href="Relation.Nary.html#3102" class="Function">liftₙ</a> <a id="3108" class="Symbol">:</a> <a id="3110" class="Symbol">∀</a> <a id="3112" href="Relation.Nary.html#3112" class="Bound">k</a> <a id="3114" href="Relation.Nary.html#3114" class="Bound">n</a> <a id="3116" class="Symbol">{</a><a id="3117" href="Relation.Nary.html#3117" class="Bound">ls</a> <a id="3120" href="Relation.Nary.html#3120" class="Bound">rs</a><a id="3122" class="Symbol">}</a> <a id="3124" class="Symbol">{</a><a id="3125" href="Relation.Nary.html#3125" class="Bound">as</a> <a id="3128" class="Symbol">:</a> <a id="3130" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="3135" href="Relation.Nary.html#3114" class="Bound">n</a> <a id="3137" href="Relation.Nary.html#3117" class="Bound">ls</a><a id="3139" class="Symbol">}</a> <a id="3141" class="Symbol">{</a><a id="3142" href="Relation.Nary.html#3142" class="Bound">bs</a> <a id="3145" class="Symbol">:</a> <a id="3147" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="3152" href="Relation.Nary.html#3112" class="Bound">k</a> <a id="3154" href="Relation.Nary.html#3120" class="Bound">rs</a><a id="3156" class="Symbol">}</a> <a id="3158" class="Symbol">→</a>
        <a id="3168" href="Function.Nary.NonDependent.html#2708" class="Function">Arrows</a> <a id="3175" href="Relation.Nary.html#3112" class="Bound">k</a> <a id="3177" href="Relation.Nary.html#3142" class="Bound">bs</a> <a id="3180" href="Relation.Nary.html#1014" class="Generalizable">R</a> <a id="3182" class="Symbol">→</a> <a id="3184" href="Function.Nary.NonDependent.html#2708" class="Function">Arrows</a> <a id="3191" href="Relation.Nary.html#3112" class="Bound">k</a> <a id="3193" class="Symbol">(</a><a id="3194" href="Function.Nary.NonDependent.html#3714" class="Function">smap</a> <a id="3199" class="Symbol">_</a> <a id="3201" class="Symbol">(</a><a id="3202" href="Function.Nary.NonDependent.html#2708" class="Function">Arrows</a> <a id="3209" href="Relation.Nary.html#3114" class="Bound">n</a> <a id="3211" href="Relation.Nary.html#3125" class="Bound">as</a><a id="3213" class="Symbol">)</a> <a id="3215" href="Relation.Nary.html#3112" class="Bound">k</a> <a id="3217" href="Relation.Nary.html#3142" class="Bound">bs</a><a id="3219" class="Symbol">)</a> <a id="3221" class="Symbol">(</a><a id="3222" href="Function.Nary.NonDependent.html#2708" class="Function">Arrows</a> <a id="3229" href="Relation.Nary.html#3114" class="Bound">n</a> <a id="3231" href="Relation.Nary.html#3125" class="Bound">as</a> <a id="3234" href="Relation.Nary.html#1014" class="Generalizable">R</a><a id="3235" class="Symbol">)</a>
<a id="3237" href="Relation.Nary.html#3102" class="Function">liftₙ</a> <a id="3243" href="Relation.Nary.html#3243" class="Bound">k</a> <a id="3245" href="Relation.Nary.html#3245" class="Bound">n</a> <a id="3247" href="Relation.Nary.html#3247" class="Bound">op</a> <a id="3250" class="Symbol">=</a> <a id="3252" href="Data.Product.Nary.NonDependent.html#3448" class="Function">curry⊤ₙ</a> <a id="3260" href="Relation.Nary.html#3243" class="Bound">k</a> <a id="3262" class="Symbol">λ</a> <a id="3264" href="Relation.Nary.html#3264" class="Bound">fs</a> <a id="3267" class="Symbol">→</a>
               <a id="3284" href="Data.Product.Nary.NonDependent.html#3448" class="Function">curry⊤ₙ</a> <a id="3292" href="Relation.Nary.html#3245" class="Bound">n</a> <a id="3294" class="Symbol">λ</a> <a id="3296" href="Relation.Nary.html#3296" class="Bound">vs</a> <a id="3299" class="Symbol">→</a>
               <a id="3316" href="Data.Product.Nary.NonDependent.html#3584" class="Function">uncurry⊤ₙ</a> <a id="3326" href="Relation.Nary.html#3243" class="Bound">k</a> <a id="3328" href="Relation.Nary.html#3247" class="Bound">op</a> <a id="3331" href="Function.html#1645" class="Function Operator">$</a>
               <a id="3348" href="Relation.Nary.html#3460" class="Function">palg</a> <a id="3353" class="Symbol">_</a> <a id="3355" class="Symbol">_</a> <a id="3357" href="Relation.Nary.html#3243" class="Bound">k</a> <a id="3359" class="Symbol">(λ</a> <a id="3362" href="Relation.Nary.html#3362" class="Bound">f</a> <a id="3364" class="Symbol">→</a> <a id="3366" href="Data.Product.Nary.NonDependent.html#3584" class="Function">uncurry⊤ₙ</a> <a id="3376" href="Relation.Nary.html#3245" class="Bound">n</a> <a id="3378" href="Relation.Nary.html#3362" class="Bound">f</a> <a id="3380" href="Relation.Nary.html#3296" class="Bound">vs</a><a id="3382" class="Symbol">)</a> <a id="3384" href="Relation.Nary.html#3264" class="Bound">fs</a> <a id="3387" class="Keyword">where</a>

  <a id="3396" class="Comment">-- The bulk of the work happens in this auxiliary definition:</a>
  <a id="3460" href="Relation.Nary.html#3460" class="Function">palg</a> <a id="3465" class="Symbol">:</a> <a id="3467" class="Symbol">∀</a> <a id="3469" href="Relation.Nary.html#3469" class="Bound">f</a> <a id="3471" class="Symbol">(</a><a id="3472" href="Relation.Nary.html#3472" class="Bound">F</a> <a id="3474" class="Symbol">:</a> <a id="3476" class="Symbol">∀</a> <a id="3478" class="Symbol">{</a><a id="3479" href="Relation.Nary.html#3479" class="Bound">l</a><a id="3480" class="Symbol">}</a> <a id="3482" class="Symbol">→</a> <a id="3484" class="PrimitiveType">Set</a> <a id="3488" href="Relation.Nary.html#3479" class="Bound">l</a> <a id="3490" class="Symbol">→</a> <a id="3492" class="PrimitiveType">Set</a> <a id="3496" class="Symbol">(</a><a id="3497" href="Relation.Nary.html#3469" class="Bound">f</a> <a id="3499" href="Relation.Nary.html#3479" class="Bound">l</a><a id="3500" class="Symbol">))</a> <a id="3503" href="Relation.Nary.html#3503" class="Bound">n</a> <a id="3505" class="Symbol">{</a><a id="3506" href="Relation.Nary.html#3506" class="Bound">ls</a><a id="3508" class="Symbol">}</a> <a id="3510" class="Symbol">{</a><a id="3511" href="Relation.Nary.html#3511" class="Bound">as</a> <a id="3514" class="Symbol">:</a> <a id="3516" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="3521" href="Relation.Nary.html#3503" class="Bound">n</a> <a id="3523" href="Relation.Nary.html#3506" class="Bound">ls</a><a id="3525" class="Symbol">}</a> <a id="3527" class="Symbol">→</a>
         <a id="3538" class="Symbol">(∀</a> <a id="3541" class="Symbol">{</a><a id="3542" href="Relation.Nary.html#3542" class="Bound">l</a><a id="3543" class="Symbol">}</a> <a id="3545" class="Symbol">{</a><a id="3546" href="Relation.Nary.html#3546" class="Bound">r</a> <a id="3548" class="Symbol">:</a> <a id="3550" class="PrimitiveType">Set</a> <a id="3554" href="Relation.Nary.html#3542" class="Bound">l</a><a id="3555" class="Symbol">}</a> <a id="3557" class="Symbol">→</a> <a id="3559" href="Relation.Nary.html#3472" class="Bound">F</a> <a id="3561" href="Relation.Nary.html#3546" class="Bound">r</a> <a id="3563" class="Symbol">→</a> <a id="3565" href="Relation.Nary.html#3546" class="Bound">r</a><a id="3566" class="Symbol">)</a> <a id="3568" class="Symbol">→</a> <a id="3570" href="Data.Product.Nary.NonDependent.html#1388" class="Function">Product⊤</a> <a id="3579" href="Relation.Nary.html#3503" class="Bound">n</a> <a id="3581" class="Symbol">(</a><a id="3582" href="Function.Nary.NonDependent.html#3714" class="Function">smap</a> <a id="3587" href="Relation.Nary.html#3469" class="Bound">f</a> <a id="3589" href="Relation.Nary.html#3472" class="Bound">F</a> <a id="3591" href="Relation.Nary.html#3503" class="Bound">n</a> <a id="3593" href="Relation.Nary.html#3511" class="Bound">as</a><a id="3595" class="Symbol">)</a> <a id="3597" class="Symbol">→</a> <a id="3599" href="Data.Product.Nary.NonDependent.html#1388" class="Function">Product⊤</a> <a id="3608" href="Relation.Nary.html#3503" class="Bound">n</a> <a id="3610" href="Relation.Nary.html#3511" class="Bound">as</a>
  <a id="3615" href="Relation.Nary.html#3460" class="Function">palg</a> <a id="3620" href="Relation.Nary.html#3620" class="Bound">f</a> <a id="3622" href="Relation.Nary.html#3622" class="Bound">F</a> <a id="3624" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>    <a id="3632" href="Relation.Nary.html#3632" class="Bound">alg</a> <a id="3636" href="Relation.Nary.html#3636" class="Bound">ps</a>       <a id="3645" class="Symbol">=</a> <a id="3647" class="Symbol">_</a>
  <a id="3651" href="Relation.Nary.html#3460" class="Function">palg</a> <a id="3656" href="Relation.Nary.html#3656" class="Bound">f</a> <a id="3658" href="Relation.Nary.html#3658" class="Bound">F</a> <a id="3660" class="Symbol">(</a><a id="3661" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="3665" href="Relation.Nary.html#3665" class="Bound">n</a><a id="3666" class="Symbol">)</a> <a id="3668" href="Relation.Nary.html#3668" class="Bound">alg</a> <a id="3672" class="Symbol">(</a><a id="3673" href="Relation.Nary.html#3673" class="Bound">p</a> <a id="3675" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3677" href="Relation.Nary.html#3677" class="Bound">ps</a><a id="3679" class="Symbol">)</a> <a id="3681" class="Symbol">=</a> <a id="3683" href="Relation.Nary.html#3668" class="Bound">alg</a> <a id="3687" href="Relation.Nary.html#3673" class="Bound">p</a> <a id="3689" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3691" href="Relation.Nary.html#3460" class="Function">palg</a> <a id="3696" href="Relation.Nary.html#3656" class="Bound">f</a> <a id="3698" href="Relation.Nary.html#3658" class="Bound">F</a> <a id="3700" href="Relation.Nary.html#3665" class="Bound">n</a> <a id="3702" href="Relation.Nary.html#3668" class="Bound">alg</a> <a id="3706" href="Relation.Nary.html#3677" class="Bound">ps</a>


<a id="3711" class="Comment">-- implication</a>

<a id="3727" class="Keyword">infixr</a> <a id="3734" class="Number">6</a> <a id="3736" href="Relation.Nary.html#3740" class="Function Operator">_⇒_</a>
<a id="_⇒_"></a><a id="3740" href="Relation.Nary.html#3740" class="Function Operator">_⇒_</a> <a id="3744" class="Symbol">:</a> <a id="3746" class="Symbol">∀</a> <a id="3748" class="Symbol">{</a><a id="3749" href="Relation.Nary.html#3749" class="Bound">n</a><a id="3750" class="Symbol">}</a> <a id="3752" class="Symbol">{</a><a id="3753" href="Relation.Nary.html#3753" class="Bound">ls</a> <a id="3756" href="Relation.Nary.html#3756" class="Bound">r</a> <a id="3758" href="Relation.Nary.html#3758" class="Bound">s</a><a id="3759" class="Symbol">}</a> <a id="3761" class="Symbol">{</a><a id="3762" href="Relation.Nary.html#3762" class="Bound">as</a> <a id="3765" class="Symbol">:</a> <a id="3767" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="3772" href="Relation.Nary.html#3749" class="Bound">n</a> <a id="3774" href="Relation.Nary.html#3753" class="Bound">ls</a><a id="3776" class="Symbol">}</a> <a id="3778" class="Symbol">→</a>
      <a id="3786" href="Relation.Nary.html#3762" class="Bound">as</a> <a id="3789" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="3791" class="PrimitiveType">Set</a> <a id="3795" href="Relation.Nary.html#3756" class="Bound">r</a> <a id="3797" class="Symbol">→</a> <a id="3799" href="Relation.Nary.html#3762" class="Bound">as</a> <a id="3802" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="3804" class="PrimitiveType">Set</a> <a id="3808" href="Relation.Nary.html#3758" class="Bound">s</a> <a id="3810" class="Symbol">→</a> <a id="3812" href="Relation.Nary.html#3762" class="Bound">as</a> <a id="3815" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="3817" class="PrimitiveType">Set</a> <a id="3821" class="Symbol">(</a><a id="3822" href="Relation.Nary.html#3756" class="Bound">r</a> <a id="3824" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="3826" href="Relation.Nary.html#3758" class="Bound">s</a><a id="3827" class="Symbol">)</a>
<a id="3829" href="Relation.Nary.html#3740" class="Function Operator">_⇒_</a> <a id="3833" class="Symbol">=</a> <a id="3835" href="Relation.Nary.html#3102" class="Function">liftₙ</a> <a id="3841" class="Number">2</a> <a id="3843" class="Symbol">_</a> <a id="3845" class="Symbol">(λ</a> <a id="3848" href="Relation.Nary.html#3848" class="Bound">A</a> <a id="3850" href="Relation.Nary.html#3850" class="Bound">B</a> <a id="3852" class="Symbol">→</a> <a id="3854" href="Relation.Nary.html#3848" class="Bound">A</a> <a id="3856" class="Symbol">→</a> <a id="3858" href="Relation.Nary.html#3850" class="Bound">B</a><a id="3859" class="Symbol">)</a>

<a id="3862" class="Comment">-- conjunction</a>

<a id="3878" class="Keyword">infixr</a> <a id="3885" class="Number">7</a> <a id="3887" href="Relation.Nary.html#3891" class="Function Operator">_∩_</a>
<a id="_∩_"></a><a id="3891" href="Relation.Nary.html#3891" class="Function Operator">_∩_</a> <a id="3895" class="Symbol">:</a> <a id="3897" class="Symbol">∀</a> <a id="3899" class="Symbol">{</a><a id="3900" href="Relation.Nary.html#3900" class="Bound">n</a><a id="3901" class="Symbol">}</a> <a id="3903" class="Symbol">{</a><a id="3904" href="Relation.Nary.html#3904" class="Bound">ls</a> <a id="3907" href="Relation.Nary.html#3907" class="Bound">r</a> <a id="3909" href="Relation.Nary.html#3909" class="Bound">s</a><a id="3910" class="Symbol">}</a> <a id="3912" class="Symbol">{</a><a id="3913" href="Relation.Nary.html#3913" class="Bound">as</a> <a id="3916" class="Symbol">:</a> <a id="3918" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="3923" href="Relation.Nary.html#3900" class="Bound">n</a> <a id="3925" href="Relation.Nary.html#3904" class="Bound">ls</a><a id="3927" class="Symbol">}</a> <a id="3929" class="Symbol">→</a>
      <a id="3937" href="Relation.Nary.html#3913" class="Bound">as</a> <a id="3940" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="3942" class="PrimitiveType">Set</a> <a id="3946" href="Relation.Nary.html#3907" class="Bound">r</a> <a id="3948" class="Symbol">→</a> <a id="3950" href="Relation.Nary.html#3913" class="Bound">as</a> <a id="3953" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="3955" class="PrimitiveType">Set</a> <a id="3959" href="Relation.Nary.html#3909" class="Bound">s</a> <a id="3961" class="Symbol">→</a> <a id="3963" href="Relation.Nary.html#3913" class="Bound">as</a> <a id="3966" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="3968" class="PrimitiveType">Set</a> <a id="3972" class="Symbol">(</a><a id="3973" href="Relation.Nary.html#3907" class="Bound">r</a> <a id="3975" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="3977" href="Relation.Nary.html#3909" class="Bound">s</a><a id="3978" class="Symbol">)</a>
<a id="3980" href="Relation.Nary.html#3891" class="Function Operator">_∩_</a> <a id="3984" class="Symbol">=</a> <a id="3986" href="Relation.Nary.html#3102" class="Function">liftₙ</a> <a id="3992" class="Number">2</a> <a id="3994" class="Symbol">_</a> <a id="3996" href="Data.Product.html#1162" class="Function Operator">_×_</a>

<a id="4001" class="Comment">-- disjunction</a>

<a id="4017" class="Keyword">infixr</a> <a id="4024" class="Number">8</a> <a id="4026" href="Relation.Nary.html#4030" class="Function Operator">_∪_</a>
<a id="_∪_"></a><a id="4030" href="Relation.Nary.html#4030" class="Function Operator">_∪_</a> <a id="4034" class="Symbol">:</a> <a id="4036" class="Symbol">∀</a> <a id="4038" class="Symbol">{</a><a id="4039" href="Relation.Nary.html#4039" class="Bound">n</a><a id="4040" class="Symbol">}</a> <a id="4042" class="Symbol">{</a><a id="4043" href="Relation.Nary.html#4043" class="Bound">ls</a> <a id="4046" href="Relation.Nary.html#4046" class="Bound">r</a> <a id="4048" href="Relation.Nary.html#4048" class="Bound">s</a><a id="4049" class="Symbol">}</a> <a id="4051" class="Symbol">{</a><a id="4052" href="Relation.Nary.html#4052" class="Bound">as</a> <a id="4055" class="Symbol">:</a> <a id="4057" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="4062" href="Relation.Nary.html#4039" class="Bound">n</a> <a id="4064" href="Relation.Nary.html#4043" class="Bound">ls</a><a id="4066" class="Symbol">}</a> <a id="4068" class="Symbol">→</a>
      <a id="4076" href="Relation.Nary.html#4052" class="Bound">as</a> <a id="4079" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="4081" class="PrimitiveType">Set</a> <a id="4085" href="Relation.Nary.html#4046" class="Bound">r</a> <a id="4087" class="Symbol">→</a> <a id="4089" href="Relation.Nary.html#4052" class="Bound">as</a> <a id="4092" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="4094" class="PrimitiveType">Set</a> <a id="4098" href="Relation.Nary.html#4048" class="Bound">s</a> <a id="4100" class="Symbol">→</a> <a id="4102" href="Relation.Nary.html#4052" class="Bound">as</a> <a id="4105" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="4107" class="PrimitiveType">Set</a> <a id="4111" class="Symbol">(</a><a id="4112" href="Relation.Nary.html#4046" class="Bound">r</a> <a id="4114" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="4116" href="Relation.Nary.html#4048" class="Bound">s</a><a id="4117" class="Symbol">)</a>
<a id="4119" href="Relation.Nary.html#4030" class="Function Operator">_∪_</a> <a id="4123" class="Symbol">=</a> <a id="4125" href="Relation.Nary.html#3102" class="Function">liftₙ</a> <a id="4131" class="Number">2</a> <a id="4133" class="Symbol">_</a> <a id="4135" href="Data.Sum.Base.html#612" class="Datatype Operator">_⊎_</a>

<a id="4140" class="Comment">-- negation</a>

<a id="∁"></a><a id="4153" href="Relation.Nary.html#4153" class="Function">∁</a> <a id="4155" class="Symbol">:</a> <a id="4157" class="Symbol">∀</a> <a id="4159" class="Symbol">{</a><a id="4160" href="Relation.Nary.html#4160" class="Bound">n</a> <a id="4162" href="Relation.Nary.html#4162" class="Bound">ls</a> <a id="4165" href="Relation.Nary.html#4165" class="Bound">r</a><a id="4166" class="Symbol">}</a> <a id="4168" class="Symbol">{</a><a id="4169" href="Relation.Nary.html#4169" class="Bound">as</a> <a id="4172" class="Symbol">:</a> <a id="4174" href="Function.Nary.NonDependent.html#2381" class="Function">Sets</a> <a id="4179" href="Relation.Nary.html#4160" class="Bound">n</a> <a id="4181" href="Relation.Nary.html#4162" class="Bound">ls</a><a id="4183" class="Symbol">}</a> <a id="4185" class="Symbol">→</a> <a id="4187" href="Relation.Nary.html#4169" class="Bound">as</a> <a id="4190" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="4192" class="PrimitiveType">Set</a> <a id="4196" href="Relation.Nary.html#4165" class="Bound">r</a> <a id="4198" class="Symbol">→</a> <a id="4200" href="Relation.Nary.html#4169" class="Bound">as</a> <a id="4203" href="Function.Nary.NonDependent.html#2907" class="Function Operator">⇉</a> <a id="4205" class="PrimitiveType">Set</a> <a id="4209" href="Relation.Nary.html#4165" class="Bound">r</a>
<a id="4211" href="Relation.Nary.html#4153" class="Function">∁</a> <a id="4213" class="Symbol">=</a> <a id="4215" href="Relation.Nary.html#3102" class="Function">liftₙ</a> <a id="4221" class="Number">1</a> <a id="4223" class="Symbol">_</a> <a id="4225" href="Relation.Nullary.html#535" class="Function Operator">¬_</a>
</pre></body></html>