<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Container</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Containers, based on the work of Abbott and others</a>
<a id="160" class="Comment">------------------------------------------------------------------------</a>

<a id="234" class="Keyword">module</a> <a id="241" href="Data.Container.html" class="Module">Data.Container</a> <a id="256" class="Keyword">where</a>

<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Data.M.html" class="Module">Data.M</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Data.Product.html" class="Module">Data.Product</a> <a id="307" class="Symbol">as</a> <a id="310" class="Module">Prod</a> <a id="315" class="Keyword">hiding</a> <a id="322" class="Symbol">(</a><a id="323" href="Data.Product.html#2376" class="Function">map</a><a id="326" class="Symbol">)</a>
<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Data.W.html" class="Module">Data.W</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Function.html" class="Module">Function</a> <a id="368" class="Keyword">renaming</a> <a id="377" class="Symbol">(</a><a id="378" href="Function.html#1047" class="Function">id</a> <a id="381" class="Symbol">to</a> <a id="384" href="Function.html#1047" class="Function">⟨id⟩</a><a id="388" class="Symbol">;</a> <a id="390" href="Function.html#748" class="Function Operator">_∘_</a> <a id="394" class="Symbol">to</a> <a id="397" href="Function.html#748" class="Function Operator">_⟨∘⟩_</a><a id="402" class="Symbol">)</a>
<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Function.Equality.html" class="Module">Function.Equality</a> <a id="434" class="Keyword">using</a> <a id="440" class="Symbol">(</a><a id="441" href="Function.Equality.html#681" class="Field Operator">_⟨$⟩_</a><a id="446" class="Symbol">)</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="477" class="Keyword">using</a> <a id="483" class="Symbol">(</a><a id="484" href="Function.Inverse.html#1914" class="Function Operator">_↔_</a><a id="487" class="Symbol">;</a> <a id="489" class="Keyword">module</a> <a id="496" href="Function.Inverse.html#961" class="Module">Inverse</a><a id="503" class="Symbol">)</a>
<a id="505" class="Keyword">import</a> <a id="512" href="Function.Related.html" class="Module">Function.Related</a> <a id="529" class="Symbol">as</a> <a id="532" class="Module">Related</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Level.html" class="Module">Level</a>
<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Relation.Binary.html" class="Module">Relation.Binary</a>
  <a id="588" class="Keyword">using</a> <a id="594" class="Symbol">(</a><a id="595" href="Relation.Binary.html#1908" class="Record">Setoid</a><a id="601" class="Symbol">;</a> <a id="603" class="Keyword">module</a> <a id="610" href="Relation.Binary.html#1908" class="Module">Setoid</a><a id="616" class="Symbol">;</a> <a id="618" href="Relation.Binary.html#1470" class="Record">Preorder</a><a id="626" class="Symbol">;</a> <a id="628" class="Keyword">module</a> <a id="635" href="Relation.Binary.html#1470" class="Module">Preorder</a><a id="643" class="Symbol">)</a>
<a id="645" class="Keyword">open</a> <a id="650" class="Keyword">import</a> <a id="657" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="695" class="Symbol">as</a> <a id="698" class="Module">P</a>
  <a id="702" class="Keyword">using</a> <a id="708" class="Symbol">(</a><a id="709" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="712" class="Symbol">;</a> <a id="714" href="Relation.Binary.PropositionalEquality.html#2448" class="Function Operator">_≗_</a><a id="717" class="Symbol">;</a> <a id="719" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="723" class="Symbol">)</a>
<a id="725" class="Keyword">open</a> <a id="730" class="Keyword">import</a> <a id="737" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="752" class="Keyword">using</a> <a id="758" class="Symbol">(</a><a id="759" href="Relation.Unary.html#1875" class="Function Operator">_⊆_</a><a id="762" class="Symbol">)</a>

<a id="765" class="Comment">------------------------------------------------------------------------</a>
<a id="838" class="Comment">-- Containers</a>

<a id="853" class="Comment">-- A container is a set of shapes, and for every shape a set of</a>
<a id="917" class="Comment">-- positions.</a>

<a id="932" class="Keyword">infix</a> <a id="938" class="Number">5</a> <a id="940" href="Data.Container.html#1008" class="InductiveConstructor Operator">_▷_</a>

<a id="945" class="Keyword">record</a> <a id="952" href="Data.Container.html#952" class="Record">Container</a> <a id="962" class="Symbol">(</a><a id="963" href="Data.Container.html#963" class="Bound">ℓ</a> <a id="965" class="Symbol">:</a> <a id="967" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="972" class="Symbol">)</a> <a id="974" class="Symbol">:</a> <a id="976" class="PrimitiveType">Set</a> <a id="980" class="Symbol">(</a><a id="981" href="Agda.Primitive.html#627" class="Primitive">suc</a> <a id="985" href="Data.Container.html#963" class="Bound">ℓ</a><a id="986" class="Symbol">)</a> <a id="988" class="Keyword">where</a>
  <a id="996" class="Keyword">constructor</a> <a id="1008" href="Data.Container.html#1008" class="InductiveConstructor Operator">_▷_</a>
  <a id="1014" class="Keyword">field</a>
    <a id="1024" href="Data.Container.html#1024" class="Field">Shape</a>    <a id="1033" class="Symbol">:</a> <a id="1035" class="PrimitiveType">Set</a> <a id="1039" href="Data.Container.html#963" class="Bound">ℓ</a>
    <a id="1045" href="Data.Container.html#1045" class="Field">Position</a> <a id="1054" class="Symbol">:</a> <a id="1056" href="Data.Container.html#1024" class="Field">Shape</a> <a id="1062" class="Symbol">→</a> <a id="1064" class="PrimitiveType">Set</a> <a id="1068" href="Data.Container.html#963" class="Bound">ℓ</a>

<a id="1071" class="Keyword">open</a> <a id="1076" href="Data.Container.html#952" class="Module">Container</a> <a id="1086" class="Keyword">public</a>

<a id="1094" class="Comment">-- The semantics (&quot;extension&quot;) of a container.</a>

<a id="1142" href="Data.Container.html#1142" class="Function Operator">⟦_⟧</a> <a id="1146" class="Symbol">:</a> <a id="1148" class="Symbol">∀</a> <a id="1150" class="Symbol">{</a><a id="1151" href="Data.Container.html#1151" class="Bound">ℓ₁</a> <a id="1154" href="Data.Container.html#1154" class="Bound">ℓ₂</a><a id="1156" class="Symbol">}</a> <a id="1158" class="Symbol">→</a> <a id="1160" href="Data.Container.html#952" class="Record">Container</a> <a id="1170" href="Data.Container.html#1151" class="Bound">ℓ₁</a> <a id="1173" class="Symbol">→</a> <a id="1175" class="PrimitiveType">Set</a> <a id="1179" href="Data.Container.html#1154" class="Bound">ℓ₂</a> <a id="1182" class="Symbol">→</a> <a id="1184" class="PrimitiveType">Set</a> <a id="1188" class="Symbol">(</a><a id="1189" href="Data.Container.html#1151" class="Bound">ℓ₁</a> <a id="1192" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1194" href="Data.Container.html#1154" class="Bound">ℓ₂</a><a id="1196" class="Symbol">)</a>
<a id="1198" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="1200" href="Data.Container.html#1200" class="Bound">C</a> <a id="1202" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="1204" href="Data.Container.html#1204" class="Bound">X</a> <a id="1206" class="Symbol">=</a> <a id="1208" href="Data.Product.html#988" class="Function">Σ[</a> <a id="1211" href="Data.Container.html#1211" class="Bound">s</a> <a id="1213" href="Data.Product.html#988" class="Function">∈</a> <a id="1215" href="Data.Container.html#1024" class="Field">Shape</a> <a id="1221" href="Data.Container.html#1200" class="Bound">C</a> <a id="1223" href="Data.Product.html#988" class="Function">]</a> <a id="1225" class="Symbol">(</a><a id="1226" href="Data.Container.html#1045" class="Field">Position</a> <a id="1235" href="Data.Container.html#1200" class="Bound">C</a> <a id="1237" href="Data.Container.html#1211" class="Bound">s</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="Data.Container.html#1204" class="Bound">X</a><a id="1242" class="Symbol">)</a>

<a id="1245" class="Comment">-- The least and greatest fixpoints of a container.</a>

<a id="1298" href="Data.Container.html#1298" class="Function">μ</a> <a id="1300" class="Symbol">:</a> <a id="1302" class="Symbol">∀</a> <a id="1304" class="Symbol">{</a><a id="1305" href="Data.Container.html#1305" class="Bound">ℓ</a><a id="1306" class="Symbol">}</a> <a id="1308" class="Symbol">→</a> <a id="1310" href="Data.Container.html#952" class="Record">Container</a> <a id="1320" href="Data.Container.html#1305" class="Bound">ℓ</a> <a id="1322" class="Symbol">→</a> <a id="1324" class="PrimitiveType">Set</a> <a id="1328" href="Data.Container.html#1305" class="Bound">ℓ</a>
<a id="1330" href="Data.Container.html#1298" class="Function">μ</a> <a id="1332" href="Data.Container.html#1332" class="Bound">C</a> <a id="1334" class="Symbol">=</a> <a id="1336" href="Data.W.html#409" class="Datatype">W</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Data.Container.html#1024" class="Field">Shape</a> <a id="1345" href="Data.Container.html#1332" class="Bound">C</a><a id="1346" class="Symbol">)</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Data.Container.html#1045" class="Field">Position</a> <a id="1358" href="Data.Container.html#1332" class="Bound">C</a><a id="1359" class="Symbol">)</a>

<a id="1362" href="Data.Container.html#1362" class="Function">ν</a> <a id="1364" class="Symbol">:</a> <a id="1366" class="Symbol">∀</a> <a id="1368" class="Symbol">{</a><a id="1369" href="Data.Container.html#1369" class="Bound">ℓ</a><a id="1370" class="Symbol">}</a> <a id="1372" class="Symbol">→</a> <a id="1374" href="Data.Container.html#952" class="Record">Container</a> <a id="1384" href="Data.Container.html#1369" class="Bound">ℓ</a> <a id="1386" class="Symbol">→</a> <a id="1388" class="PrimitiveType">Set</a> <a id="1392" href="Data.Container.html#1369" class="Bound">ℓ</a>
<a id="1394" href="Data.Container.html#1362" class="Function">ν</a> <a id="1396" href="Data.Container.html#1396" class="Bound">C</a> <a id="1398" class="Symbol">=</a> <a id="1400" href="Data.M.html#309" class="Datatype">M</a> <a id="1402" class="Symbol">(</a><a id="1403" href="Data.Container.html#1024" class="Field">Shape</a> <a id="1409" href="Data.Container.html#1396" class="Bound">C</a><a id="1410" class="Symbol">)</a> <a id="1412" class="Symbol">(</a><a id="1413" href="Data.Container.html#1045" class="Field">Position</a> <a id="1422" href="Data.Container.html#1396" class="Bound">C</a><a id="1423" class="Symbol">)</a>

<a id="1426" class="Comment">-- Equality, parametrised on an underlying relation.</a>

<a id="1480" href="Data.Container.html#1480" class="Function">Eq</a> <a id="1483" class="Symbol">:</a> <a id="1485" class="Symbol">∀</a> <a id="1487" class="Symbol">{</a><a id="1488" href="Data.Container.html#1488" class="Bound">c</a> <a id="1490" href="Data.Container.html#1490" class="Bound">ℓ</a><a id="1491" class="Symbol">}</a> <a id="1493" class="Symbol">{</a><a id="1494" href="Data.Container.html#1494" class="Bound">C</a> <a id="1496" class="Symbol">:</a> <a id="1498" href="Data.Container.html#952" class="Record">Container</a> <a id="1508" href="Data.Container.html#1488" class="Bound">c</a><a id="1509" class="Symbol">}</a> <a id="1511" class="Symbol">{</a><a id="1512" href="Data.Container.html#1512" class="Bound">X</a> <a id="1514" href="Data.Container.html#1514" class="Bound">Y</a> <a id="1516" class="Symbol">:</a> <a id="1518" class="PrimitiveType">Set</a> <a id="1522" href="Data.Container.html#1488" class="Bound">c</a><a id="1523" class="Symbol">}</a> <a id="1525" class="Symbol">→</a>
     <a id="1532" class="Symbol">(</a><a id="1533" href="Data.Container.html#1512" class="Bound">X</a> <a id="1535" class="Symbol">→</a> <a id="1537" href="Data.Container.html#1514" class="Bound">Y</a> <a id="1539" class="Symbol">→</a> <a id="1541" class="PrimitiveType">Set</a> <a id="1545" href="Data.Container.html#1490" class="Bound">ℓ</a><a id="1546" class="Symbol">)</a> <a id="1548" class="Symbol">→</a> <a id="1550" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="1552" href="Data.Container.html#1494" class="Bound">C</a> <a id="1554" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="1556" href="Data.Container.html#1512" class="Bound">X</a> <a id="1558" class="Symbol">→</a> <a id="1560" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="1562" href="Data.Container.html#1494" class="Bound">C</a> <a id="1564" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="1566" href="Data.Container.html#1514" class="Bound">Y</a> <a id="1568" class="Symbol">→</a> <a id="1570" class="PrimitiveType">Set</a> <a id="1574" class="Symbol">(</a><a id="1575" href="Data.Container.html#1488" class="Bound">c</a> <a id="1577" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1579" href="Data.Container.html#1490" class="Bound">ℓ</a><a id="1580" class="Symbol">)</a>
<a id="1582" href="Data.Container.html#1480" class="Function">Eq</a> <a id="1585" class="Symbol">{</a><a id="1586" class="Argument">C</a> <a id="1588" class="Symbol">=</a> <a id="1590" href="Data.Container.html#1590" class="Bound">C</a><a id="1591" class="Symbol">}</a> <a id="1593" href="Data.Container.html#1593" class="Bound Operator">_≈_</a> <a id="1597" class="Symbol">(</a><a id="1598" href="Data.Container.html#1598" class="Bound">s</a> <a id="1600" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1602" href="Data.Container.html#1602" class="Bound">f</a><a id="1603" class="Symbol">)</a> <a id="1605" class="Symbol">(</a><a id="1606" href="Data.Container.html#1606" class="Bound">s′</a> <a id="1609" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1611" href="Data.Container.html#1611" class="Bound">f′</a><a id="1613" class="Symbol">)</a> <a id="1615" class="Symbol">=</a>
  <a id="1619" href="Data.Product.html#988" class="Function">Σ[</a> <a id="1622" href="Data.Container.html#1622" class="Bound">eq</a> <a id="1625" href="Data.Product.html#988" class="Function">∈</a> <a id="1627" href="Data.Container.html#1598" class="Bound">s</a> <a id="1629" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1631" href="Data.Container.html#1606" class="Bound">s′</a> <a id="1634" href="Data.Product.html#988" class="Function">]</a> <a id="1636" class="Symbol">(∀</a> <a id="1639" href="Data.Container.html#1639" class="Bound">p</a> <a id="1641" class="Symbol">→</a> <a id="1643" href="Data.Container.html#1602" class="Bound">f</a> <a id="1645" href="Data.Container.html#1639" class="Bound">p</a> <a id="1647" href="Data.Container.html#1593" class="Bound Operator">≈</a> <a id="1649" href="Data.Container.html#1611" class="Bound">f′</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Relation.Binary.PropositionalEquality.Core.html#705" class="Function">P.subst</a> <a id="1661" class="Symbol">(</a><a id="1662" href="Data.Container.html#1045" class="Field">Position</a> <a id="1671" href="Data.Container.html#1590" class="Bound">C</a><a id="1672" class="Symbol">)</a> <a id="1674" href="Data.Container.html#1622" class="Bound">eq</a> <a id="1677" href="Data.Container.html#1639" class="Bound">p</a><a id="1678" class="Symbol">))</a>

<a id="1682" class="Keyword">private</a>

  <a id="1693" class="Comment">-- Note that, if propositional equality were extensional, then</a>
  <a id="1758" class="Comment">-- Eq _≡_ and _≡_ would coincide.</a>

  <a id="1795" href="Data.Container.html#1795" class="Function">Eq⇒≡</a> <a id="1800" class="Symbol">:</a> <a id="1802" class="Symbol">∀</a> <a id="1804" class="Symbol">{</a><a id="1805" href="Data.Container.html#1805" class="Bound">c</a><a id="1806" class="Symbol">}</a> <a id="1808" class="Symbol">{</a><a id="1809" href="Data.Container.html#1809" class="Bound">C</a> <a id="1811" class="Symbol">:</a> <a id="1813" href="Data.Container.html#952" class="Record">Container</a> <a id="1823" href="Data.Container.html#1805" class="Bound">c</a><a id="1824" class="Symbol">}</a> <a id="1826" class="Symbol">{</a><a id="1827" href="Data.Container.html#1827" class="Bound">X</a> <a id="1829" class="Symbol">:</a> <a id="1831" class="PrimitiveType">Set</a> <a id="1835" href="Data.Container.html#1805" class="Bound">c</a><a id="1836" class="Symbol">}</a> <a id="1838" class="Symbol">{</a><a id="1839" href="Data.Container.html#1839" class="Bound">xs</a> <a id="1842" href="Data.Container.html#1842" class="Bound">ys</a> <a id="1845" class="Symbol">:</a> <a id="1847" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="1849" href="Data.Container.html#1809" class="Bound">C</a> <a id="1851" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="1853" href="Data.Container.html#1827" class="Bound">X</a><a id="1854" class="Symbol">}</a> <a id="1856" class="Symbol">→</a>
         <a id="1867" href="Relation.Binary.PropositionalEquality.html#6324" class="Function">P.Extensionality</a> <a id="1884" href="Data.Container.html#1805" class="Bound">c</a> <a id="1886" href="Data.Container.html#1805" class="Bound">c</a> <a id="1888" class="Symbol">→</a> <a id="1890" href="Data.Container.html#1480" class="Function">Eq</a> <a id="1893" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a> <a id="1897" href="Data.Container.html#1839" class="Bound">xs</a> <a id="1900" href="Data.Container.html#1842" class="Bound">ys</a> <a id="1903" class="Symbol">→</a> <a id="1905" href="Data.Container.html#1839" class="Bound">xs</a> <a id="1908" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1910" href="Data.Container.html#1842" class="Bound">ys</a>
  <a id="1915" href="Data.Container.html#1795" class="Function">Eq⇒≡</a> <a id="1920" class="Symbol">{</a><a id="1921" class="Argument">xs</a> <a id="1924" class="Symbol">=</a> <a id="1926" href="Data.Container.html#1926" class="Bound">s</a> <a id="1928" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1930" href="Data.Container.html#1930" class="Bound">f</a><a id="1931" class="Symbol">}</a> <a id="1933" class="Symbol">{</a><a id="1934" class="Argument">ys</a> <a id="1937" class="Symbol">=</a> <a id="1939" class="DottedPattern Symbol">.</a><a id="1940" href="Data.Container.html#1926" class="DottedPattern Bound">s</a> <a id="1942" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1944" href="Data.Container.html#1944" class="Bound">f′</a><a id="1946" class="Symbol">}</a> <a id="1948" href="Data.Container.html#1948" class="Bound">ext</a> <a id="1952" class="Symbol">(</a><a id="1953" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1958" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="1960" href="Data.Container.html#1960" class="Bound">f≈f′</a><a id="1964" class="Symbol">)</a> <a id="1966" class="Symbol">=</a>
    <a id="1972" href="Relation.Binary.PropositionalEquality.html#1036" class="Function">P.cong</a> <a id="1979" class="Symbol">(</a><a id="1980" href="Data.Product.html#543" class="InductiveConstructor Operator">_,_</a> <a id="1984" href="Data.Container.html#1926" class="Bound">s</a><a id="1985" class="Symbol">)</a> <a id="1987" class="Symbol">(</a><a id="1988" href="Data.Container.html#1948" class="Bound">ext</a> <a id="1992" href="Data.Container.html#1960" class="Bound">f≈f′</a><a id="1996" class="Symbol">)</a>

<a id="1999" href="Data.Container.html#1999" class="Function">setoid</a> <a id="2006" class="Symbol">:</a> <a id="2008" class="Symbol">∀</a> <a id="2010" class="Symbol">{</a><a id="2011" href="Data.Container.html#2011" class="Bound">ℓ</a><a id="2012" class="Symbol">}</a> <a id="2014" class="Symbol">→</a> <a id="2016" href="Data.Container.html#952" class="Record">Container</a> <a id="2026" href="Data.Container.html#2011" class="Bound">ℓ</a> <a id="2028" class="Symbol">→</a> <a id="2030" href="Relation.Binary.html#1908" class="Record">Setoid</a> <a id="2037" href="Data.Container.html#2011" class="Bound">ℓ</a> <a id="2039" href="Data.Container.html#2011" class="Bound">ℓ</a> <a id="2041" class="Symbol">→</a> <a id="2043" href="Relation.Binary.html#1908" class="Record">Setoid</a> <a id="2050" href="Data.Container.html#2011" class="Bound">ℓ</a> <a id="2052" href="Data.Container.html#2011" class="Bound">ℓ</a>
<a id="2054" href="Data.Container.html#1999" class="Function">setoid</a> <a id="2061" href="Data.Container.html#2061" class="Bound">C</a> <a id="2063" href="Data.Container.html#2063" class="Bound">X</a> <a id="2065" class="Symbol">=</a> <a id="2067" class="Keyword">record</a>
  <a id="2076" class="Symbol">{</a> <a id="2078" class="Field">Carrier</a>       <a id="2092" class="Symbol">=</a> <a id="2094" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="2096" href="Data.Container.html#2061" class="Bound">C</a> <a id="2098" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="2100" href="Relation.Binary.html#1971" class="Field">X.Carrier</a>
  <a id="2112" class="Symbol">;</a> <a id="2114" class="Field Operator">_≈_</a>           <a id="2128" class="Symbol">=</a> <a id="2130" href="Data.Container.html#2294" class="Function Operator">_≈_</a>
  <a id="2136" class="Symbol">;</a> <a id="2138" class="Field">isEquivalence</a> <a id="2152" class="Symbol">=</a> <a id="2154" class="Keyword">record</a>
    <a id="2165" class="Symbol">{</a> <a id="2167" class="Field">refl</a>  <a id="2173" class="Symbol">=</a> <a id="2175" class="Symbol">(</a><a id="2176" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2181" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2183" class="Symbol">λ</a> <a id="2185" href="Data.Container.html#2185" class="Bound">_</a> <a id="2187" class="Symbol">→</a> <a id="2189" href="Relation.Binary.Core.html#4934" class="Function">X.refl</a><a id="2195" class="Symbol">)</a>
    <a id="2201" class="Symbol">;</a> <a id="2203" class="Field">sym</a>   <a id="2209" class="Symbol">=</a> <a id="2211" href="Data.Container.html#2312" class="Function">sym</a>
    <a id="2219" class="Symbol">;</a> <a id="2221" class="Field">trans</a> <a id="2227" class="Symbol">=</a> <a id="2229" class="Symbol">λ</a> <a id="2231" class="Symbol">{</a><a id="2232" href="Data.Container.html#2232" class="Bound">_</a> <a id="2234" href="Data.Container.html#2234" class="Bound">_</a> <a id="2236" href="Data.Container.html#2236" class="Bound">zs</a><a id="2238" class="Symbol">}</a> <a id="2240" class="Symbol">→</a> <a id="2242" href="Data.Container.html#2424" class="Function">trans</a> <a id="2248" href="Data.Container.html#2236" class="Bound">zs</a>
    <a id="2255" class="Symbol">}</a>
  <a id="2259" class="Symbol">}</a>
  <a id="2263" class="Keyword">where</a>
  <a id="2271" class="Keyword">module</a> <a id="2278" href="Data.Container.html#2278" class="Module">X</a> <a id="2280" class="Symbol">=</a> <a id="2282" href="Relation.Binary.html#1908" class="Module">Setoid</a> <a id="2289" href="Data.Container.html#2063" class="Bound">X</a>

  <a id="2294" href="Data.Container.html#2294" class="Function Operator">_≈_</a> <a id="2298" class="Symbol">=</a> <a id="2300" href="Data.Container.html#1480" class="Function">Eq</a> <a id="2303" href="Relation.Binary.html#1997" class="Field Operator">X._≈_</a>

  <a id="2312" href="Data.Container.html#2312" class="Function">sym</a> <a id="2316" class="Symbol">:</a> <a id="2318" class="Symbol">{</a><a id="2319" href="Data.Container.html#2319" class="Bound">xs</a> <a id="2322" href="Data.Container.html#2322" class="Bound">ys</a> <a id="2325" class="Symbol">:</a> <a id="2327" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="2329" href="Data.Container.html#2061" class="Bound">C</a> <a id="2331" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="2333" href="Relation.Binary.html#1971" class="Field">X.Carrier</a><a id="2342" class="Symbol">}</a> <a id="2344" class="Symbol">→</a> <a id="2346" href="Data.Container.html#2319" class="Bound">xs</a> <a id="2349" href="Data.Container.html#2294" class="Function Operator">≈</a> <a id="2351" href="Data.Container.html#2322" class="Bound">ys</a> <a id="2354" class="Symbol">→</a> <a id="2356" href="Data.Container.html#2322" class="Bound">ys</a> <a id="2359" href="Data.Container.html#2294" class="Function Operator">≈</a> <a id="2361" href="Data.Container.html#2319" class="Bound">xs</a>
  <a id="2366" href="Data.Container.html#2312" class="Function">sym</a> <a id="2370" class="Symbol">{_</a> <a id="2373" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2375" class="Symbol">_}</a> <a id="2378" class="Symbol">{</a><a id="2379" class="DottedPattern Symbol">._</a> <a id="2382" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2384" class="Symbol">_}</a> <a id="2387" class="Symbol">(</a><a id="2388" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2393" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2395" href="Data.Container.html#2395" class="Bound">f</a><a id="2396" class="Symbol">)</a> <a id="2398" class="Symbol">=</a> <a id="2400" class="Symbol">(</a><a id="2401" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2406" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2408" href="Relation.Binary.Core.html#4960" class="Function">X.sym</a> <a id="2414" href="Function.html#748" class="Function Operator">⟨∘⟩</a> <a id="2418" href="Data.Container.html#2395" class="Bound">f</a><a id="2419" class="Symbol">)</a>

  <a id="2424" href="Data.Container.html#2424" class="Function">trans</a> <a id="2430" class="Symbol">:</a> <a id="2432" class="Symbol">∀</a> <a id="2434" class="Symbol">{</a><a id="2435" href="Data.Container.html#2435" class="Bound">xs</a> <a id="2438" href="Data.Container.html#2438" class="Bound">ys</a> <a id="2441" class="Symbol">:</a> <a id="2443" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="2445" href="Data.Container.html#2061" class="Bound">C</a> <a id="2447" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="2449" href="Relation.Binary.html#1971" class="Field">X.Carrier</a><a id="2458" class="Symbol">}</a> <a id="2460" href="Data.Container.html#2460" class="Bound">zs</a> <a id="2463" class="Symbol">→</a> <a id="2465" href="Data.Container.html#2435" class="Bound">xs</a> <a id="2468" href="Data.Container.html#2294" class="Function Operator">≈</a> <a id="2470" href="Data.Container.html#2438" class="Bound">ys</a> <a id="2473" class="Symbol">→</a> <a id="2475" href="Data.Container.html#2438" class="Bound">ys</a> <a id="2478" href="Data.Container.html#2294" class="Function Operator">≈</a> <a id="2480" href="Data.Container.html#2460" class="Bound">zs</a> <a id="2483" class="Symbol">→</a> <a id="2485" href="Data.Container.html#2435" class="Bound">xs</a> <a id="2488" href="Data.Container.html#2294" class="Function Operator">≈</a> <a id="2490" href="Data.Container.html#2460" class="Bound">zs</a>
  <a id="2495" href="Data.Container.html#2424" class="Function">trans</a> <a id="2501" class="Symbol">{_</a> <a id="2504" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2506" class="Symbol">_}</a> <a id="2509" class="Symbol">{</a><a id="2510" class="DottedPattern Symbol">._</a> <a id="2513" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2515" class="Symbol">_}</a> <a id="2518" class="Symbol">(</a><a id="2519" class="DottedPattern Symbol">._</a> <a id="2522" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2524" class="Symbol">_)</a> <a id="2527" class="Symbol">(</a><a id="2528" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2533" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2535" href="Data.Container.html#2535" class="Bound">f₁</a><a id="2537" class="Symbol">)</a> <a id="2539" class="Symbol">(</a><a id="2540" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2545" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2547" href="Data.Container.html#2547" class="Bound">f₂</a><a id="2549" class="Symbol">)</a> <a id="2551" class="Symbol">=</a>
    <a id="2557" class="Symbol">(</a><a id="2558" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2563" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="2565" class="Symbol">λ</a> <a id="2567" href="Data.Container.html#2567" class="Bound">p</a> <a id="2569" class="Symbol">→</a> <a id="2571" href="Relation.Binary.Core.html#4986" class="Function">X.trans</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Data.Container.html#2535" class="Bound">f₁</a> <a id="2583" href="Data.Container.html#2567" class="Bound">p</a><a id="2584" class="Symbol">)</a> <a id="2586" class="Symbol">(</a><a id="2587" href="Data.Container.html#2547" class="Bound">f₂</a> <a id="2590" href="Data.Container.html#2567" class="Bound">p</a><a id="2591" class="Symbol">))</a>

<a id="2595" class="Comment">------------------------------------------------------------------------</a>
<a id="2668" class="Comment">-- Functoriality</a>

<a id="2686" class="Comment">-- Containers are functors.</a>

<a id="2715" href="Data.Container.html#2715" class="Function">map</a> <a id="2719" class="Symbol">:</a> <a id="2721" class="Symbol">∀</a> <a id="2723" class="Symbol">{</a><a id="2724" href="Data.Container.html#2724" class="Bound">c</a> <a id="2726" href="Data.Container.html#2726" class="Bound">ℓ</a><a id="2727" class="Symbol">}</a> <a id="2729" class="Symbol">{</a><a id="2730" href="Data.Container.html#2730" class="Bound">C</a> <a id="2732" class="Symbol">:</a> <a id="2734" href="Data.Container.html#952" class="Record">Container</a> <a id="2744" href="Data.Container.html#2724" class="Bound">c</a><a id="2745" class="Symbol">}</a> <a id="2747" class="Symbol">{</a><a id="2748" href="Data.Container.html#2748" class="Bound">X</a> <a id="2750" href="Data.Container.html#2750" class="Bound">Y</a> <a id="2752" class="Symbol">:</a> <a id="2754" class="PrimitiveType">Set</a> <a id="2758" href="Data.Container.html#2726" class="Bound">ℓ</a><a id="2759" class="Symbol">}</a> <a id="2761" class="Symbol">→</a> <a id="2763" class="Symbol">(</a><a id="2764" href="Data.Container.html#2748" class="Bound">X</a> <a id="2766" class="Symbol">→</a> <a id="2768" href="Data.Container.html#2750" class="Bound">Y</a><a id="2769" class="Symbol">)</a> <a id="2771" class="Symbol">→</a> <a id="2773" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="2775" href="Data.Container.html#2730" class="Bound">C</a> <a id="2777" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="2779" href="Data.Container.html#2748" class="Bound">X</a> <a id="2781" class="Symbol">→</a> <a id="2783" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="2785" href="Data.Container.html#2730" class="Bound">C</a> <a id="2787" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="2789" href="Data.Container.html#2750" class="Bound">Y</a>
<a id="2791" href="Data.Container.html#2715" class="Function">map</a> <a id="2795" href="Data.Container.html#2795" class="Bound">f</a> <a id="2797" class="Symbol">=</a> <a id="2799" href="Data.Product.html#2376" class="Function">Prod.map</a> <a id="2808" href="Function.html#1047" class="Function">⟨id⟩</a> <a id="2813" class="Symbol">(λ</a> <a id="2816" href="Data.Container.html#2816" class="Bound">g</a> <a id="2818" class="Symbol">→</a> <a id="2820" href="Data.Container.html#2795" class="Bound">f</a> <a id="2822" href="Function.html#748" class="Function Operator">⟨∘⟩</a> <a id="2826" href="Data.Container.html#2816" class="Bound">g</a><a id="2827" class="Symbol">)</a>

<a id="2830" class="Keyword">module</a> <a id="2837" href="Data.Container.html#2837" class="Module">Map</a> <a id="2841" class="Keyword">where</a>

  <a id="2850" href="Data.Container.html#2850" class="Function">identity</a> <a id="2859" class="Symbol">:</a> <a id="2861" class="Symbol">∀</a> <a id="2863" class="Symbol">{</a><a id="2864" href="Data.Container.html#2864" class="Bound">c</a><a id="2865" class="Symbol">}</a> <a id="2867" class="Symbol">{</a><a id="2868" href="Data.Container.html#2868" class="Bound">C</a> <a id="2870" class="Symbol">:</a> <a id="2872" href="Data.Container.html#952" class="Record">Container</a> <a id="2882" href="Data.Container.html#2864" class="Bound">c</a><a id="2883" class="Symbol">}</a> <a id="2885" href="Data.Container.html#2885" class="Bound">X</a> <a id="2887" class="Symbol">→</a>
             <a id="2902" class="Keyword">let</a> <a id="2906" class="Keyword">module</a> <a id="2913" href="Data.Container.html#2913" class="Module">X</a> <a id="2915" class="Symbol">=</a> <a id="2917" href="Relation.Binary.html#1908" class="Module">Setoid</a> <a id="2924" href="Data.Container.html#2885" class="Bound">X</a> <a id="2926" class="Keyword">in</a>
             <a id="2942" class="Symbol">(</a><a id="2943" href="Data.Container.html#2943" class="Bound">xs</a> <a id="2946" class="Symbol">:</a> <a id="2948" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="2950" href="Data.Container.html#2868" class="Bound">C</a> <a id="2952" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="2954" href="Relation.Binary.html#1971" class="Field">X.Carrier</a><a id="2963" class="Symbol">)</a> <a id="2965" class="Symbol">→</a> <a id="2967" href="Data.Container.html#1480" class="Function">Eq</a> <a id="2970" href="Relation.Binary.html#1997" class="Field Operator">X._≈_</a> <a id="2976" class="Symbol">(</a><a id="2977" href="Data.Container.html#2715" class="Function">map</a> <a id="2981" href="Function.html#1047" class="Function">⟨id⟩</a> <a id="2986" href="Data.Container.html#2943" class="Bound">xs</a><a id="2988" class="Symbol">)</a> <a id="2990" href="Data.Container.html#2943" class="Bound">xs</a>
  <a id="2995" href="Data.Container.html#2850" class="Function">identity</a> <a id="3004" class="Symbol">{</a><a id="3005" class="Argument">C</a> <a id="3007" class="Symbol">=</a> <a id="3009" href="Data.Container.html#3009" class="Bound">C</a><a id="3010" class="Symbol">}</a> <a id="3012" href="Data.Container.html#3012" class="Bound">X</a> <a id="3014" href="Data.Container.html#3014" class="Bound">xs</a> <a id="3017" class="Symbol">=</a> <a id="3019" href="Relation.Binary.Core.html#4934" class="Function">Setoid.refl</a> <a id="3031" class="Symbol">(</a><a id="3032" href="Data.Container.html#1999" class="Function">setoid</a> <a id="3039" href="Data.Container.html#3009" class="Bound">C</a> <a id="3041" href="Data.Container.html#3012" class="Bound">X</a><a id="3042" class="Symbol">)</a>

  <a id="3047" href="Data.Container.html#3047" class="Function">composition</a> <a id="3059" class="Symbol">:</a> <a id="3061" class="Symbol">∀</a> <a id="3063" class="Symbol">{</a><a id="3064" href="Data.Container.html#3064" class="Bound">c</a><a id="3065" class="Symbol">}</a> <a id="3067" class="Symbol">{</a><a id="3068" href="Data.Container.html#3068" class="Bound">C</a> <a id="3070" class="Symbol">:</a> <a id="3072" href="Data.Container.html#952" class="Record">Container</a> <a id="3082" href="Data.Container.html#3064" class="Bound">c</a><a id="3083" class="Symbol">}</a> <a id="3085" class="Symbol">{</a><a id="3086" href="Data.Container.html#3086" class="Bound">X</a> <a id="3088" href="Data.Container.html#3088" class="Bound">Y</a> <a id="3090" class="Symbol">:</a> <a id="3092" class="PrimitiveType">Set</a> <a id="3096" href="Data.Container.html#3064" class="Bound">c</a><a id="3097" class="Symbol">}</a> <a id="3099" href="Data.Container.html#3099" class="Bound">Z</a> <a id="3101" class="Symbol">→</a>
                <a id="3119" class="Keyword">let</a> <a id="3123" class="Keyword">module</a> <a id="3130" href="Data.Container.html#3130" class="Module">Z</a> <a id="3132" class="Symbol">=</a> <a id="3134" href="Relation.Binary.html#1908" class="Module">Setoid</a> <a id="3141" href="Data.Container.html#3099" class="Bound">Z</a> <a id="3143" class="Keyword">in</a>
                <a id="3162" class="Symbol">(</a><a id="3163" href="Data.Container.html#3163" class="Bound">f</a> <a id="3165" class="Symbol">:</a> <a id="3167" href="Data.Container.html#3088" class="Bound">Y</a> <a id="3169" class="Symbol">→</a> <a id="3171" href="Relation.Binary.html#1971" class="Field">Z.Carrier</a><a id="3180" class="Symbol">)</a> <a id="3182" class="Symbol">(</a><a id="3183" href="Data.Container.html#3183" class="Bound">g</a> <a id="3185" class="Symbol">:</a> <a id="3187" href="Data.Container.html#3086" class="Bound">X</a> <a id="3189" class="Symbol">→</a> <a id="3191" href="Data.Container.html#3088" class="Bound">Y</a><a id="3192" class="Symbol">)</a> <a id="3194" class="Symbol">(</a><a id="3195" href="Data.Container.html#3195" class="Bound">xs</a> <a id="3198" class="Symbol">:</a> <a id="3200" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="3202" href="Data.Container.html#3068" class="Bound">C</a> <a id="3204" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="3206" href="Data.Container.html#3086" class="Bound">X</a><a id="3207" class="Symbol">)</a> <a id="3209" class="Symbol">→</a>
                <a id="3227" href="Data.Container.html#1480" class="Function">Eq</a> <a id="3230" href="Relation.Binary.html#1997" class="Field Operator">Z._≈_</a> <a id="3236" class="Symbol">(</a><a id="3237" href="Data.Container.html#2715" class="Function">map</a> <a id="3241" href="Data.Container.html#3163" class="Bound">f</a> <a id="3243" class="Symbol">(</a><a id="3244" href="Data.Container.html#2715" class="Function">map</a> <a id="3248" href="Data.Container.html#3183" class="Bound">g</a> <a id="3250" href="Data.Container.html#3195" class="Bound">xs</a><a id="3252" class="Symbol">))</a> <a id="3255" class="Symbol">(</a><a id="3256" href="Data.Container.html#2715" class="Function">map</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Data.Container.html#3163" class="Bound">f</a> <a id="3263" href="Function.html#748" class="Function Operator">⟨∘⟩</a> <a id="3267" href="Data.Container.html#3183" class="Bound">g</a><a id="3268" class="Symbol">)</a> <a id="3270" href="Data.Container.html#3195" class="Bound">xs</a><a id="3272" class="Symbol">)</a>
  <a id="3276" href="Data.Container.html#3047" class="Function">composition</a> <a id="3288" class="Symbol">{</a><a id="3289" class="Argument">C</a> <a id="3291" class="Symbol">=</a> <a id="3293" href="Data.Container.html#3293" class="Bound">C</a><a id="3294" class="Symbol">}</a> <a id="3296" href="Data.Container.html#3296" class="Bound">Z</a> <a id="3298" href="Data.Container.html#3298" class="Bound">f</a> <a id="3300" href="Data.Container.html#3300" class="Bound">g</a> <a id="3302" href="Data.Container.html#3302" class="Bound">xs</a> <a id="3305" class="Symbol">=</a> <a id="3307" href="Relation.Binary.Core.html#4934" class="Function">Setoid.refl</a> <a id="3319" class="Symbol">(</a><a id="3320" href="Data.Container.html#1999" class="Function">setoid</a> <a id="3327" href="Data.Container.html#3293" class="Bound">C</a> <a id="3329" href="Data.Container.html#3296" class="Bound">Z</a><a id="3330" class="Symbol">)</a>

<a id="3333" class="Comment">------------------------------------------------------------------------</a>
<a id="3406" class="Comment">-- Container morphisms</a>

<a id="3430" class="Comment">-- Representation of container morphisms.</a>

<a id="3473" class="Keyword">record</a> <a id="3480" href="Data.Container.html#3480" class="Record Operator">_⇒_</a> <a id="3484" class="Symbol">{</a><a id="3485" href="Data.Container.html#3485" class="Bound">c</a><a id="3486" class="Symbol">}</a> <a id="3488" class="Symbol">(</a><a id="3489" href="Data.Container.html#3489" class="Bound">C₁</a> <a id="3492" href="Data.Container.html#3492" class="Bound">C₂</a> <a id="3495" class="Symbol">:</a> <a id="3497" href="Data.Container.html#952" class="Record">Container</a> <a id="3507" href="Data.Container.html#3485" class="Bound">c</a><a id="3508" class="Symbol">)</a> <a id="3510" class="Symbol">:</a> <a id="3512" class="PrimitiveType">Set</a> <a id="3516" href="Data.Container.html#3485" class="Bound">c</a> <a id="3518" class="Keyword">where</a>
  <a id="3526" class="Keyword">field</a>
    <a id="3536" href="Data.Container.html#3536" class="Field">shape</a>    <a id="3545" class="Symbol">:</a> <a id="3547" href="Data.Container.html#1024" class="Field">Shape</a> <a id="3553" href="Data.Container.html#3489" class="Bound">C₁</a> <a id="3556" class="Symbol">→</a> <a id="3558" href="Data.Container.html#1024" class="Field">Shape</a> <a id="3564" href="Data.Container.html#3492" class="Bound">C₂</a>
    <a id="3571" href="Data.Container.html#3571" class="Field">position</a> <a id="3580" class="Symbol">:</a> <a id="3582" class="Symbol">∀</a> <a id="3584" class="Symbol">{</a><a id="3585" href="Data.Container.html#3585" class="Bound">s</a><a id="3586" class="Symbol">}</a> <a id="3588" class="Symbol">→</a> <a id="3590" href="Data.Container.html#1045" class="Field">Position</a> <a id="3599" href="Data.Container.html#3492" class="Bound">C₂</a> <a id="3602" class="Symbol">(</a><a id="3603" href="Data.Container.html#3536" class="Field">shape</a> <a id="3609" href="Data.Container.html#3585" class="Bound">s</a><a id="3610" class="Symbol">)</a> <a id="3612" class="Symbol">→</a> <a id="3614" href="Data.Container.html#1045" class="Field">Position</a> <a id="3623" href="Data.Container.html#3489" class="Bound">C₁</a> <a id="3626" href="Data.Container.html#3585" class="Bound">s</a>

<a id="3629" class="Keyword">open</a> <a id="3634" href="Data.Container.html#3480" class="Module Operator">_⇒_</a> <a id="3638" class="Keyword">public</a>

<a id="3646" class="Comment">-- Interpretation of _⇒_.</a>

<a id="3673" href="Data.Container.html#3673" class="Function Operator">⟪_⟫</a> <a id="3677" class="Symbol">:</a> <a id="3679" class="Symbol">∀</a> <a id="3681" class="Symbol">{</a><a id="3682" href="Data.Container.html#3682" class="Bound">c</a> <a id="3684" href="Data.Container.html#3684" class="Bound">ℓ</a><a id="3685" class="Symbol">}</a> <a id="3687" class="Symbol">{</a><a id="3688" href="Data.Container.html#3688" class="Bound">C₁</a> <a id="3691" href="Data.Container.html#3691" class="Bound">C₂</a> <a id="3694" class="Symbol">:</a> <a id="3696" href="Data.Container.html#952" class="Record">Container</a> <a id="3706" href="Data.Container.html#3682" class="Bound">c</a><a id="3707" class="Symbol">}</a> <a id="3709" class="Symbol">→</a>
      <a id="3717" href="Data.Container.html#3688" class="Bound">C₁</a> <a id="3720" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="3722" href="Data.Container.html#3691" class="Bound">C₂</a> <a id="3725" class="Symbol">→</a> <a id="3727" class="Symbol">{</a><a id="3728" href="Data.Container.html#3728" class="Bound">X</a> <a id="3730" class="Symbol">:</a> <a id="3732" class="PrimitiveType">Set</a> <a id="3736" href="Data.Container.html#3684" class="Bound">ℓ</a><a id="3737" class="Symbol">}</a> <a id="3739" class="Symbol">→</a> <a id="3741" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="3743" href="Data.Container.html#3688" class="Bound">C₁</a> <a id="3746" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="3748" href="Data.Container.html#3728" class="Bound">X</a> <a id="3750" class="Symbol">→</a> <a id="3752" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="3754" href="Data.Container.html#3691" class="Bound">C₂</a> <a id="3757" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="3759" href="Data.Container.html#3728" class="Bound">X</a>
<a id="3761" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="3763" href="Data.Container.html#3763" class="Bound">m</a> <a id="3765" href="Data.Container.html#3673" class="Function Operator">⟫</a> <a id="3767" href="Data.Container.html#3767" class="Bound">xs</a> <a id="3770" class="Symbol">=</a> <a id="3772" class="Symbol">(</a><a id="3773" href="Data.Container.html#3536" class="Field">shape</a> <a id="3779" href="Data.Container.html#3763" class="Bound">m</a> <a id="3781" class="Symbol">(</a><a id="3782" href="Data.Product.html#559" class="Field">proj₁</a> <a id="3788" href="Data.Container.html#3767" class="Bound">xs</a><a id="3790" class="Symbol">)</a> <a id="3792" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="3794" href="Data.Product.html#573" class="Field">proj₂</a> <a id="3800" href="Data.Container.html#3767" class="Bound">xs</a> <a id="3803" href="Function.html#748" class="Function Operator">⟨∘⟩</a> <a id="3807" href="Data.Container.html#3571" class="Field">position</a> <a id="3816" href="Data.Container.html#3763" class="Bound">m</a><a id="3817" class="Symbol">)</a>

<a id="3820" class="Keyword">module</a> <a id="3827" href="Data.Container.html#3827" class="Module">Morphism</a> <a id="3836" class="Keyword">where</a>

  <a id="3845" class="Comment">-- Naturality.</a>

  <a id="3863" href="Data.Container.html#3863" class="Function">Natural</a> <a id="3871" class="Symbol">:</a> <a id="3873" class="Symbol">∀</a> <a id="3875" class="Symbol">{</a><a id="3876" href="Data.Container.html#3876" class="Bound">c</a><a id="3877" class="Symbol">}</a> <a id="3879" class="Symbol">{</a><a id="3880" href="Data.Container.html#3880" class="Bound">C₁</a> <a id="3883" href="Data.Container.html#3883" class="Bound">C₂</a> <a id="3886" class="Symbol">:</a> <a id="3888" href="Data.Container.html#952" class="Record">Container</a> <a id="3898" href="Data.Container.html#3876" class="Bound">c</a><a id="3899" class="Symbol">}</a> <a id="3901" class="Symbol">→</a>
            <a id="3915" class="Symbol">(∀</a> <a id="3918" class="Symbol">{</a><a id="3919" href="Data.Container.html#3919" class="Bound">X</a><a id="3920" class="Symbol">}</a> <a id="3922" class="Symbol">→</a> <a id="3924" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="3926" href="Data.Container.html#3880" class="Bound">C₁</a> <a id="3929" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="3931" href="Data.Container.html#3919" class="Bound">X</a> <a id="3933" class="Symbol">→</a> <a id="3935" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="3937" href="Data.Container.html#3883" class="Bound">C₂</a> <a id="3940" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="3942" href="Data.Container.html#3919" class="Bound">X</a><a id="3943" class="Symbol">)</a> <a id="3945" class="Symbol">→</a> <a id="3947" class="PrimitiveType">Set</a> <a id="3951" class="Symbol">(</a><a id="3952" href="Agda.Primitive.html#627" class="Primitive">suc</a> <a id="3956" href="Data.Container.html#3876" class="Bound">c</a><a id="3957" class="Symbol">)</a>
  <a id="3961" href="Data.Container.html#3863" class="Function">Natural</a> <a id="3969" class="Symbol">{</a><a id="3970" href="Data.Container.html#3970" class="Bound">c</a><a id="3971" class="Symbol">}</a> <a id="3973" class="Symbol">{</a><a id="3974" href="Data.Container.html#3974" class="Bound">C₁</a><a id="3976" class="Symbol">}</a> <a id="3978" href="Data.Container.html#3978" class="Bound">m</a> <a id="3980" class="Symbol">=</a>
    <a id="3986" class="Symbol">∀</a> <a id="3988" class="Symbol">{</a><a id="3989" href="Data.Container.html#3989" class="Bound">X</a><a id="3990" class="Symbol">}</a> <a id="3992" class="Symbol">(</a><a id="3993" href="Data.Container.html#3993" class="Bound">Y</a> <a id="3995" class="Symbol">:</a> <a id="3997" href="Relation.Binary.html#1908" class="Record">Setoid</a> <a id="4004" href="Data.Container.html#3970" class="Bound">c</a> <a id="4006" href="Data.Container.html#3970" class="Bound">c</a><a id="4007" class="Symbol">)</a> <a id="4009" class="Symbol">→</a> <a id="4011" class="Keyword">let</a> <a id="4015" class="Keyword">module</a> <a id="4022" href="Data.Container.html#4022" class="Module">Y</a> <a id="4024" class="Symbol">=</a> <a id="4026" href="Relation.Binary.html#1908" class="Module">Setoid</a> <a id="4033" href="Data.Container.html#3993" class="Bound">Y</a> <a id="4035" class="Keyword">in</a>
    <a id="4042" class="Symbol">(</a><a id="4043" href="Data.Container.html#4043" class="Bound">f</a> <a id="4045" class="Symbol">:</a> <a id="4047" href="Data.Container.html#3989" class="Bound">X</a> <a id="4049" class="Symbol">→</a> <a id="4051" href="Relation.Binary.html#1971" class="Field">Y.Carrier</a><a id="4060" class="Symbol">)</a> <a id="4062" class="Symbol">(</a><a id="4063" href="Data.Container.html#4063" class="Bound">xs</a> <a id="4066" class="Symbol">:</a> <a id="4068" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="4070" href="Data.Container.html#3974" class="Bound">C₁</a> <a id="4073" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="4075" href="Data.Container.html#3989" class="Bound">X</a><a id="4076" class="Symbol">)</a> <a id="4078" class="Symbol">→</a>
    <a id="4084" href="Data.Container.html#1480" class="Function">Eq</a> <a id="4087" href="Relation.Binary.html#1997" class="Field Operator">Y._≈_</a> <a id="4093" class="Symbol">(</a><a id="4094" href="Data.Container.html#3978" class="Bound">m</a> <a id="4096" href="Function.html#1870" class="Function Operator">$</a> <a id="4098" href="Data.Container.html#2715" class="Function">map</a> <a id="4102" href="Data.Container.html#4043" class="Bound">f</a> <a id="4104" href="Data.Container.html#4063" class="Bound">xs</a><a id="4106" class="Symbol">)</a> <a id="4108" class="Symbol">(</a><a id="4109" href="Data.Container.html#2715" class="Function">map</a> <a id="4113" href="Data.Container.html#4043" class="Bound">f</a> <a id="4115" href="Function.html#1870" class="Function Operator">$</a> <a id="4117" href="Data.Container.html#3978" class="Bound">m</a> <a id="4119" href="Data.Container.html#4063" class="Bound">xs</a><a id="4121" class="Symbol">)</a>

  <a id="4126" class="Comment">-- Natural transformations.</a>

  <a id="4157" href="Data.Container.html#4157" class="Function">NT</a> <a id="4160" class="Symbol">:</a> <a id="4162" class="Symbol">∀</a> <a id="4164" class="Symbol">{</a><a id="4165" href="Data.Container.html#4165" class="Bound">c</a><a id="4166" class="Symbol">}</a> <a id="4168" class="Symbol">(</a><a id="4169" href="Data.Container.html#4169" class="Bound">C₁</a> <a id="4172" href="Data.Container.html#4172" class="Bound">C₂</a> <a id="4175" class="Symbol">:</a> <a id="4177" href="Data.Container.html#952" class="Record">Container</a> <a id="4187" href="Data.Container.html#4165" class="Bound">c</a><a id="4188" class="Symbol">)</a> <a id="4190" class="Symbol">→</a> <a id="4192" class="PrimitiveType">Set</a> <a id="4196" class="Symbol">(</a><a id="4197" href="Agda.Primitive.html#627" class="Primitive">suc</a> <a id="4201" href="Data.Container.html#4165" class="Bound">c</a><a id="4202" class="Symbol">)</a>
  <a id="4206" href="Data.Container.html#4157" class="Function">NT</a> <a id="4209" href="Data.Container.html#4209" class="Bound">C₁</a> <a id="4212" href="Data.Container.html#4212" class="Bound">C₂</a> <a id="4215" class="Symbol">=</a> <a id="4217" href="Data.Product.html#1105" class="Function">∃</a> <a id="4219" class="Symbol">λ</a> <a id="4221" class="Symbol">(</a><a id="4222" href="Data.Container.html#4222" class="Bound">m</a> <a id="4224" class="Symbol">:</a> <a id="4226" class="Symbol">∀</a> <a id="4228" class="Symbol">{</a><a id="4229" href="Data.Container.html#4229" class="Bound">X</a><a id="4230" class="Symbol">}</a> <a id="4232" class="Symbol">→</a> <a id="4234" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="4236" href="Data.Container.html#4209" class="Bound">C₁</a> <a id="4239" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="4241" href="Data.Container.html#4229" class="Bound">X</a> <a id="4243" class="Symbol">→</a> <a id="4245" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="4247" href="Data.Container.html#4212" class="Bound">C₂</a> <a id="4250" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="4252" href="Data.Container.html#4229" class="Bound">X</a><a id="4253" class="Symbol">)</a> <a id="4255" class="Symbol">→</a> <a id="4257" href="Data.Container.html#3863" class="Function">Natural</a> <a id="4265" href="Data.Container.html#4222" class="Bound">m</a>

  <a id="4270" class="Comment">-- Container morphisms are natural.</a>

  <a id="4309" href="Data.Container.html#4309" class="Function">natural</a> <a id="4317" class="Symbol">:</a> <a id="4319" class="Symbol">∀</a> <a id="4321" class="Symbol">{</a><a id="4322" href="Data.Container.html#4322" class="Bound">c</a><a id="4323" class="Symbol">}</a> <a id="4325" class="Symbol">{</a><a id="4326" href="Data.Container.html#4326" class="Bound">C₁</a> <a id="4329" href="Data.Container.html#4329" class="Bound">C₂</a> <a id="4332" class="Symbol">:</a> <a id="4334" href="Data.Container.html#952" class="Record">Container</a> <a id="4344" href="Data.Container.html#4322" class="Bound">c</a><a id="4345" class="Symbol">}</a>
            <a id="4359" class="Symbol">(</a><a id="4360" href="Data.Container.html#4360" class="Bound">m</a> <a id="4362" class="Symbol">:</a> <a id="4364" href="Data.Container.html#4326" class="Bound">C₁</a> <a id="4367" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="4369" href="Data.Container.html#4329" class="Bound">C₂</a><a id="4371" class="Symbol">)</a> <a id="4373" class="Symbol">→</a> <a id="4375" href="Data.Container.html#3863" class="Function">Natural</a> <a id="4383" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="4385" href="Data.Container.html#4360" class="Bound">m</a> <a id="4387" href="Data.Container.html#3673" class="Function Operator">⟫</a>
  <a id="4391" href="Data.Container.html#4309" class="Function">natural</a> <a id="4399" class="Symbol">{</a><a id="4400" class="Argument">C₂</a> <a id="4403" class="Symbol">=</a> <a id="4405" href="Data.Container.html#4405" class="Bound">C₂</a><a id="4407" class="Symbol">}</a> <a id="4409" href="Data.Container.html#4409" class="Bound">m</a> <a id="4411" href="Data.Container.html#4411" class="Bound">Y</a> <a id="4413" href="Data.Container.html#4413" class="Bound">f</a> <a id="4415" href="Data.Container.html#4415" class="Bound">xs</a> <a id="4418" class="Symbol">=</a> <a id="4420" href="Relation.Binary.Core.html#4934" class="Function">Setoid.refl</a> <a id="4432" class="Symbol">(</a><a id="4433" href="Data.Container.html#1999" class="Function">setoid</a> <a id="4440" href="Data.Container.html#4405" class="Bound">C₂</a> <a id="4443" href="Data.Container.html#4411" class="Bound">Y</a><a id="4444" class="Symbol">)</a>

  <a id="4449" class="Comment">-- In fact, all natural functions of the right type are container</a>
  <a id="4517" class="Comment">-- morphisms.</a>

  <a id="4534" href="Data.Container.html#4534" class="Function">complete</a> <a id="4543" class="Symbol">:</a> <a id="4545" class="Symbol">∀</a> <a id="4547" class="Symbol">{</a><a id="4548" href="Data.Container.html#4548" class="Bound">c</a><a id="4549" class="Symbol">}</a> <a id="4551" class="Symbol">{</a><a id="4552" href="Data.Container.html#4552" class="Bound">C₁</a> <a id="4555" href="Data.Container.html#4555" class="Bound">C₂</a> <a id="4558" class="Symbol">:</a> <a id="4560" href="Data.Container.html#952" class="Record">Container</a> <a id="4570" href="Data.Container.html#4548" class="Bound">c</a><a id="4571" class="Symbol">}</a> <a id="4573" class="Symbol">→</a>
             <a id="4588" class="Symbol">(</a><a id="4589" href="Data.Container.html#4589" class="Bound">nt</a> <a id="4592" class="Symbol">:</a> <a id="4594" href="Data.Container.html#4157" class="Function">NT</a> <a id="4597" href="Data.Container.html#4552" class="Bound">C₁</a> <a id="4600" href="Data.Container.html#4555" class="Bound">C₂</a><a id="4602" class="Symbol">)</a> <a id="4604" class="Symbol">→</a>
             <a id="4619" href="Data.Product.html#1105" class="Function">∃</a> <a id="4621" class="Symbol">λ</a> <a id="4623" href="Data.Container.html#4623" class="Bound">m</a> <a id="4625" class="Symbol">→</a> <a id="4627" class="Symbol">(</a><a id="4628" href="Data.Container.html#4628" class="Bound">X</a> <a id="4630" class="Symbol">:</a> <a id="4632" href="Relation.Binary.html#1908" class="Record">Setoid</a> <a id="4639" href="Data.Container.html#4548" class="Bound">c</a> <a id="4641" href="Data.Container.html#4548" class="Bound">c</a><a id="4642" class="Symbol">)</a> <a id="4644" class="Symbol">→</a>
                     <a id="4667" class="Keyword">let</a> <a id="4671" class="Keyword">module</a> <a id="4678" href="Data.Container.html#4678" class="Module">X</a> <a id="4680" class="Symbol">=</a> <a id="4682" href="Relation.Binary.html#1908" class="Module">Setoid</a> <a id="4689" href="Data.Container.html#4628" class="Bound">X</a> <a id="4691" class="Keyword">in</a>
                     <a id="4715" class="Symbol">(</a><a id="4716" href="Data.Container.html#4716" class="Bound">xs</a> <a id="4719" class="Symbol">:</a> <a id="4721" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="4723" href="Data.Container.html#4552" class="Bound">C₁</a> <a id="4726" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="4728" href="Relation.Binary.html#1971" class="Field">X.Carrier</a><a id="4737" class="Symbol">)</a> <a id="4739" class="Symbol">→</a>
                     <a id="4762" href="Data.Container.html#1480" class="Function">Eq</a> <a id="4765" href="Relation.Binary.html#1997" class="Field Operator">X._≈_</a> <a id="4771" class="Symbol">(</a><a id="4772" href="Data.Product.html#559" class="Field">proj₁</a> <a id="4778" href="Data.Container.html#4589" class="Bound">nt</a> <a id="4781" href="Data.Container.html#4716" class="Bound">xs</a><a id="4783" class="Symbol">)</a> <a id="4785" class="Symbol">(</a><a id="4786" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="4788" href="Data.Container.html#4623" class="Bound">m</a> <a id="4790" href="Data.Container.html#3673" class="Function Operator">⟫</a> <a id="4792" href="Data.Container.html#4716" class="Bound">xs</a><a id="4794" class="Symbol">)</a>
  <a id="4798" href="Data.Container.html#4534" class="Function">complete</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Data.Container.html#4808" class="Bound">nt</a> <a id="4811" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="4813" href="Data.Container.html#4813" class="Bound">nat</a><a id="4816" class="Symbol">)</a> <a id="4818" class="Symbol">=</a>
    <a id="4824" class="Symbol">(</a><a id="4825" href="Data.Container.html#4888" class="Function">m</a> <a id="4827" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="4829" class="Symbol">λ</a> <a id="4831" href="Data.Container.html#4831" class="Bound">X</a> <a id="4833" href="Data.Container.html#4833" class="Bound">xs</a> <a id="4836" class="Symbol">→</a> <a id="4838" href="Data.Container.html#4813" class="Bound">nat</a> <a id="4842" href="Data.Container.html#4831" class="Bound">X</a> <a id="4844" class="Symbol">(</a><a id="4845" href="Data.Product.html#573" class="Field">proj₂</a> <a id="4851" href="Data.Container.html#4833" class="Bound">xs</a><a id="4853" class="Symbol">)</a> <a id="4855" class="Symbol">(</a><a id="4856" href="Data.Product.html#559" class="Field">proj₁</a> <a id="4862" href="Data.Container.html#4833" class="Bound">xs</a> <a id="4865" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="4867" href="Function.html#1047" class="Function">⟨id⟩</a><a id="4871" class="Symbol">))</a>
    <a id="4878" class="Keyword">where</a>
    <a id="4888" href="Data.Container.html#4888" class="Function">m</a> <a id="4890" class="Symbol">=</a> <a id="4892" class="Keyword">record</a> <a id="4899" class="Symbol">{</a> <a id="4901" class="Field">shape</a>    <a id="4910" class="Symbol">=</a> <a id="4912" class="Symbol">λ</a>  <a id="4915" href="Data.Container.html#4915" class="Bound">s</a>  <a id="4918" class="Symbol">→</a> <a id="4920" href="Data.Product.html#559" class="Field">proj₁</a> <a id="4926" class="Symbol">(</a><a id="4927" href="Data.Container.html#4808" class="Bound">nt</a> <a id="4930" class="Symbol">(</a><a id="4931" href="Data.Container.html#4915" class="Bound">s</a> <a id="4933" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="4935" href="Function.html#1047" class="Function">⟨id⟩</a><a id="4939" class="Symbol">))</a>
               <a id="4957" class="Symbol">;</a> <a id="4959" class="Field">position</a> <a id="4968" class="Symbol">=</a> <a id="4970" class="Symbol">λ</a> <a id="4972" class="Symbol">{</a><a id="4973" href="Data.Container.html#4973" class="Bound">s</a><a id="4974" class="Symbol">}</a> <a id="4976" class="Symbol">→</a> <a id="4978" href="Data.Product.html#573" class="Field">proj₂</a> <a id="4984" class="Symbol">(</a><a id="4985" href="Data.Container.html#4808" class="Bound">nt</a> <a id="4988" class="Symbol">(</a><a id="4989" href="Data.Container.html#4973" class="Bound">s</a> <a id="4991" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="4993" href="Function.html#1047" class="Function">⟨id⟩</a><a id="4997" class="Symbol">))</a>
               <a id="5015" class="Symbol">}</a>

  <a id="5020" class="Comment">-- Identity.</a>

  <a id="5036" href="Data.Container.html#5036" class="Function">id</a> <a id="5039" class="Symbol">:</a> <a id="5041" class="Symbol">∀</a> <a id="5043" class="Symbol">{</a><a id="5044" href="Data.Container.html#5044" class="Bound">c</a><a id="5045" class="Symbol">}</a> <a id="5047" class="Symbol">(</a><a id="5048" href="Data.Container.html#5048" class="Bound">C</a> <a id="5050" class="Symbol">:</a> <a id="5052" href="Data.Container.html#952" class="Record">Container</a> <a id="5062" href="Data.Container.html#5044" class="Bound">c</a><a id="5063" class="Symbol">)</a> <a id="5065" class="Symbol">→</a> <a id="5067" href="Data.Container.html#5048" class="Bound">C</a> <a id="5069" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="5071" href="Data.Container.html#5048" class="Bound">C</a>
  <a id="5075" href="Data.Container.html#5036" class="Function">id</a> <a id="5078" class="Symbol">_</a> <a id="5080" class="Symbol">=</a> <a id="5082" class="Keyword">record</a> <a id="5089" class="Symbol">{</a><a id="5090" class="Field">shape</a> <a id="5096" class="Symbol">=</a> <a id="5098" href="Function.html#1047" class="Function">⟨id⟩</a><a id="5102" class="Symbol">;</a> <a id="5104" class="Field">position</a> <a id="5113" class="Symbol">=</a> <a id="5115" href="Function.html#1047" class="Function">⟨id⟩</a><a id="5119" class="Symbol">}</a>

  <a id="5124" class="Comment">-- Composition.</a>

  <a id="5143" class="Keyword">infixr</a> <a id="5150" class="Number">9</a> <a id="5152" href="Data.Container.html#5159" class="Function Operator">_∘_</a>

  <a id="5159" href="Data.Container.html#5159" class="Function Operator">_∘_</a> <a id="5163" class="Symbol">:</a> <a id="5165" class="Symbol">∀</a> <a id="5167" class="Symbol">{</a><a id="5168" href="Data.Container.html#5168" class="Bound">c</a><a id="5169" class="Symbol">}</a> <a id="5171" class="Symbol">{</a><a id="5172" href="Data.Container.html#5172" class="Bound">C₁</a> <a id="5175" href="Data.Container.html#5175" class="Bound">C₂</a> <a id="5178" href="Data.Container.html#5178" class="Bound">C₃</a> <a id="5181" class="Symbol">:</a> <a id="5183" href="Data.Container.html#952" class="Record">Container</a> <a id="5193" href="Data.Container.html#5168" class="Bound">c</a><a id="5194" class="Symbol">}</a> <a id="5196" class="Symbol">→</a> <a id="5198" href="Data.Container.html#5175" class="Bound">C₂</a> <a id="5201" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="5203" href="Data.Container.html#5178" class="Bound">C₃</a> <a id="5206" class="Symbol">→</a> <a id="5208" href="Data.Container.html#5172" class="Bound">C₁</a> <a id="5211" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="5213" href="Data.Container.html#5175" class="Bound">C₂</a> <a id="5216" class="Symbol">→</a> <a id="5218" href="Data.Container.html#5172" class="Bound">C₁</a> <a id="5221" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="5223" href="Data.Container.html#5178" class="Bound">C₃</a>
  <a id="5228" href="Data.Container.html#5228" class="Bound">f</a> <a id="5230" href="Data.Container.html#5159" class="Function Operator">∘</a> <a id="5232" href="Data.Container.html#5232" class="Bound">g</a> <a id="5234" class="Symbol">=</a> <a id="5236" class="Keyword">record</a>
    <a id="5247" class="Symbol">{</a> <a id="5249" class="Field">shape</a>    <a id="5258" class="Symbol">=</a> <a id="5260" href="Data.Container.html#3536" class="Field">shape</a>    <a id="5269" href="Data.Container.html#5228" class="Bound">f</a> <a id="5271" href="Function.html#748" class="Function Operator">⟨∘⟩</a> <a id="5275" href="Data.Container.html#3536" class="Field">shape</a>    <a id="5284" href="Data.Container.html#5232" class="Bound">g</a>
    <a id="5290" class="Symbol">;</a> <a id="5292" class="Field">position</a> <a id="5301" class="Symbol">=</a> <a id="5303" href="Data.Container.html#3571" class="Field">position</a> <a id="5312" href="Data.Container.html#5232" class="Bound">g</a> <a id="5314" href="Function.html#748" class="Function Operator">⟨∘⟩</a> <a id="5318" href="Data.Container.html#3571" class="Field">position</a> <a id="5327" href="Data.Container.html#5228" class="Bound">f</a>
    <a id="5333" class="Symbol">}</a>

  <a id="5338" class="Comment">-- Identity and composition commute with ⟪_⟫.</a>

  <a id="5387" href="Data.Container.html#5387" class="Function">id-correct</a> <a id="5398" class="Symbol">:</a> <a id="5400" class="Symbol">∀</a> <a id="5402" class="Symbol">{</a><a id="5403" href="Data.Container.html#5403" class="Bound">c</a><a id="5404" class="Symbol">}</a> <a id="5406" class="Symbol">{</a><a id="5407" href="Data.Container.html#5407" class="Bound">C</a> <a id="5409" class="Symbol">:</a> <a id="5411" href="Data.Container.html#952" class="Record">Container</a> <a id="5421" href="Data.Container.html#5403" class="Bound">c</a><a id="5422" class="Symbol">}</a> <a id="5424" class="Symbol">{</a><a id="5425" href="Data.Container.html#5425" class="Bound">X</a> <a id="5427" class="Symbol">:</a> <a id="5429" class="PrimitiveType">Set</a> <a id="5433" href="Data.Container.html#5403" class="Bound">c</a><a id="5434" class="Symbol">}</a> <a id="5436" class="Symbol">→</a>
               <a id="5453" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="5455" href="Data.Container.html#5036" class="Function">id</a> <a id="5458" href="Data.Container.html#5407" class="Bound">C</a> <a id="5460" href="Data.Container.html#3673" class="Function Operator">⟫</a> <a id="5462" class="Symbol">{</a><a id="5463" href="Data.Container.html#5425" class="Bound">X</a><a id="5464" class="Symbol">}</a> <a id="5466" href="Relation.Binary.PropositionalEquality.html#2448" class="Function Operator">≗</a> <a id="5468" href="Function.html#1047" class="Function">⟨id⟩</a>
  <a id="5475" href="Data.Container.html#5387" class="Function">id-correct</a> <a id="5486" href="Data.Container.html#5486" class="Bound">xs</a> <a id="5489" class="Symbol">=</a> <a id="5491" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="5499" href="Data.Container.html#5499" class="Function">∘-correct</a> <a id="5509" class="Symbol">:</a> <a id="5511" class="Symbol">∀</a> <a id="5513" class="Symbol">{</a><a id="5514" href="Data.Container.html#5514" class="Bound">c</a><a id="5515" class="Symbol">}</a> <a id="5517" class="Symbol">{</a><a id="5518" href="Data.Container.html#5518" class="Bound">C₁</a> <a id="5521" href="Data.Container.html#5521" class="Bound">C₂</a> <a id="5524" href="Data.Container.html#5524" class="Bound">C₃</a> <a id="5527" class="Symbol">:</a> <a id="5529" href="Data.Container.html#952" class="Record">Container</a> <a id="5539" href="Data.Container.html#5514" class="Bound">c</a><a id="5540" class="Symbol">}</a>
              <a id="5556" class="Symbol">(</a><a id="5557" href="Data.Container.html#5557" class="Bound">f</a> <a id="5559" class="Symbol">:</a> <a id="5561" href="Data.Container.html#5521" class="Bound">C₂</a> <a id="5564" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="5566" href="Data.Container.html#5524" class="Bound">C₃</a><a id="5568" class="Symbol">)</a> <a id="5570" class="Symbol">(</a><a id="5571" href="Data.Container.html#5571" class="Bound">g</a> <a id="5573" class="Symbol">:</a> <a id="5575" href="Data.Container.html#5518" class="Bound">C₁</a> <a id="5578" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="5580" href="Data.Container.html#5521" class="Bound">C₂</a><a id="5582" class="Symbol">)</a> <a id="5584" class="Symbol">{</a><a id="5585" href="Data.Container.html#5585" class="Bound">X</a> <a id="5587" class="Symbol">:</a> <a id="5589" class="PrimitiveType">Set</a> <a id="5593" href="Data.Container.html#5514" class="Bound">c</a><a id="5594" class="Symbol">}</a> <a id="5596" class="Symbol">→</a>
              <a id="5612" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="5614" href="Data.Container.html#5557" class="Bound">f</a> <a id="5616" href="Data.Container.html#5159" class="Function Operator">∘</a> <a id="5618" href="Data.Container.html#5571" class="Bound">g</a> <a id="5620" href="Data.Container.html#3673" class="Function Operator">⟫</a> <a id="5622" class="Symbol">{</a><a id="5623" href="Data.Container.html#5585" class="Bound">X</a><a id="5624" class="Symbol">}</a> <a id="5626" href="Relation.Binary.PropositionalEquality.html#2448" class="Function Operator">≗</a> <a id="5628" class="Symbol">(</a><a id="5629" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="5631" href="Data.Container.html#5557" class="Bound">f</a> <a id="5633" href="Data.Container.html#3673" class="Function Operator">⟫</a> <a id="5635" href="Function.html#748" class="Function Operator">⟨∘⟩</a> <a id="5639" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="5641" href="Data.Container.html#5571" class="Bound">g</a> <a id="5643" href="Data.Container.html#3673" class="Function Operator">⟫</a><a id="5644" class="Symbol">)</a>
  <a id="5648" href="Data.Container.html#5499" class="Function">∘-correct</a> <a id="5658" href="Data.Container.html#5658" class="Bound">f</a> <a id="5660" href="Data.Container.html#5660" class="Bound">g</a> <a id="5662" href="Data.Container.html#5662" class="Bound">xs</a> <a id="5665" class="Symbol">=</a> <a id="5667" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="5673" class="Comment">------------------------------------------------------------------------</a>
<a id="5746" class="Comment">-- Linear container morphisms</a>

<a id="5777" class="Keyword">record</a> <a id="5784" href="Data.Container.html#5784" class="Record Operator">_⊸_</a> <a id="5788" class="Symbol">{</a><a id="5789" href="Data.Container.html#5789" class="Bound">c</a><a id="5790" class="Symbol">}</a> <a id="5792" class="Symbol">(</a><a id="5793" href="Data.Container.html#5793" class="Bound">C₁</a> <a id="5796" href="Data.Container.html#5796" class="Bound">C₂</a> <a id="5799" class="Symbol">:</a> <a id="5801" href="Data.Container.html#952" class="Record">Container</a> <a id="5811" href="Data.Container.html#5789" class="Bound">c</a><a id="5812" class="Symbol">)</a> <a id="5814" class="Symbol">:</a> <a id="5816" class="PrimitiveType">Set</a> <a id="5820" href="Data.Container.html#5789" class="Bound">c</a> <a id="5822" class="Keyword">where</a>
  <a id="5830" class="Keyword">field</a>
    <a id="5840" href="Data.Container.html#5840" class="Field">shape⊸</a>    <a id="5850" class="Symbol">:</a> <a id="5852" href="Data.Container.html#1024" class="Field">Shape</a> <a id="5858" href="Data.Container.html#5793" class="Bound">C₁</a> <a id="5861" class="Symbol">→</a> <a id="5863" href="Data.Container.html#1024" class="Field">Shape</a> <a id="5869" href="Data.Container.html#5796" class="Bound">C₂</a>
    <a id="5876" href="Data.Container.html#5876" class="Field">position⊸</a> <a id="5886" class="Symbol">:</a> <a id="5888" class="Symbol">∀</a> <a id="5890" class="Symbol">{</a><a id="5891" href="Data.Container.html#5891" class="Bound">s</a><a id="5892" class="Symbol">}</a> <a id="5894" class="Symbol">→</a> <a id="5896" href="Data.Container.html#1045" class="Field">Position</a> <a id="5905" href="Data.Container.html#5796" class="Bound">C₂</a> <a id="5908" class="Symbol">(</a><a id="5909" href="Data.Container.html#5840" class="Field">shape⊸</a> <a id="5916" href="Data.Container.html#5891" class="Bound">s</a><a id="5917" class="Symbol">)</a> <a id="5919" href="Function.Inverse.html#1914" class="Function Operator">↔</a> <a id="5921" href="Data.Container.html#1045" class="Field">Position</a> <a id="5930" href="Data.Container.html#5793" class="Bound">C₁</a> <a id="5933" href="Data.Container.html#5891" class="Bound">s</a>

  <a id="5938" href="Data.Container.html#5938" class="Function">morphism</a> <a id="5947" class="Symbol">:</a> <a id="5949" href="Data.Container.html#5793" class="Bound">C₁</a> <a id="5952" href="Data.Container.html#3480" class="Record Operator">⇒</a> <a id="5954" href="Data.Container.html#5796" class="Bound">C₂</a>
  <a id="5959" href="Data.Container.html#5938" class="Function">morphism</a> <a id="5968" class="Symbol">=</a> <a id="5970" class="Keyword">record</a>
    <a id="5981" class="Symbol">{</a> <a id="5983" class="Field">shape</a>    <a id="5992" class="Symbol">=</a> <a id="5994" href="Data.Container.html#5840" class="Field">shape⊸</a>
    <a id="6005" class="Symbol">;</a> <a id="6007" class="Field">position</a> <a id="6016" class="Symbol">=</a> <a id="6018" href="Function.Equality.html#681" class="Field Operator">_⟨$⟩_</a> <a id="6024" class="Symbol">(</a><a id="6025" href="Function.Inverse.html#1099" class="Field">Inverse.to</a> <a id="6036" href="Data.Container.html#5876" class="Field">position⊸</a><a id="6045" class="Symbol">)</a>
    <a id="6051" class="Symbol">}</a>

  <a id="6056" href="Data.Container.html#6056" class="Function Operator">⟪_⟫⊸</a> <a id="6061" class="Symbol">:</a> <a id="6063" class="Symbol">∀</a> <a id="6065" class="Symbol">{</a><a id="6066" href="Data.Container.html#6066" class="Bound">ℓ</a><a id="6067" class="Symbol">}</a> <a id="6069" class="Symbol">{</a><a id="6070" href="Data.Container.html#6070" class="Bound">X</a> <a id="6072" class="Symbol">:</a> <a id="6074" class="PrimitiveType">Set</a> <a id="6078" href="Data.Container.html#6066" class="Bound">ℓ</a><a id="6079" class="Symbol">}</a> <a id="6081" class="Symbol">→</a> <a id="6083" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="6085" href="Data.Container.html#5793" class="Bound">C₁</a> <a id="6088" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="6090" href="Data.Container.html#6070" class="Bound">X</a> <a id="6092" class="Symbol">→</a> <a id="6094" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="6096" href="Data.Container.html#5796" class="Bound">C₂</a> <a id="6099" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="6101" href="Data.Container.html#6070" class="Bound">X</a>
  <a id="6105" href="Data.Container.html#6056" class="Function Operator">⟪_⟫⊸</a> <a id="6110" class="Symbol">=</a> <a id="6112" href="Data.Container.html#3673" class="Function Operator">⟪</a> <a id="6114" href="Data.Container.html#5938" class="Function">morphism</a> <a id="6123" href="Data.Container.html#3673" class="Function Operator">⟫</a>

<a id="6126" class="Keyword">open</a> <a id="6131" href="Data.Container.html#5784" class="Module Operator">_⊸_</a> <a id="6135" class="Keyword">public</a> <a id="6142" class="Keyword">using</a> <a id="6148" class="Symbol">(</a><a id="6149" href="Data.Container.html#5840" class="Field">shape⊸</a><a id="6155" class="Symbol">;</a> <a id="6157" href="Data.Container.html#5876" class="Field">position⊸</a><a id="6166" class="Symbol">;</a> <a id="6168" href="Data.Container.html#6056" class="Function Operator">⟪_⟫⊸</a><a id="6172" class="Symbol">)</a>

<a id="6175" class="Comment">------------------------------------------------------------------------</a>
<a id="6248" class="Comment">-- All and any</a>

<a id="6264" class="Comment">-- All.</a>

<a id="6273" href="Data.Container.html#6273" class="Function">□</a> <a id="6275" class="Symbol">:</a> <a id="6277" class="Symbol">∀</a> <a id="6279" class="Symbol">{</a><a id="6280" href="Data.Container.html#6280" class="Bound">c</a><a id="6281" class="Symbol">}</a> <a id="6283" class="Symbol">{</a><a id="6284" href="Data.Container.html#6284" class="Bound">C</a> <a id="6286" class="Symbol">:</a> <a id="6288" href="Data.Container.html#952" class="Record">Container</a> <a id="6298" href="Data.Container.html#6280" class="Bound">c</a><a id="6299" class="Symbol">}</a> <a id="6301" class="Symbol">{</a><a id="6302" href="Data.Container.html#6302" class="Bound">X</a> <a id="6304" class="Symbol">:</a> <a id="6306" class="PrimitiveType">Set</a> <a id="6310" href="Data.Container.html#6280" class="Bound">c</a><a id="6311" class="Symbol">}</a> <a id="6313" class="Symbol">→</a>
    <a id="6319" class="Symbol">(</a><a id="6320" href="Data.Container.html#6302" class="Bound">X</a> <a id="6322" class="Symbol">→</a> <a id="6324" class="PrimitiveType">Set</a> <a id="6328" href="Data.Container.html#6280" class="Bound">c</a><a id="6329" class="Symbol">)</a> <a id="6331" class="Symbol">→</a> <a id="6333" class="Symbol">(</a><a id="6334" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="6336" href="Data.Container.html#6284" class="Bound">C</a> <a id="6338" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="6340" href="Data.Container.html#6302" class="Bound">X</a> <a id="6342" class="Symbol">→</a> <a id="6344" class="PrimitiveType">Set</a> <a id="6348" href="Data.Container.html#6280" class="Bound">c</a><a id="6349" class="Symbol">)</a>
<a id="6351" href="Data.Container.html#6273" class="Function">□</a> <a id="6353" href="Data.Container.html#6353" class="Bound">P</a> <a id="6355" class="Symbol">(</a><a id="6356" href="Data.Container.html#6356" class="Bound">s</a> <a id="6358" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="6360" href="Data.Container.html#6360" class="Bound">f</a><a id="6361" class="Symbol">)</a> <a id="6363" class="Symbol">=</a> <a id="6365" class="Symbol">∀</a> <a id="6367" href="Data.Container.html#6367" class="Bound">p</a> <a id="6369" class="Symbol">→</a> <a id="6371" href="Data.Container.html#6353" class="Bound">P</a> <a id="6373" class="Symbol">(</a><a id="6374" href="Data.Container.html#6360" class="Bound">f</a> <a id="6376" href="Data.Container.html#6367" class="Bound">p</a><a id="6377" class="Symbol">)</a>

<a id="6380" href="Data.Container.html#6380" class="Function">□-map</a> <a id="6386" class="Symbol">:</a> <a id="6388" class="Symbol">∀</a> <a id="6390" class="Symbol">{</a><a id="6391" href="Data.Container.html#6391" class="Bound">c</a><a id="6392" class="Symbol">}</a> <a id="6394" class="Symbol">{</a><a id="6395" href="Data.Container.html#6395" class="Bound">C</a> <a id="6397" class="Symbol">:</a> <a id="6399" href="Data.Container.html#952" class="Record">Container</a> <a id="6409" href="Data.Container.html#6391" class="Bound">c</a><a id="6410" class="Symbol">}</a> <a id="6412" class="Symbol">{</a><a id="6413" href="Data.Container.html#6413" class="Bound">X</a> <a id="6415" class="Symbol">:</a> <a id="6417" class="PrimitiveType">Set</a> <a id="6421" href="Data.Container.html#6391" class="Bound">c</a><a id="6422" class="Symbol">}</a> <a id="6424" class="Symbol">{</a><a id="6425" href="Data.Container.html#6425" class="Bound">P</a> <a id="6427" href="Data.Container.html#6427" class="Bound">Q</a> <a id="6429" class="Symbol">:</a> <a id="6431" href="Data.Container.html#6413" class="Bound">X</a> <a id="6433" class="Symbol">→</a> <a id="6435" class="PrimitiveType">Set</a> <a id="6439" href="Data.Container.html#6391" class="Bound">c</a><a id="6440" class="Symbol">}</a> <a id="6442" class="Symbol">→</a>
        <a id="6452" href="Data.Container.html#6425" class="Bound">P</a> <a id="6454" href="Relation.Unary.html#1875" class="Function Operator">⊆</a> <a id="6456" href="Data.Container.html#6427" class="Bound">Q</a> <a id="6458" class="Symbol">→</a> <a id="6460" href="Data.Container.html#6273" class="Function">□</a> <a id="6462" class="Symbol">{</a><a id="6463" class="Argument">C</a> <a id="6465" class="Symbol">=</a> <a id="6467" href="Data.Container.html#6395" class="Bound">C</a><a id="6468" class="Symbol">}</a> <a id="6470" href="Data.Container.html#6425" class="Bound">P</a> <a id="6472" href="Relation.Unary.html#1875" class="Function Operator">⊆</a> <a id="6474" href="Data.Container.html#6273" class="Function">□</a> <a id="6476" href="Data.Container.html#6427" class="Bound">Q</a>
<a id="6478" href="Data.Container.html#6380" class="Function">□-map</a> <a id="6484" href="Data.Container.html#6484" class="Bound">P⊆Q</a> <a id="6488" class="Symbol">=</a> <a id="6490" href="Function.html#748" class="Function Operator">_⟨∘⟩_</a> <a id="6496" href="Data.Container.html#6484" class="Bound">P⊆Q</a>

<a id="6501" class="Comment">-- Any.</a>

<a id="6510" href="Data.Container.html#6510" class="Function">◇</a> <a id="6512" class="Symbol">:</a> <a id="6514" class="Symbol">∀</a> <a id="6516" class="Symbol">{</a><a id="6517" href="Data.Container.html#6517" class="Bound">c</a><a id="6518" class="Symbol">}</a> <a id="6520" class="Symbol">{</a><a id="6521" href="Data.Container.html#6521" class="Bound">C</a> <a id="6523" class="Symbol">:</a> <a id="6525" href="Data.Container.html#952" class="Record">Container</a> <a id="6535" href="Data.Container.html#6517" class="Bound">c</a><a id="6536" class="Symbol">}</a> <a id="6538" class="Symbol">{</a><a id="6539" href="Data.Container.html#6539" class="Bound">X</a> <a id="6541" class="Symbol">:</a> <a id="6543" class="PrimitiveType">Set</a> <a id="6547" href="Data.Container.html#6517" class="Bound">c</a><a id="6548" class="Symbol">}</a> <a id="6550" class="Symbol">→</a>
    <a id="6556" class="Symbol">(</a><a id="6557" href="Data.Container.html#6539" class="Bound">X</a> <a id="6559" class="Symbol">→</a> <a id="6561" class="PrimitiveType">Set</a> <a id="6565" href="Data.Container.html#6517" class="Bound">c</a><a id="6566" class="Symbol">)</a> <a id="6568" class="Symbol">→</a> <a id="6570" class="Symbol">(</a><a id="6571" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="6573" href="Data.Container.html#6521" class="Bound">C</a> <a id="6575" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="6577" href="Data.Container.html#6539" class="Bound">X</a> <a id="6579" class="Symbol">→</a> <a id="6581" class="PrimitiveType">Set</a> <a id="6585" href="Data.Container.html#6517" class="Bound">c</a><a id="6586" class="Symbol">)</a>
<a id="6588" href="Data.Container.html#6510" class="Function">◇</a> <a id="6590" href="Data.Container.html#6590" class="Bound">P</a> <a id="6592" class="Symbol">(</a><a id="6593" href="Data.Container.html#6593" class="Bound">s</a> <a id="6595" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="6597" href="Data.Container.html#6597" class="Bound">f</a><a id="6598" class="Symbol">)</a> <a id="6600" class="Symbol">=</a> <a id="6602" href="Data.Product.html#1105" class="Function">∃</a> <a id="6604" class="Symbol">λ</a> <a id="6606" href="Data.Container.html#6606" class="Bound">p</a> <a id="6608" class="Symbol">→</a> <a id="6610" href="Data.Container.html#6590" class="Bound">P</a> <a id="6612" class="Symbol">(</a><a id="6613" href="Data.Container.html#6597" class="Bound">f</a> <a id="6615" href="Data.Container.html#6606" class="Bound">p</a><a id="6616" class="Symbol">)</a>

<a id="6619" href="Data.Container.html#6619" class="Function">◇-map</a> <a id="6625" class="Symbol">:</a> <a id="6627" class="Symbol">∀</a> <a id="6629" class="Symbol">{</a><a id="6630" href="Data.Container.html#6630" class="Bound">c</a><a id="6631" class="Symbol">}</a> <a id="6633" class="Symbol">{</a><a id="6634" href="Data.Container.html#6634" class="Bound">C</a> <a id="6636" class="Symbol">:</a> <a id="6638" href="Data.Container.html#952" class="Record">Container</a> <a id="6648" href="Data.Container.html#6630" class="Bound">c</a><a id="6649" class="Symbol">}</a> <a id="6651" class="Symbol">{</a><a id="6652" href="Data.Container.html#6652" class="Bound">X</a> <a id="6654" class="Symbol">:</a> <a id="6656" class="PrimitiveType">Set</a> <a id="6660" href="Data.Container.html#6630" class="Bound">c</a><a id="6661" class="Symbol">}</a> <a id="6663" class="Symbol">{</a><a id="6664" href="Data.Container.html#6664" class="Bound">P</a> <a id="6666" href="Data.Container.html#6666" class="Bound">Q</a> <a id="6668" class="Symbol">:</a> <a id="6670" href="Data.Container.html#6652" class="Bound">X</a> <a id="6672" class="Symbol">→</a> <a id="6674" class="PrimitiveType">Set</a> <a id="6678" href="Data.Container.html#6630" class="Bound">c</a><a id="6679" class="Symbol">}</a> <a id="6681" class="Symbol">→</a>
        <a id="6691" href="Data.Container.html#6664" class="Bound">P</a> <a id="6693" href="Relation.Unary.html#1875" class="Function Operator">⊆</a> <a id="6695" href="Data.Container.html#6666" class="Bound">Q</a> <a id="6697" class="Symbol">→</a> <a id="6699" href="Data.Container.html#6510" class="Function">◇</a> <a id="6701" class="Symbol">{</a><a id="6702" class="Argument">C</a> <a id="6704" class="Symbol">=</a> <a id="6706" href="Data.Container.html#6634" class="Bound">C</a><a id="6707" class="Symbol">}</a> <a id="6709" href="Data.Container.html#6664" class="Bound">P</a> <a id="6711" href="Relation.Unary.html#1875" class="Function Operator">⊆</a> <a id="6713" href="Data.Container.html#6510" class="Function">◇</a> <a id="6715" href="Data.Container.html#6666" class="Bound">Q</a>
<a id="6717" href="Data.Container.html#6619" class="Function">◇-map</a> <a id="6723" href="Data.Container.html#6723" class="Bound">P⊆Q</a> <a id="6727" class="Symbol">=</a> <a id="6729" href="Data.Product.html#2376" class="Function">Prod.map</a> <a id="6738" href="Function.html#1047" class="Function">⟨id⟩</a> <a id="6743" href="Data.Container.html#6723" class="Bound">P⊆Q</a>

<a id="6748" class="Comment">-- Membership.</a>

<a id="6764" class="Keyword">infix</a> <a id="6770" class="Number">4</a> <a id="6772" href="Data.Container.html#6777" class="Function Operator">_∈_</a>

<a id="6777" href="Data.Container.html#6777" class="Function Operator">_∈_</a> <a id="6781" class="Symbol">:</a> <a id="6783" class="Symbol">∀</a> <a id="6785" class="Symbol">{</a><a id="6786" href="Data.Container.html#6786" class="Bound">c</a><a id="6787" class="Symbol">}</a> <a id="6789" class="Symbol">{</a><a id="6790" href="Data.Container.html#6790" class="Bound">C</a> <a id="6792" class="Symbol">:</a> <a id="6794" href="Data.Container.html#952" class="Record">Container</a> <a id="6804" href="Data.Container.html#6786" class="Bound">c</a><a id="6805" class="Symbol">}</a> <a id="6807" class="Symbol">{</a><a id="6808" href="Data.Container.html#6808" class="Bound">X</a> <a id="6810" class="Symbol">:</a> <a id="6812" class="PrimitiveType">Set</a> <a id="6816" href="Data.Container.html#6786" class="Bound">c</a><a id="6817" class="Symbol">}</a> <a id="6819" class="Symbol">→</a>
      <a id="6827" href="Data.Container.html#6808" class="Bound">X</a> <a id="6829" class="Symbol">→</a> <a id="6831" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="6833" href="Data.Container.html#6790" class="Bound">C</a> <a id="6835" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="6837" href="Data.Container.html#6808" class="Bound">X</a> <a id="6839" class="Symbol">→</a> <a id="6841" class="PrimitiveType">Set</a> <a id="6845" href="Data.Container.html#6786" class="Bound">c</a>
<a id="6847" href="Data.Container.html#6847" class="Bound">x</a> <a id="6849" href="Data.Container.html#6777" class="Function Operator">∈</a> <a id="6851" href="Data.Container.html#6851" class="Bound">xs</a> <a id="6854" class="Symbol">=</a> <a id="6856" href="Data.Container.html#6510" class="Function">◇</a> <a id="6858" class="Symbol">(</a><a id="6859" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a> <a id="6863" href="Data.Container.html#6847" class="Bound">x</a><a id="6864" class="Symbol">)</a> <a id="6866" href="Data.Container.html#6851" class="Bound">xs</a>

<a id="6870" class="Comment">-- Bag and set equality and related preorders. Two containers xs and</a>
<a id="6939" class="Comment">-- ys are equal when viewed as sets if, whenever x ∈ xs, we also have</a>
<a id="7009" class="Comment">-- x ∈ ys, and vice versa. They are equal when viewed as bags if,</a>
<a id="7075" class="Comment">-- additionally, the sets x ∈ xs and x ∈ ys have the same size.</a>

<a id="7140" class="Keyword">open</a> <a id="7145" href="Function.Related.html" class="Module">Related</a> <a id="7153" class="Keyword">public</a>
  <a id="7162" class="Keyword">using</a> <a id="7168" class="Symbol">(</a><a id="7169" href="Function.Related.html#1613" class="Datatype">Kind</a><a id="7173" class="Symbol">;</a> <a id="7175" href="Function.Related.html#3339" class="Datatype">Symmetric-kind</a><a id="7189" class="Symbol">)</a>
  <a id="7193" class="Keyword">renaming</a> <a id="7202" class="Symbol">(</a> <a id="7204" href="Function.Related.html#1632" class="InductiveConstructor">implication</a>         <a id="7224" class="Symbol">to</a> <a id="7227" href="Function.Related.html#1632" class="InductiveConstructor">subset</a>
           <a id="7245" class="Symbol">;</a> <a id="7247" href="Function.Related.html#1644" class="InductiveConstructor">reverse-implication</a> <a id="7267" class="Symbol">to</a> <a id="7270" href="Function.Related.html#1644" class="InductiveConstructor">superset</a>
           <a id="7290" class="Symbol">;</a> <a id="7292" href="Function.Related.html#1668" class="InductiveConstructor">equivalence</a>         <a id="7312" class="Symbol">to</a> <a id="7315" href="Function.Related.html#1668" class="InductiveConstructor">set</a>
           <a id="7330" class="Symbol">;</a> <a id="7332" href="Function.Related.html#1684" class="InductiveConstructor">injection</a>           <a id="7352" class="Symbol">to</a> <a id="7355" href="Function.Related.html#1684" class="InductiveConstructor">subbag</a>
           <a id="7373" class="Symbol">;</a> <a id="7375" href="Function.Related.html#1694" class="InductiveConstructor">reverse-injection</a>   <a id="7395" class="Symbol">to</a> <a id="7398" href="Function.Related.html#1694" class="InductiveConstructor">superbag</a>
           <a id="7418" class="Symbol">;</a> <a id="7420" href="Function.Related.html#1744" class="InductiveConstructor">bijection</a>           <a id="7440" class="Symbol">to</a> <a id="7443" href="Function.Related.html#1744" class="InductiveConstructor">bag</a>
           <a id="7458" class="Symbol">)</a>

<a id="7461" href="Data.Container.html#7461" class="Function Operator">[_]-Order</a> <a id="7471" class="Symbol">:</a> <a id="7473" class="Symbol">∀</a> <a id="7475" class="Symbol">{</a><a id="7476" href="Data.Container.html#7476" class="Bound">ℓ</a><a id="7477" class="Symbol">}</a> <a id="7479" class="Symbol">→</a> <a id="7481" href="Function.Related.html#1613" class="Datatype">Kind</a> <a id="7486" class="Symbol">→</a> <a id="7488" href="Data.Container.html#952" class="Record">Container</a> <a id="7498" href="Data.Container.html#7476" class="Bound">ℓ</a> <a id="7500" class="Symbol">→</a> <a id="7502" class="PrimitiveType">Set</a> <a id="7506" href="Data.Container.html#7476" class="Bound">ℓ</a> <a id="7508" class="Symbol">→</a> <a id="7510" href="Relation.Binary.html#1470" class="Record">Preorder</a> <a id="7519" href="Data.Container.html#7476" class="Bound">ℓ</a> <a id="7521" href="Data.Container.html#7476" class="Bound">ℓ</a> <a id="7523" href="Data.Container.html#7476" class="Bound">ℓ</a>
<a id="7525" href="Data.Container.html#7461" class="Function Operator">[</a> <a id="7527" href="Data.Container.html#7527" class="Bound">k</a> <a id="7529" href="Data.Container.html#7461" class="Function Operator">]-Order</a> <a id="7537" href="Data.Container.html#7537" class="Bound">C</a> <a id="7539" href="Data.Container.html#7539" class="Bound">X</a> <a id="7541" class="Symbol">=</a> <a id="7543" href="Function.Related.html#11434" class="Function">Related.InducedPreorder₂</a> <a id="7568" href="Data.Container.html#7527" class="Bound">k</a> <a id="7570" class="Symbol">(</a><a id="7571" href="Data.Container.html#6777" class="Function Operator">_∈_</a> <a id="7575" class="Symbol">{</a><a id="7576" class="Argument">C</a> <a id="7578" class="Symbol">=</a> <a id="7580" href="Data.Container.html#7537" class="Bound">C</a><a id="7581" class="Symbol">}</a> <a id="7583" class="Symbol">{</a><a id="7584" class="Argument">X</a> <a id="7586" class="Symbol">=</a> <a id="7588" href="Data.Container.html#7539" class="Bound">X</a><a id="7589" class="Symbol">})</a>

<a id="7593" href="Data.Container.html#7593" class="Function Operator">[_]-Equality</a> <a id="7606" class="Symbol">:</a> <a id="7608" class="Symbol">∀</a> <a id="7610" class="Symbol">{</a><a id="7611" href="Data.Container.html#7611" class="Bound">ℓ</a><a id="7612" class="Symbol">}</a> <a id="7614" class="Symbol">→</a> <a id="7616" href="Function.Related.html#3339" class="Datatype">Symmetric-kind</a> <a id="7631" class="Symbol">→</a> <a id="7633" href="Data.Container.html#952" class="Record">Container</a> <a id="7643" href="Data.Container.html#7611" class="Bound">ℓ</a> <a id="7645" class="Symbol">→</a> <a id="7647" class="PrimitiveType">Set</a> <a id="7651" href="Data.Container.html#7611" class="Bound">ℓ</a> <a id="7653" class="Symbol">→</a> <a id="7655" href="Relation.Binary.html#1908" class="Record">Setoid</a> <a id="7662" href="Data.Container.html#7611" class="Bound">ℓ</a> <a id="7664" href="Data.Container.html#7611" class="Bound">ℓ</a>
<a id="7666" href="Data.Container.html#7593" class="Function Operator">[</a> <a id="7668" href="Data.Container.html#7668" class="Bound">k</a> <a id="7670" href="Data.Container.html#7593" class="Function Operator">]-Equality</a> <a id="7681" href="Data.Container.html#7681" class="Bound">C</a> <a id="7683" href="Data.Container.html#7683" class="Bound">X</a> <a id="7685" class="Symbol">=</a> <a id="7687" href="Function.Related.html#11977" class="Function">Related.InducedEquivalence₂</a> <a id="7715" href="Data.Container.html#7668" class="Bound">k</a> <a id="7717" class="Symbol">(</a><a id="7718" href="Data.Container.html#6777" class="Function Operator">_∈_</a> <a id="7722" class="Symbol">{</a><a id="7723" class="Argument">C</a> <a id="7725" class="Symbol">=</a> <a id="7727" href="Data.Container.html#7681" class="Bound">C</a><a id="7728" class="Symbol">}</a> <a id="7730" class="Symbol">{</a><a id="7731" class="Argument">X</a> <a id="7733" class="Symbol">=</a> <a id="7735" href="Data.Container.html#7683" class="Bound">X</a><a id="7736" class="Symbol">})</a>

<a id="7740" class="Keyword">infix</a> <a id="7746" class="Number">4</a> <a id="7748" href="Data.Container.html#7756" class="Function Operator">_∼[_]_</a>

<a id="7756" href="Data.Container.html#7756" class="Function Operator">_∼[_]_</a> <a id="7763" class="Symbol">:</a> <a id="7765" class="Symbol">∀</a> <a id="7767" class="Symbol">{</a><a id="7768" href="Data.Container.html#7768" class="Bound">c</a><a id="7769" class="Symbol">}</a> <a id="7771" class="Symbol">{</a><a id="7772" href="Data.Container.html#7772" class="Bound">C</a> <a id="7774" class="Symbol">:</a> <a id="7776" href="Data.Container.html#952" class="Record">Container</a> <a id="7786" href="Data.Container.html#7768" class="Bound">c</a><a id="7787" class="Symbol">}</a> <a id="7789" class="Symbol">{</a><a id="7790" href="Data.Container.html#7790" class="Bound">X</a> <a id="7792" class="Symbol">:</a> <a id="7794" class="PrimitiveType">Set</a> <a id="7798" href="Data.Container.html#7768" class="Bound">c</a><a id="7799" class="Symbol">}</a> <a id="7801" class="Symbol">→</a>
         <a id="7812" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="7814" href="Data.Container.html#7772" class="Bound">C</a> <a id="7816" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="7818" href="Data.Container.html#7790" class="Bound">X</a> <a id="7820" class="Symbol">→</a> <a id="7822" href="Function.Related.html#1613" class="Datatype">Kind</a> <a id="7827" class="Symbol">→</a> <a id="7829" href="Data.Container.html#1142" class="Function Operator">⟦</a> <a id="7831" href="Data.Container.html#7772" class="Bound">C</a> <a id="7833" href="Data.Container.html#1142" class="Function Operator">⟧</a> <a id="7835" href="Data.Container.html#7790" class="Bound">X</a> <a id="7837" class="Symbol">→</a> <a id="7839" class="PrimitiveType">Set</a> <a id="7843" href="Data.Container.html#7768" class="Bound">c</a>
<a id="7845" href="Data.Container.html#7756" class="Function Operator">_∼[_]_</a> <a id="7852" class="Symbol">{</a><a id="7853" class="Argument">C</a> <a id="7855" class="Symbol">=</a> <a id="7857" href="Data.Container.html#7857" class="Bound">C</a><a id="7858" class="Symbol">}</a> <a id="7860" class="Symbol">{</a><a id="7861" href="Data.Container.html#7861" class="Bound">X</a><a id="7862" class="Symbol">}</a> <a id="7864" href="Data.Container.html#7864" class="Bound">xs</a> <a id="7867" href="Data.Container.html#7867" class="Bound">k</a> <a id="7869" href="Data.Container.html#7869" class="Bound">ys</a> <a id="7872" class="Symbol">=</a> <a id="7874" href="Relation.Binary.html#1633" class="Field Operator">Preorder._∼_</a> <a id="7887" class="Symbol">(</a><a id="7888" href="Data.Container.html#7461" class="Function Operator">[</a> <a id="7890" href="Data.Container.html#7867" class="Bound">k</a> <a id="7892" href="Data.Container.html#7461" class="Function Operator">]-Order</a> <a id="7900" href="Data.Container.html#7857" class="Bound">C</a> <a id="7902" href="Data.Container.html#7861" class="Bound">X</a><a id="7903" class="Symbol">)</a> <a id="7905" href="Data.Container.html#7864" class="Bound">xs</a> <a id="7908" href="Data.Container.html#7869" class="Bound">ys</a>
</pre></body></html>