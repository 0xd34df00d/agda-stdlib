<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Product.Categorical</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Universe-sensitive functor and monad instances for the Product type.</a>
<a id="178" class="Comment">------------------------------------------------------------------------</a>

<a id="252" class="Keyword">module</a> <a id="259" href="Data.Product.Categorical.html" class="Module">Data.Product.Categorical</a> <a id="284" class="Keyword">where</a>

<a id="291" class="Keyword">open</a> <a id="296" class="Keyword">import</a> <a id="303" href="Level.html" class="Module">Level</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Data.Product.html" class="Module">Data.Product</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Algebra.html" class="Module">Algebra</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Category.Functor.html" class="Module">Category.Functor</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Category.Applicative.html" class="Module">Category.Applicative</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Category.Monad.html" class="Module">Category.Monad</a>
<a id="443" class="Keyword">import</a> <a id="450" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="480" class="Symbol">as</a> <a id="483" class="Module">Id</a>
<a id="486" class="Keyword">open</a> <a id="491" class="Keyword">import</a> <a id="498" href="Function.html" class="Module">Function</a>

<a id="508" class="Comment">-- To minimize the universe level of the RawFunctor, we require that elements of</a>
<a id="589" class="Comment">-- B are &quot;lifted&quot; to a copy of B at a higher universe level (a ⊔ b). See the</a>
<a id="666" class="Comment">-- examples for how this is done.</a>

<a id="701" class="Comment">------------------------------------------------------------------------</a>
<a id="774" class="Comment">-- Left-biased monad</a>

<a id="796" class="Keyword">module</a> <a id="Productₗ"></a><a id="803" href="Data.Product.Categorical.html#803" class="Module">Productₗ</a> <a id="812" class="Symbol">{</a><a id="813" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="815" href="Data.Product.Categorical.html#815" class="Bound">e</a><a id="816" class="Symbol">}</a> <a id="818" class="Symbol">(</a><a id="819" href="Data.Product.Categorical.html#819" class="Bound">A</a> <a id="821" class="Symbol">:</a> <a id="823" href="Algebra.html#1231" class="Record">RawMonoid</a> <a id="833" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="835" href="Data.Product.Categorical.html#815" class="Bound">e</a><a id="836" class="Symbol">)</a> <a id="838" class="Symbol">(</a><a id="839" href="Data.Product.Categorical.html#839" class="Bound">b</a> <a id="841" class="Symbol">:</a> <a id="843" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="848" class="Symbol">)</a> <a id="850" class="Keyword">where</a>

  <a id="859" class="Keyword">private</a> <a id="867" class="Keyword">module</a> <a id="A"></a><a id="874" href="Data.Product.Categorical.html#874" class="Module">A</a> <a id="876" class="Symbol">=</a> <a id="878" href="Algebra.html#1231" class="Module">RawMonoid</a> <a id="888" href="Data.Product.Categorical.html#819" class="Bound">A</a>

  <a id="Productₗ.Productₗ"></a><a id="893" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="902" class="Symbol">:</a> <a id="904" class="PrimitiveType">Set</a> <a id="908" class="Symbol">(</a><a id="909" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="911" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="913" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">→</a> <a id="918" class="PrimitiveType">Set</a> <a id="922" class="Symbol">(</a><a id="923" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="925" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="927" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="928" class="Symbol">)</a>
  <a id="932" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="941" href="Data.Product.Categorical.html#941" class="Bound">B</a> <a id="943" class="Symbol">=</a> <a id="945" href="Algebra.html#1313" class="Function">A.Carrier</a> <a id="955" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="957" href="Data.Product.Categorical.html#941" class="Bound">B</a>

  <a id="Productₗ.functor"></a><a id="962" href="Data.Product.Categorical.html#962" class="Function">functor</a> <a id="970" class="Symbol">:</a> <a id="972" href="Category.Functor.html#385" class="Record">RawFunctor</a> <a id="983" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a>
  <a id="994" href="Data.Product.Categorical.html#962" class="Function">functor</a> <a id="1002" class="Symbol">=</a> <a id="1004" class="Keyword">record</a> <a id="1011" class="Symbol">{</a> <a id="1013" class="Field Operator">_&lt;$&gt;_</a> <a id="1019" class="Symbol">=</a> <a id="1021" class="Symbol">λ</a> <a id="1023" href="Data.Product.Categorical.html#1023" class="Bound">f</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="Data.Product.html#2438" class="Function">map₂</a> <a id="1032" href="Data.Product.Categorical.html#1023" class="Bound">f</a> <a id="1034" class="Symbol">}</a>

  <a id="Productₗ.applicative"></a><a id="1039" href="Data.Product.Categorical.html#1039" class="Function">applicative</a> <a id="1051" class="Symbol">:</a> <a id="1053" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="1068" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a>
  <a id="1079" href="Data.Product.Categorical.html#1039" class="Function">applicative</a> <a id="1091" class="Symbol">=</a> <a id="1093" class="Keyword">record</a>
    <a id="1104" class="Symbol">{</a> <a id="1106" class="Field">pure</a> <a id="1111" class="Symbol">=</a> <a id="1113" href="Algebra.html#1387" class="Function">A.ε</a> <a id="1117" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a>
    <a id="1124" class="Symbol">;</a> <a id="1126" class="Field Operator">_⊛_</a>  <a id="1131" class="Symbol">=</a> <a id="1133" href="Data.Product.html#2563" class="Function">zip</a> <a id="1137" href="Algebra.html#1361" class="Function Operator">A._∙_</a> <a id="1143" href="Function.html#1068" class="Function">id</a>
    <a id="1150" class="Symbol">}</a>

  <a id="1155" class="Comment">-- The monad instance also requires some mucking about with universe levels.</a>
  <a id="Productₗ.monadT"></a><a id="1234" href="Data.Product.Categorical.html#1234" class="Function">monadT</a> <a id="1241" class="Symbol">:</a> <a id="1243" href="Category.Monad.html#447" class="Function">RawMonadT</a> <a id="1253" class="Symbol">(</a><a id="1254" href="Function.html#958" class="Function Operator">_∘′</a> <a id="1258" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a><a id="1266" class="Symbol">)</a>
  <a id="1270" href="Data.Product.Categorical.html#1234" class="Function">monadT</a> <a id="1277" href="Data.Product.Categorical.html#1277" class="Bound">M</a> <a id="1279" class="Symbol">=</a> <a id="1281" class="Keyword">record</a>
    <a id="1292" class="Symbol">{</a> <a id="1294" class="Field">return</a> <a id="1301" class="Symbol">=</a> <a id="1303" href="Category.Applicative.Indexed.html#747" class="Function">M.pure</a> <a id="1310" href="Function.html#958" class="Function Operator">∘′</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Algebra.html#1387" class="Function">A.ε</a> <a id="1318" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a><a id="1320" class="Symbol">)</a>
    <a id="1326" class="Symbol">;</a> <a id="1328" class="Field Operator">_&gt;&gt;=_</a>  <a id="1335" class="Symbol">=</a> <a id="1337" class="Symbol">λ</a> <a id="1339" href="Data.Product.Categorical.html#1339" class="Bound">ma</a> <a id="1342" href="Data.Product.Categorical.html#1342" class="Bound">f</a> <a id="1344" class="Symbol">→</a> <a id="1346" href="Data.Product.Categorical.html#1339" class="Bound">ma</a> <a id="1349" href="Category.Monad.Indexed.html#568" class="Field Operator">M.&gt;&gt;=</a> <a id="1355" href="Data.Product.html#3464" class="Function">uncurry</a> <a id="1363" class="Symbol">λ</a> <a id="1365" href="Data.Product.Categorical.html#1365" class="Bound">a</a> <a id="1367" href="Data.Product.Categorical.html#1367" class="Bound">x</a> <a id="1369" class="Symbol">→</a> <a id="1371" href="Data.Product.html#2333" class="Function">map₁</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Data.Product.Categorical.html#1365" class="Bound">a</a> <a id="1379" href="Algebra.html#1361" class="Function Operator">A.∙_</a><a id="1383" class="Symbol">)</a> <a id="1385" href="Category.Functor.html#475" class="Function Operator">M.&lt;$&gt;</a> <a id="1391" href="Data.Product.Categorical.html#1342" class="Bound">f</a> <a id="1393" href="Data.Product.Categorical.html#1367" class="Bound">x</a>
    <a id="1399" class="Symbol">}</a> <a id="1401" class="Keyword">where</a> <a id="1407" class="Keyword">module</a> <a id="M"></a><a id="1414" href="Data.Product.Categorical.html#1414" class="Module">M</a> <a id="1416" class="Symbol">=</a> <a id="1418" href="Category.Monad.html#774" class="Module">RawMonad</a> <a id="1427" href="Data.Product.Categorical.html#1277" class="Bound">M</a>

  <a id="Productₗ.monad"></a><a id="1432" href="Data.Product.Categorical.html#1432" class="Function">monad</a> <a id="1438" class="Symbol">:</a> <a id="1440" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="1449" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a>
  <a id="1460" href="Data.Product.Categorical.html#1432" class="Function">monad</a> <a id="1466" class="Symbol">=</a> <a id="1468" href="Data.Product.Categorical.html#1234" class="Function">monadT</a> <a id="1475" href="Function.Identity.Categorical.html#615" class="Function">Id.monad</a>

<a id="1485" class="Comment">------------------------------------------------------------------------</a>
<a id="1558" class="Comment">-- Get access to other monadic functions</a>

  <a id="1602" class="Keyword">module</a> <a id="1609" href="Data.Product.Categorical.html#1609" class="Module">_</a> <a id="1611" class="Symbol">{</a><a id="1612" href="Data.Product.Categorical.html#1612" class="Bound">F</a><a id="1613" class="Symbol">}</a> <a id="1615" class="Symbol">(</a><a id="1616" href="Data.Product.Categorical.html#1616" class="Bound">App</a> <a id="1620" class="Symbol">:</a> <a id="1622" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="1637" class="Symbol">{</a><a id="1638" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="1640" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1642" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="1643" class="Symbol">}</a> <a id="1645" href="Data.Product.Categorical.html#1612" class="Bound">F</a><a id="1646" class="Symbol">)</a> <a id="1648" class="Keyword">where</a>

    <a id="1659" class="Keyword">open</a> <a id="1664" href="Category.Applicative.html#494" class="Module">RawApplicative</a> <a id="1679" href="Data.Product.Categorical.html#1616" class="Bound">App</a>

    <a id="1688" href="Data.Product.Categorical.html#1688" class="Function">sequenceA</a> <a id="1698" class="Symbol">:</a> <a id="1700" class="Symbol">∀</a> <a id="1702" class="Symbol">{</a><a id="1703" href="Data.Product.Categorical.html#1703" class="Bound">A</a><a id="1704" class="Symbol">}</a> <a id="1706" class="Symbol">→</a> <a id="1708" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Data.Product.Categorical.html#1612" class="Bound">F</a> <a id="1720" href="Data.Product.Categorical.html#1703" class="Bound">A</a><a id="1721" class="Symbol">)</a> <a id="1723" class="Symbol">→</a> <a id="1725" href="Data.Product.Categorical.html#1612" class="Bound">F</a> <a id="1727" class="Symbol">(</a><a id="1728" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1737" href="Data.Product.Categorical.html#1703" class="Bound">A</a><a id="1738" class="Symbol">)</a>
    <a id="1744" href="Data.Product.Categorical.html#1688" class="Function">sequenceA</a> <a id="1754" class="Symbol">(</a><a id="1755" href="Data.Product.Categorical.html#1755" class="Bound">x</a> <a id="1757" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1759" href="Data.Product.Categorical.html#1759" class="Bound">fa</a><a id="1761" class="Symbol">)</a> <a id="1763" class="Symbol">=</a> <a id="1765" class="Symbol">(</a><a id="1766" href="Data.Product.Categorical.html#1755" class="Bound">x</a> <a id="1768" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a><a id="1770" class="Symbol">)</a> <a id="1772" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="1776" href="Data.Product.Categorical.html#1759" class="Bound">fa</a>

    <a id="1784" href="Data.Product.Categorical.html#1784" class="Function">mapA</a> <a id="1789" class="Symbol">:</a> <a id="1791" class="Symbol">∀</a> <a id="1793" class="Symbol">{</a><a id="1794" href="Data.Product.Categorical.html#1794" class="Bound">A</a> <a id="1796" href="Data.Product.Categorical.html#1796" class="Bound">B</a><a id="1797" class="Symbol">}</a> <a id="1799" class="Symbol">→</a> <a id="1801" class="Symbol">(</a><a id="1802" href="Data.Product.Categorical.html#1794" class="Bound">A</a> <a id="1804" class="Symbol">→</a> <a id="1806" href="Data.Product.Categorical.html#1612" class="Bound">F</a> <a id="1808" href="Data.Product.Categorical.html#1796" class="Bound">B</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">→</a> <a id="1813" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1822" href="Data.Product.Categorical.html#1794" class="Bound">A</a> <a id="1824" class="Symbol">→</a> <a id="1826" href="Data.Product.Categorical.html#1612" class="Bound">F</a> <a id="1828" class="Symbol">(</a><a id="1829" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1838" href="Data.Product.Categorical.html#1796" class="Bound">B</a><a id="1839" class="Symbol">)</a>
    <a id="1845" href="Data.Product.Categorical.html#1784" class="Function">mapA</a> <a id="1850" href="Data.Product.Categorical.html#1850" class="Bound">f</a> <a id="1852" class="Symbol">=</a> <a id="1854" href="Data.Product.Categorical.html#1688" class="Function">sequenceA</a> <a id="1864" href="Function.html#769" class="Function Operator">∘</a> <a id="1866" href="Data.Product.html#2438" class="Function">map₂</a> <a id="1871" href="Data.Product.Categorical.html#1850" class="Bound">f</a>

    <a id="1878" href="Data.Product.Categorical.html#1878" class="Function">forA</a> <a id="1883" class="Symbol">:</a> <a id="1885" class="Symbol">∀</a> <a id="1887" class="Symbol">{</a><a id="1888" href="Data.Product.Categorical.html#1888" class="Bound">A</a> <a id="1890" href="Data.Product.Categorical.html#1890" class="Bound">B</a><a id="1891" class="Symbol">}</a> <a id="1893" class="Symbol">→</a> <a id="1895" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1904" href="Data.Product.Categorical.html#1888" class="Bound">A</a> <a id="1906" class="Symbol">→</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Data.Product.Categorical.html#1888" class="Bound">A</a> <a id="1911" class="Symbol">→</a> <a id="1913" href="Data.Product.Categorical.html#1612" class="Bound">F</a> <a id="1915" href="Data.Product.Categorical.html#1890" class="Bound">B</a><a id="1916" class="Symbol">)</a> <a id="1918" class="Symbol">→</a> <a id="1920" href="Data.Product.Categorical.html#1612" class="Bound">F</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1932" href="Data.Product.Categorical.html#1890" class="Bound">B</a><a id="1933" class="Symbol">)</a>
    <a id="1939" href="Data.Product.Categorical.html#1878" class="Function">forA</a> <a id="1944" class="Symbol">=</a> <a id="1946" href="Function.html#1536" class="Function">flip</a> <a id="1951" href="Data.Product.Categorical.html#1784" class="Function">mapA</a>

  <a id="1959" class="Keyword">module</a> <a id="1966" href="Data.Product.Categorical.html#1966" class="Module">_</a> <a id="1968" class="Symbol">{</a><a id="1969" href="Data.Product.Categorical.html#1969" class="Bound">M</a><a id="1970" class="Symbol">}</a> <a id="1972" class="Symbol">(</a><a id="1973" href="Data.Product.Categorical.html#1973" class="Bound">Mon</a> <a id="1977" class="Symbol">:</a> <a id="1979" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="1988" class="Symbol">{</a><a id="1989" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="1991" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1993" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="1994" class="Symbol">}</a> <a id="1996" href="Data.Product.Categorical.html#1969" class="Bound">M</a><a id="1997" class="Symbol">)</a> <a id="1999" class="Keyword">where</a>

    <a id="2010" class="Keyword">private</a> <a id="2018" href="Data.Product.Categorical.html#2018" class="Function">App</a> <a id="2022" class="Symbol">=</a> <a id="2024" href="Category.Monad.Indexed.html#1104" class="Function">RawMonad.rawIApplicative</a> <a id="2049" href="Data.Product.Categorical.html#1973" class="Bound">Mon</a>

    <a id="2058" href="Data.Product.Categorical.html#2058" class="Function">sequenceM</a> <a id="2068" class="Symbol">:</a> <a id="2070" class="Symbol">∀</a> <a id="2072" class="Symbol">{</a><a id="2073" href="Data.Product.Categorical.html#2073" class="Bound">A</a><a id="2074" class="Symbol">}</a> <a id="2076" class="Symbol">→</a> <a id="2078" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2087" class="Symbol">(</a><a id="2088" href="Data.Product.Categorical.html#1969" class="Bound">M</a> <a id="2090" href="Data.Product.Categorical.html#2073" class="Bound">A</a><a id="2091" class="Symbol">)</a> <a id="2093" class="Symbol">→</a> <a id="2095" href="Data.Product.Categorical.html#1969" class="Bound">M</a> <a id="2097" class="Symbol">(</a><a id="2098" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2107" href="Data.Product.Categorical.html#2073" class="Bound">A</a><a id="2108" class="Symbol">)</a>
    <a id="2114" href="Data.Product.Categorical.html#2058" class="Function">sequenceM</a> <a id="2124" class="Symbol">=</a> <a id="2126" href="Data.Product.Categorical.html#1688" class="Function">sequenceA</a> <a id="2136" href="Data.Product.Categorical.html#2018" class="Function">App</a>

    <a id="2145" href="Data.Product.Categorical.html#2145" class="Function">mapM</a> <a id="2150" class="Symbol">:</a> <a id="2152" class="Symbol">∀</a> <a id="2154" class="Symbol">{</a><a id="2155" href="Data.Product.Categorical.html#2155" class="Bound">A</a> <a id="2157" href="Data.Product.Categorical.html#2157" class="Bound">B</a><a id="2158" class="Symbol">}</a> <a id="2160" class="Symbol">→</a> <a id="2162" class="Symbol">(</a><a id="2163" href="Data.Product.Categorical.html#2155" class="Bound">A</a> <a id="2165" class="Symbol">→</a> <a id="2167" href="Data.Product.Categorical.html#1969" class="Bound">M</a> <a id="2169" href="Data.Product.Categorical.html#2157" class="Bound">B</a><a id="2170" class="Symbol">)</a> <a id="2172" class="Symbol">→</a> <a id="2174" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2183" href="Data.Product.Categorical.html#2155" class="Bound">A</a> <a id="2185" class="Symbol">→</a> <a id="2187" href="Data.Product.Categorical.html#1969" class="Bound">M</a> <a id="2189" class="Symbol">(</a><a id="2190" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2199" href="Data.Product.Categorical.html#2157" class="Bound">B</a><a id="2200" class="Symbol">)</a>
    <a id="2206" href="Data.Product.Categorical.html#2145" class="Function">mapM</a> <a id="2211" class="Symbol">=</a> <a id="2213" href="Data.Product.Categorical.html#1784" class="Function">mapA</a> <a id="2218" href="Data.Product.Categorical.html#2018" class="Function">App</a>

    <a id="2227" href="Data.Product.Categorical.html#2227" class="Function">forM</a> <a id="2232" class="Symbol">:</a> <a id="2234" class="Symbol">∀</a> <a id="2236" class="Symbol">{</a><a id="2237" href="Data.Product.Categorical.html#2237" class="Bound">A</a> <a id="2239" href="Data.Product.Categorical.html#2239" class="Bound">B</a><a id="2240" class="Symbol">}</a> <a id="2242" class="Symbol">→</a> <a id="2244" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2253" href="Data.Product.Categorical.html#2237" class="Bound">A</a> <a id="2255" class="Symbol">→</a> <a id="2257" class="Symbol">(</a><a id="2258" href="Data.Product.Categorical.html#2237" class="Bound">A</a> <a id="2260" class="Symbol">→</a> <a id="2262" href="Data.Product.Categorical.html#1969" class="Bound">M</a> <a id="2264" href="Data.Product.Categorical.html#2239" class="Bound">B</a><a id="2265" class="Symbol">)</a> <a id="2267" class="Symbol">→</a> <a id="2269" href="Data.Product.Categorical.html#1969" class="Bound">M</a> <a id="2271" class="Symbol">(</a><a id="2272" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2281" href="Data.Product.Categorical.html#2239" class="Bound">B</a><a id="2282" class="Symbol">)</a>
    <a id="2288" href="Data.Product.Categorical.html#2227" class="Function">forM</a> <a id="2293" class="Symbol">=</a> <a id="2295" href="Data.Product.Categorical.html#1878" class="Function">forA</a> <a id="2300" href="Data.Product.Categorical.html#2018" class="Function">App</a>

<a id="2305" class="Comment">------------------------------------------------------------------------</a>
<a id="2378" class="Comment">-- Right-biased monad</a>

<a id="2401" class="Keyword">module</a> <a id="Productᵣ"></a><a id="2408" href="Data.Product.Categorical.html#2408" class="Module">Productᵣ</a> <a id="2417" class="Symbol">(</a><a id="2418" href="Data.Product.Categorical.html#2418" class="Bound">a</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="2427" class="Symbol">)</a> <a id="2429" class="Symbol">{</a><a id="2430" href="Data.Product.Categorical.html#2430" class="Bound">b</a> <a id="2432" href="Data.Product.Categorical.html#2432" class="Bound">e</a><a id="2433" class="Symbol">}</a> <a id="2435" class="Symbol">(</a><a id="2436" href="Data.Product.Categorical.html#2436" class="Bound">B</a> <a id="2438" class="Symbol">:</a> <a id="2440" href="Algebra.html#1231" class="Record">RawMonoid</a> <a id="2450" href="Data.Product.Categorical.html#2430" class="Bound">b</a> <a id="2452" href="Data.Product.Categorical.html#2432" class="Bound">e</a><a id="2453" class="Symbol">)</a> <a id="2455" class="Keyword">where</a>

  <a id="2464" class="Keyword">private</a> <a id="2472" class="Keyword">module</a> <a id="B"></a><a id="2479" href="Data.Product.Categorical.html#2479" class="Module">B</a> <a id="2481" class="Symbol">=</a> <a id="2483" href="Algebra.html#1231" class="Module">RawMonoid</a> <a id="2493" href="Data.Product.Categorical.html#2436" class="Bound">B</a>

  <a id="Productᵣ.Productᵣ"></a><a id="2498" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="2507" class="Symbol">:</a> <a id="2509" class="PrimitiveType">Set</a> <a id="2513" class="Symbol">(</a><a id="2514" href="Data.Product.Categorical.html#2418" class="Bound">a</a> <a id="2516" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2518" href="Data.Product.Categorical.html#2430" class="Bound">b</a><a id="2519" class="Symbol">)</a> <a id="2521" class="Symbol">→</a> <a id="2523" class="PrimitiveType">Set</a> <a id="2527" class="Symbol">(</a><a id="2528" href="Data.Product.Categorical.html#2418" class="Bound">a</a> <a id="2530" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2532" href="Data.Product.Categorical.html#2430" class="Bound">b</a><a id="2533" class="Symbol">)</a>
  <a id="2537" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="2546" href="Data.Product.Categorical.html#2546" class="Bound">A</a> <a id="2548" class="Symbol">=</a> <a id="2550" href="Data.Product.Categorical.html#2546" class="Bound">A</a> <a id="2552" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="2554" href="Algebra.html#1313" class="Field">B.Carrier</a>

  <a id="Productᵣ.functor"></a><a id="2567" href="Data.Product.Categorical.html#2567" class="Function">functor</a> <a id="2575" class="Symbol">:</a> <a id="2577" href="Category.Functor.html#385" class="Record">RawFunctor</a> <a id="2588" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a>
  <a id="2599" href="Data.Product.Categorical.html#2567" class="Function">functor</a> <a id="2607" class="Symbol">=</a> <a id="2609" class="Keyword">record</a> <a id="2616" class="Symbol">{</a> <a id="2618" class="Field Operator">_&lt;$&gt;_</a> <a id="2624" class="Symbol">=</a> <a id="2626" href="Data.Product.html#2333" class="Function">map₁</a> <a id="2631" class="Symbol">}</a>

  <a id="Productᵣ.applicative"></a><a id="2636" href="Data.Product.Categorical.html#2636" class="Function">applicative</a> <a id="2648" class="Symbol">:</a> <a id="2650" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="2665" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a>
  <a id="2676" href="Data.Product.Categorical.html#2636" class="Function">applicative</a> <a id="2688" class="Symbol">=</a> <a id="2690" class="Keyword">record</a>
    <a id="2701" class="Symbol">{</a> <a id="2703" class="Field">pure</a> <a id="2708" class="Symbol">=</a> <a id="2710" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,</a> <a id="2713" href="Algebra.html#1387" class="Field">B.ε</a>
    <a id="2721" class="Symbol">;</a> <a id="2723" class="Field Operator">_⊛_</a>  <a id="2728" class="Symbol">=</a> <a id="2730" href="Data.Product.html#2563" class="Function">zip</a> <a id="2734" href="Function.html#1068" class="Function">id</a> <a id="2737" href="Algebra.html#1361" class="Field Operator">B._∙_</a>
    <a id="2747" class="Symbol">}</a>

  <a id="Productᵣ.monadT"></a><a id="2752" href="Data.Product.Categorical.html#2752" class="Function">monadT</a> <a id="2759" class="Symbol">:</a> <a id="2761" href="Category.Monad.html#447" class="Function">RawMonadT</a> <a id="2771" class="Symbol">(</a><a id="2772" href="Function.html#958" class="Function Operator">_∘′</a> <a id="2776" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a><a id="2784" class="Symbol">)</a>
  <a id="2788" href="Data.Product.Categorical.html#2752" class="Function">monadT</a> <a id="2795" href="Data.Product.Categorical.html#2795" class="Bound">M</a> <a id="2797" class="Symbol">=</a> <a id="2799" class="Keyword">record</a>
    <a id="2810" class="Symbol">{</a> <a id="2812" class="Field">return</a> <a id="2819" class="Symbol">=</a> <a id="2821" href="Category.Applicative.Indexed.html#747" class="Function">M.pure</a> <a id="2828" href="Function.html#958" class="Function Operator">∘′</a> <a id="2831" class="Symbol">(</a><a id="2832" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,</a> <a id="2835" href="Algebra.html#1387" class="Field">B.ε</a><a id="2838" class="Symbol">)</a>
    <a id="2844" class="Symbol">;</a> <a id="2846" class="Field Operator">_&gt;&gt;=_</a>  <a id="2853" class="Symbol">=</a> <a id="2855" class="Symbol">λ</a> <a id="2857" href="Data.Product.Categorical.html#2857" class="Bound">ma</a> <a id="2860" href="Data.Product.Categorical.html#2860" class="Bound">f</a> <a id="2862" class="Symbol">→</a> <a id="2864" href="Data.Product.Categorical.html#2857" class="Bound">ma</a> <a id="2867" href="Category.Monad.Indexed.html#568" class="Field Operator">M.&gt;&gt;=</a> <a id="2873" href="Data.Product.html#3464" class="Function">uncurry</a> <a id="2881" class="Symbol">λ</a> <a id="2883" href="Data.Product.Categorical.html#2883" class="Bound">x</a> <a id="2885" href="Data.Product.Categorical.html#2885" class="Bound">b</a> <a id="2887" class="Symbol">→</a> <a id="2889" href="Data.Product.html#2438" class="Function">map₂</a> <a id="2894" class="Symbol">(</a><a id="2895" href="Data.Product.Categorical.html#2885" class="Bound">b</a> <a id="2897" href="Algebra.html#1361" class="Field Operator">B.∙_</a><a id="2901" class="Symbol">)</a> <a id="2903" href="Category.Functor.html#475" class="Function Operator">M.&lt;$&gt;</a> <a id="2909" href="Data.Product.Categorical.html#2860" class="Bound">f</a> <a id="2911" href="Data.Product.Categorical.html#2883" class="Bound">x</a>
    <a id="2917" class="Symbol">}</a> <a id="2919" class="Keyword">where</a> <a id="2925" class="Keyword">module</a> <a id="M"></a><a id="2932" href="Data.Product.Categorical.html#2932" class="Module">M</a> <a id="2934" class="Symbol">=</a> <a id="2936" href="Category.Monad.html#774" class="Module">RawMonad</a> <a id="2945" href="Data.Product.Categorical.html#2795" class="Bound">M</a>

  <a id="Productᵣ.monad"></a><a id="2950" href="Data.Product.Categorical.html#2950" class="Function">monad</a> <a id="2956" class="Symbol">:</a> <a id="2958" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="2967" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a>
  <a id="2978" href="Data.Product.Categorical.html#2950" class="Function">monad</a> <a id="2984" class="Symbol">=</a> <a id="2986" href="Data.Product.Categorical.html#2752" class="Function">monadT</a> <a id="2993" href="Function.Identity.Categorical.html#615" class="Function">Id.monad</a>

<a id="3003" class="Comment">------------------------------------------------------------------------</a>
<a id="3076" class="Comment">-- Get access to other monadic functions</a>

  <a id="3120" class="Keyword">module</a> <a id="3127" href="Data.Product.Categorical.html#3127" class="Module">_</a> <a id="3129" class="Symbol">{</a><a id="3130" href="Data.Product.Categorical.html#3130" class="Bound">F</a><a id="3131" class="Symbol">}</a> <a id="3133" class="Symbol">(</a><a id="3134" href="Data.Product.Categorical.html#3134" class="Bound">App</a> <a id="3138" class="Symbol">:</a> <a id="3140" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="3155" class="Symbol">{</a><a id="3156" href="Data.Product.Categorical.html#2418" class="Bound">a</a> <a id="3158" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="3160" href="Data.Product.Categorical.html#2430" class="Bound">b</a><a id="3161" class="Symbol">}</a> <a id="3163" href="Data.Product.Categorical.html#3130" class="Bound">F</a><a id="3164" class="Symbol">)</a> <a id="3166" class="Keyword">where</a>

    <a id="3177" class="Keyword">open</a> <a id="3182" href="Category.Applicative.html#494" class="Module">RawApplicative</a> <a id="3197" href="Data.Product.Categorical.html#3134" class="Bound">App</a>

    <a id="3206" href="Data.Product.Categorical.html#3206" class="Function">sequenceA</a> <a id="3216" class="Symbol">:</a> <a id="3218" class="Symbol">∀</a> <a id="3220" class="Symbol">{</a><a id="3221" href="Data.Product.Categorical.html#3221" class="Bound">A</a><a id="3222" class="Symbol">}</a> <a id="3224" class="Symbol">→</a> <a id="3226" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3235" class="Symbol">(</a><a id="3236" href="Data.Product.Categorical.html#3130" class="Bound">F</a> <a id="3238" href="Data.Product.Categorical.html#3221" class="Bound">A</a><a id="3239" class="Symbol">)</a> <a id="3241" class="Symbol">→</a> <a id="3243" href="Data.Product.Categorical.html#3130" class="Bound">F</a> <a id="3245" class="Symbol">(</a><a id="3246" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3255" href="Data.Product.Categorical.html#3221" class="Bound">A</a><a id="3256" class="Symbol">)</a>
    <a id="3262" href="Data.Product.Categorical.html#3206" class="Function">sequenceA</a> <a id="3272" class="Symbol">(</a><a id="3273" href="Data.Product.Categorical.html#3273" class="Bound">fa</a> <a id="3276" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3278" href="Data.Product.Categorical.html#3278" class="Bound">y</a><a id="3279" class="Symbol">)</a> <a id="3281" class="Symbol">=</a> <a id="3283" class="Symbol">(</a><a id="3284" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,</a> <a id="3287" href="Data.Product.Categorical.html#3278" class="Bound">y</a><a id="3288" class="Symbol">)</a> <a id="3290" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="3294" href="Data.Product.Categorical.html#3273" class="Bound">fa</a>

    <a id="3302" href="Data.Product.Categorical.html#3302" class="Function">mapA</a> <a id="3307" class="Symbol">:</a> <a id="3309" class="Symbol">∀</a> <a id="3311" class="Symbol">{</a><a id="3312" href="Data.Product.Categorical.html#3312" class="Bound">A</a> <a id="3314" href="Data.Product.Categorical.html#3314" class="Bound">B</a><a id="3315" class="Symbol">}</a> <a id="3317" class="Symbol">→</a> <a id="3319" class="Symbol">(</a><a id="3320" href="Data.Product.Categorical.html#3312" class="Bound">A</a> <a id="3322" class="Symbol">→</a> <a id="3324" href="Data.Product.Categorical.html#3130" class="Bound">F</a> <a id="3326" href="Data.Product.Categorical.html#3314" class="Bound">B</a><a id="3327" class="Symbol">)</a> <a id="3329" class="Symbol">→</a> <a id="3331" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3340" href="Data.Product.Categorical.html#3312" class="Bound">A</a> <a id="3342" class="Symbol">→</a> <a id="3344" href="Data.Product.Categorical.html#3130" class="Bound">F</a> <a id="3346" class="Symbol">(</a><a id="3347" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3356" href="Data.Product.Categorical.html#3314" class="Bound">B</a><a id="3357" class="Symbol">)</a>
    <a id="3363" href="Data.Product.Categorical.html#3302" class="Function">mapA</a> <a id="3368" href="Data.Product.Categorical.html#3368" class="Bound">f</a> <a id="3370" class="Symbol">=</a> <a id="3372" href="Data.Product.Categorical.html#3206" class="Function">sequenceA</a> <a id="3382" href="Function.html#769" class="Function Operator">∘</a> <a id="3384" href="Data.Product.html#2333" class="Function">map₁</a> <a id="3389" href="Data.Product.Categorical.html#3368" class="Bound">f</a>

    <a id="3396" href="Data.Product.Categorical.html#3396" class="Function">forA</a> <a id="3401" class="Symbol">:</a> <a id="3403" class="Symbol">∀</a> <a id="3405" class="Symbol">{</a><a id="3406" href="Data.Product.Categorical.html#3406" class="Bound">A</a> <a id="3408" href="Data.Product.Categorical.html#3408" class="Bound">B</a><a id="3409" class="Symbol">}</a> <a id="3411" class="Symbol">→</a> <a id="3413" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3422" href="Data.Product.Categorical.html#3406" class="Bound">A</a> <a id="3424" class="Symbol">→</a> <a id="3426" class="Symbol">(</a><a id="3427" href="Data.Product.Categorical.html#3406" class="Bound">A</a> <a id="3429" class="Symbol">→</a> <a id="3431" href="Data.Product.Categorical.html#3130" class="Bound">F</a> <a id="3433" href="Data.Product.Categorical.html#3408" class="Bound">B</a><a id="3434" class="Symbol">)</a> <a id="3436" class="Symbol">→</a> <a id="3438" href="Data.Product.Categorical.html#3130" class="Bound">F</a> <a id="3440" class="Symbol">(</a><a id="3441" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3450" href="Data.Product.Categorical.html#3408" class="Bound">B</a><a id="3451" class="Symbol">)</a>
    <a id="3457" href="Data.Product.Categorical.html#3396" class="Function">forA</a> <a id="3462" class="Symbol">=</a> <a id="3464" href="Function.html#1536" class="Function">flip</a> <a id="3469" href="Data.Product.Categorical.html#3302" class="Function">mapA</a>

  <a id="3477" class="Keyword">module</a> <a id="3484" href="Data.Product.Categorical.html#3484" class="Module">_</a> <a id="3486" class="Symbol">{</a><a id="3487" href="Data.Product.Categorical.html#3487" class="Bound">M</a><a id="3488" class="Symbol">}</a> <a id="3490" class="Symbol">(</a><a id="3491" href="Data.Product.Categorical.html#3491" class="Bound">Mon</a> <a id="3495" class="Symbol">:</a> <a id="3497" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="3506" class="Symbol">{</a><a id="3507" href="Data.Product.Categorical.html#2418" class="Bound">a</a> <a id="3509" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="3511" href="Data.Product.Categorical.html#2430" class="Bound">b</a><a id="3512" class="Symbol">}</a> <a id="3514" href="Data.Product.Categorical.html#3487" class="Bound">M</a><a id="3515" class="Symbol">)</a> <a id="3517" class="Keyword">where</a>

    <a id="3528" class="Keyword">private</a> <a id="3536" href="Data.Product.Categorical.html#3536" class="Function">App</a> <a id="3540" class="Symbol">=</a> <a id="3542" href="Category.Monad.Indexed.html#1104" class="Function">RawMonad.rawIApplicative</a> <a id="3567" href="Data.Product.Categorical.html#3491" class="Bound">Mon</a>

    <a id="3576" href="Data.Product.Categorical.html#3576" class="Function">sequenceM</a> <a id="3586" class="Symbol">:</a> <a id="3588" class="Symbol">∀</a> <a id="3590" class="Symbol">{</a><a id="3591" href="Data.Product.Categorical.html#3591" class="Bound">A</a><a id="3592" class="Symbol">}</a> <a id="3594" class="Symbol">→</a> <a id="3596" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3605" class="Symbol">(</a><a id="3606" href="Data.Product.Categorical.html#3487" class="Bound">M</a> <a id="3608" href="Data.Product.Categorical.html#3591" class="Bound">A</a><a id="3609" class="Symbol">)</a> <a id="3611" class="Symbol">→</a> <a id="3613" href="Data.Product.Categorical.html#3487" class="Bound">M</a> <a id="3615" class="Symbol">(</a><a id="3616" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3625" href="Data.Product.Categorical.html#3591" class="Bound">A</a><a id="3626" class="Symbol">)</a>
    <a id="3632" href="Data.Product.Categorical.html#3576" class="Function">sequenceM</a> <a id="3642" class="Symbol">=</a> <a id="3644" href="Data.Product.Categorical.html#3206" class="Function">sequenceA</a> <a id="3654" href="Data.Product.Categorical.html#3536" class="Function">App</a>

    <a id="3663" href="Data.Product.Categorical.html#3663" class="Function">mapM</a> <a id="3668" class="Symbol">:</a> <a id="3670" class="Symbol">∀</a> <a id="3672" class="Symbol">{</a><a id="3673" href="Data.Product.Categorical.html#3673" class="Bound">A</a> <a id="3675" href="Data.Product.Categorical.html#3675" class="Bound">B</a><a id="3676" class="Symbol">}</a> <a id="3678" class="Symbol">→</a> <a id="3680" class="Symbol">(</a><a id="3681" href="Data.Product.Categorical.html#3673" class="Bound">A</a> <a id="3683" class="Symbol">→</a> <a id="3685" href="Data.Product.Categorical.html#3487" class="Bound">M</a> <a id="3687" href="Data.Product.Categorical.html#3675" class="Bound">B</a><a id="3688" class="Symbol">)</a> <a id="3690" class="Symbol">→</a> <a id="3692" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3701" href="Data.Product.Categorical.html#3673" class="Bound">A</a> <a id="3703" class="Symbol">→</a> <a id="3705" href="Data.Product.Categorical.html#3487" class="Bound">M</a> <a id="3707" class="Symbol">(</a><a id="3708" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3717" href="Data.Product.Categorical.html#3675" class="Bound">B</a><a id="3718" class="Symbol">)</a>
    <a id="3724" href="Data.Product.Categorical.html#3663" class="Function">mapM</a> <a id="3729" class="Symbol">=</a> <a id="3731" href="Data.Product.Categorical.html#3302" class="Function">mapA</a> <a id="3736" href="Data.Product.Categorical.html#3536" class="Function">App</a>

    <a id="3745" href="Data.Product.Categorical.html#3745" class="Function">forM</a> <a id="3750" class="Symbol">:</a> <a id="3752" class="Symbol">∀</a> <a id="3754" class="Symbol">{</a><a id="3755" href="Data.Product.Categorical.html#3755" class="Bound">A</a> <a id="3757" href="Data.Product.Categorical.html#3757" class="Bound">B</a><a id="3758" class="Symbol">}</a> <a id="3760" class="Symbol">→</a> <a id="3762" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3771" href="Data.Product.Categorical.html#3755" class="Bound">A</a> <a id="3773" class="Symbol">→</a> <a id="3775" class="Symbol">(</a><a id="3776" href="Data.Product.Categorical.html#3755" class="Bound">A</a> <a id="3778" class="Symbol">→</a> <a id="3780" href="Data.Product.Categorical.html#3487" class="Bound">M</a> <a id="3782" href="Data.Product.Categorical.html#3757" class="Bound">B</a><a id="3783" class="Symbol">)</a> <a id="3785" class="Symbol">→</a> <a id="3787" href="Data.Product.Categorical.html#3487" class="Bound">M</a> <a id="3789" class="Symbol">(</a><a id="3790" href="Data.Product.Categorical.html#2498" class="Function">Productᵣ</a> <a id="3799" href="Data.Product.Categorical.html#3757" class="Bound">B</a><a id="3800" class="Symbol">)</a>
    <a id="3806" href="Data.Product.Categorical.html#3745" class="Function">forM</a> <a id="3811" class="Symbol">=</a> <a id="3813" href="Data.Product.Categorical.html#3396" class="Function">forA</a> <a id="3818" href="Data.Product.Categorical.html#3536" class="Function">App</a>

<a id="3823" class="Comment">------------------------------------------------------------------------</a>
<a id="3896" class="Comment">-- Examples</a>

<a id="3909" class="Comment">-- Note that these examples are simple unit tests, because the type</a>
<a id="3977" class="Comment">-- checker verifies them.</a>

<a id="4004" class="Keyword">private</a>
  <a id="4014" class="Keyword">module</a> <a id="Examplesₗ"></a><a id="4021" href="Data.Product.Categorical.html#4021" class="Module">Examplesₗ</a> <a id="4031" class="Symbol">{</a><a id="4032" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="4034" href="Data.Product.Categorical.html#4034" class="Bound">e</a> <a id="4036" href="Data.Product.Categorical.html#4036" class="Bound">b</a><a id="4037" class="Symbol">}</a> <a id="4039" class="Symbol">{</a><a id="4040" href="Data.Product.Categorical.html#4040" class="Bound">A</a> <a id="4042" class="Symbol">:</a> <a id="4044" href="Algebra.html#1413" class="Record">Monoid</a> <a id="4051" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="4053" href="Data.Product.Categorical.html#4034" class="Bound">e</a><a id="4054" class="Symbol">}</a> <a id="4056" class="Symbol">{</a><a id="4057" href="Data.Product.Categorical.html#4057" class="Bound">B</a> <a id="4059" class="Symbol">:</a> <a id="4061" class="PrimitiveType">Set</a> <a id="4065" href="Data.Product.Categorical.html#4036" class="Bound">b</a><a id="4066" class="Symbol">}</a> <a id="4068" class="Keyword">where</a>

    <a id="4079" class="Keyword">open</a> <a id="4084" class="Keyword">import</a> <a id="4091" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>
    <a id="4117" class="Keyword">open</a> <a id="4122" class="Keyword">import</a> <a id="4129" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a>
    <a id="4154" class="Keyword">open</a> <a id="4159" class="Keyword">import</a> <a id="4166" href="Data.Product.Relation.Pointwise.NonDependent.html" class="Module">Data.Product.Relation.Pointwise.NonDependent</a>
    <a id="4215" class="Keyword">open</a> <a id="4220" class="Keyword">import</a> <a id="4227" href="Function.html" class="Module">Function</a>
    <a id="4240" class="Keyword">module</a> <a id="A"></a><a id="4247" href="Data.Product.Categorical.html#4247" class="Module">A</a> <a id="4249" class="Symbol">=</a> <a id="4251" href="Algebra.html#1413" class="Module">Monoid</a> <a id="4258" href="Data.Product.Categorical.html#4040" class="Bound">A</a>
    <a id="4264" class="Keyword">module</a> <a id="Pₗ"></a><a id="4271" href="Data.Product.Categorical.html#4271" class="Module">Pₗ</a> <a id="4274" class="Symbol">=</a> <a id="4276" href="Data.Product.Categorical.html#803" class="Module">Productₗ</a> <a id="4285" href="Algebra.html#1738" class="Function">A.rawMonoid</a> <a id="4297" href="Data.Product.Categorical.html#4036" class="Bound">b</a>

    <a id="Examplesₗ._≈_"></a><a id="4304" href="Data.Product.Categorical.html#4304" class="Function Operator">_≈_</a> <a id="4308" class="Symbol">:</a> <a id="4310" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="4314" class="Symbol">(</a><a id="4315" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="4325" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="4327" href="Level.html#358" class="Record">Lift</a> <a id="4332" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="4334" href="Data.Product.Categorical.html#4057" class="Bound">B</a><a id="4335" class="Symbol">)</a> <a id="4337" class="Symbol">(</a><a id="4338" href="Data.Product.Categorical.html#4034" class="Bound">e</a> <a id="4340" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="4342" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="4344" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="4346" href="Data.Product.Categorical.html#4036" class="Bound">b</a><a id="4347" class="Symbol">)</a>
    <a id="4353" href="Data.Product.Categorical.html#4304" class="Function Operator">_≈_</a> <a id="4357" class="Symbol">=</a> <a id="4359" href="Data.Product.Relation.Pointwise.NonDependent.html#1325" class="Function">Pointwise</a> <a id="4369" href="Algebra.html#1513" class="Function Operator">A._≈_</a> <a id="4375" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>

    <a id="4384" class="Keyword">open</a> <a id="4389" href="Category.Functor.html#385" class="Module">RawFunctor</a> <a id="4400" href="Data.Product.Categorical.html#962" class="Function">Pₗ.functor</a>

    <a id="4416" class="Comment">-- This type to the right of × needs to be a &quot;lifted&quot; version of (B : Set b)</a>
    <a id="4497" class="Comment">-- that lives in the universe (Set (a ⊔ b)).</a>
    <a id="Examplesₗ.fmapIdₗ"></a><a id="4546" href="Data.Product.Categorical.html#4546" class="Function">fmapIdₗ</a> <a id="4554" class="Symbol">:</a> <a id="4556" class="Symbol">(</a><a id="4557" href="Data.Product.Categorical.html#4557" class="Bound">x</a> <a id="4559" class="Symbol">:</a> <a id="4561" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="4571" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="4573" href="Level.html#358" class="Record">Lift</a> <a id="4578" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="4580" href="Data.Product.Categorical.html#4057" class="Bound">B</a><a id="4581" class="Symbol">)</a> <a id="4583" class="Symbol">→</a> <a id="4585" class="Symbol">(</a><a id="4586" href="Function.html#1068" class="Function">id</a> <a id="4589" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="4593" href="Data.Product.Categorical.html#4557" class="Bound">x</a><a id="4594" class="Symbol">)</a> <a id="4596" href="Data.Product.Categorical.html#4304" class="Function Operator">≈</a> <a id="4598" href="Data.Product.Categorical.html#4557" class="Bound">x</a>
    <a id="4604" href="Data.Product.Categorical.html#4546" class="Function">fmapIdₗ</a> <a id="4612" href="Data.Product.Categorical.html#4612" class="Bound">x</a> <a id="4614" class="Symbol">=</a> <a id="4616" href="Relation.Binary.Core.html#5287" class="Function">A.refl</a> <a id="4623" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4625" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

    <a id="4635" class="Keyword">open</a> <a id="4640" href="Category.Monad.html#774" class="Module">RawMonad</a>   <a id="4651" href="Data.Product.Categorical.html#1432" class="Function">Pₗ.monad</a>

    <a id="4665" class="Comment">-- Now, let&#39;s show that &quot;return&quot; is a unit for &gt;&gt;=. We use Lift in exactly</a>
    <a id="4744" class="Comment">-- the same way as above. The data (x : B) then needs to be &quot;lifted&quot; to</a>
    <a id="4820" class="Comment">-- this new type (Lift B).</a>
    <a id="Examplesₗ.returnUnitL"></a><a id="4851" href="Data.Product.Categorical.html#4851" class="Function">returnUnitL</a> <a id="4863" class="Symbol">:</a> <a id="4865" class="Symbol">∀</a> <a id="4867" class="Symbol">{</a><a id="4868" href="Data.Product.Categorical.html#4868" class="Bound">x</a> <a id="4870" class="Symbol">:</a> <a id="4872" href="Data.Product.Categorical.html#4057" class="Bound">B</a><a id="4873" class="Symbol">}</a> <a id="4875" class="Symbol">{</a><a id="4876" href="Data.Product.Categorical.html#4876" class="Bound">f</a> <a id="4878" class="Symbol">:</a> <a id="4880" href="Level.html#358" class="Record">Lift</a> <a id="4885" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="4887" href="Data.Product.Categorical.html#4057" class="Bound">B</a> <a id="4889" class="Symbol">→</a> <a id="4891" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="4901" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="4903" href="Level.html#358" class="Record">Lift</a> <a id="4908" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="4910" href="Data.Product.Categorical.html#4057" class="Bound">B</a><a id="4911" class="Symbol">}</a>
                  <a id="4931" class="Symbol">→</a> <a id="4933" class="Symbol">((</a><a id="4935" href="Category.Monad.Indexed.html#533" class="Function">return</a> <a id="4942" class="Symbol">(</a><a id="4943" href="Level.html#415" class="InductiveConstructor">lift</a> <a id="4948" href="Data.Product.Categorical.html#4868" class="Bound">x</a><a id="4949" class="Symbol">))</a> <a id="4952" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="4956" href="Data.Product.Categorical.html#4876" class="Bound">f</a><a id="4957" class="Symbol">)</a> <a id="4959" href="Data.Product.Categorical.html#4304" class="Function Operator">≈</a> <a id="4961" href="Data.Product.Categorical.html#4876" class="Bound">f</a> <a id="4963" class="Symbol">(</a><a id="4964" href="Level.html#415" class="InductiveConstructor">lift</a> <a id="4969" href="Data.Product.Categorical.html#4868" class="Bound">x</a><a id="4970" class="Symbol">)</a>
    <a id="4976" href="Data.Product.Categorical.html#4851" class="Function">returnUnitL</a> <a id="4988" class="Symbol">=</a> <a id="4990" href="Algebra.Structures.html#1462" class="Function">A.identityˡ</a> <a id="5002" class="Symbol">_</a> <a id="5004" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5006" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

    <a id="Examplesₗ.returnUnitR"></a><a id="5016" href="Data.Product.Categorical.html#5016" class="Function">returnUnitR</a> <a id="5028" class="Symbol">:</a> <a id="5030" class="Symbol">{</a><a id="5031" href="Data.Product.Categorical.html#5031" class="Bound">x</a> <a id="5033" class="Symbol">:</a> <a id="5035" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="5045" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="5047" href="Level.html#358" class="Record">Lift</a> <a id="5052" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="5054" href="Data.Product.Categorical.html#4057" class="Bound">B</a><a id="5055" class="Symbol">}</a> <a id="5057" class="Symbol">→</a> <a id="5059" class="Symbol">(</a><a id="5060" href="Data.Product.Categorical.html#5031" class="Bound">x</a> <a id="5062" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5066" href="Category.Monad.Indexed.html#533" class="Function">return</a><a id="5072" class="Symbol">)</a> <a id="5074" href="Data.Product.Categorical.html#4304" class="Function Operator">≈</a> <a id="5076" href="Data.Product.Categorical.html#5031" class="Bound">x</a>
    <a id="5082" href="Data.Product.Categorical.html#5016" class="Function">returnUnitR</a> <a id="5094" class="Symbol">=</a> <a id="5096" href="Algebra.Structures.html#1523" class="Function">A.identityʳ</a> <a id="5108" class="Symbol">_</a> <a id="5110" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5112" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

    <a id="5122" class="Comment">-- And another (limited version of a) monad law...</a>
    <a id="Examplesₗ.bindCompose"></a><a id="5177" href="Data.Product.Categorical.html#5177" class="Function">bindCompose</a> <a id="5189" class="Symbol">:</a> <a id="5191" class="Symbol">∀</a> <a id="5193" class="Symbol">{</a><a id="5194" href="Data.Product.Categorical.html#5194" class="Bound">f</a> <a id="5196" href="Data.Product.Categorical.html#5196" class="Bound">g</a> <a id="5198" class="Symbol">:</a> <a id="5200" href="Level.html#358" class="Record">Lift</a> <a id="5205" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="5207" href="Data.Product.Categorical.html#4057" class="Bound">B</a> <a id="5209" class="Symbol">→</a> <a id="5211" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="5221" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="5223" href="Level.html#358" class="Record">Lift</a> <a id="5228" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="5230" href="Data.Product.Categorical.html#4057" class="Bound">B</a><a id="5231" class="Symbol">}</a>
                <a id="5249" class="Symbol">→</a> <a id="5251" class="Symbol">{</a><a id="5252" href="Data.Product.Categorical.html#5252" class="Bound">x</a> <a id="5254" class="Symbol">:</a> <a id="5256" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="5266" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="5268" href="Level.html#358" class="Record">Lift</a> <a id="5273" href="Data.Product.Categorical.html#4032" class="Bound">a</a> <a id="5275" href="Data.Product.Categorical.html#4057" class="Bound">B</a><a id="5276" class="Symbol">}</a>
                <a id="5294" class="Symbol">→</a> <a id="5296" class="Symbol">((</a><a id="5298" href="Data.Product.Categorical.html#5252" class="Bound">x</a> <a id="5300" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5304" href="Data.Product.Categorical.html#5194" class="Bound">f</a><a id="5305" class="Symbol">)</a> <a id="5307" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5311" href="Data.Product.Categorical.html#5196" class="Bound">g</a><a id="5312" class="Symbol">)</a> <a id="5314" href="Data.Product.Categorical.html#4304" class="Function Operator">≈</a> <a id="5316" class="Symbol">(</a><a id="5317" href="Data.Product.Categorical.html#5252" class="Bound">x</a> <a id="5319" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5323" class="Symbol">(λ</a> <a id="5326" href="Data.Product.Categorical.html#5326" class="Bound">y</a> <a id="5328" class="Symbol">→</a> <a id="5330" class="Symbol">(</a><a id="5331" href="Data.Product.Categorical.html#5194" class="Bound">f</a> <a id="5333" href="Data.Product.Categorical.html#5326" class="Bound">y</a> <a id="5335" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5339" href="Data.Product.Categorical.html#5196" class="Bound">g</a><a id="5340" class="Symbol">)))</a>
    <a id="5348" href="Data.Product.Categorical.html#5177" class="Function">bindCompose</a> <a id="5360" class="Symbol">=</a> <a id="5362" href="Algebra.Structures.html#838" class="Function">A.assoc</a> <a id="5370" class="Symbol">_</a> <a id="5372" class="Symbol">_</a> <a id="5374" class="Symbol">_</a> <a id="5376" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5378" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
</pre></body></html>