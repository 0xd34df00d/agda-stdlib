<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Product.Categorical</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Universe-sensitive functor and monad instances for the Product type.</a>
<a id="178" class="Comment">------------------------------------------------------------------------</a>

<a id="252" class="Keyword">module</a> <a id="259" href="Data.Product.Categorical.html" class="Module">Data.Product.Categorical</a> <a id="284" class="Keyword">where</a>

<a id="291" class="Keyword">open</a> <a id="296" class="Keyword">import</a> <a id="303" href="Level.html" class="Module">Level</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Data.Product.html" class="Module">Data.Product</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Algebra.html" class="Module">Algebra</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Category.Functor.html" class="Module">Category.Functor</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Category.Applicative.html" class="Module">Category.Applicative</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Category.Monad.html" class="Module">Category.Monad</a>
<a id="443" class="Keyword">import</a> <a id="450" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="480" class="Symbol">as</a> <a id="483" class="Module">Id</a>
<a id="486" class="Keyword">open</a> <a id="491" class="Keyword">import</a> <a id="498" href="Function.html" class="Module">Function</a>

<a id="508" class="Comment">-- To minimize the universe level of the RawFunctor, we require that elements of</a>
<a id="589" class="Comment">-- B are &quot;lifted&quot; to a copy of B at a higher universe level (a ⊔ b). See the</a>
<a id="666" class="Comment">-- examples for how this is done.</a>

<a id="701" class="Comment">------------------------------------------------------------------------</a>
<a id="774" class="Comment">-- Left-biased monad</a>

<a id="796" class="Keyword">module</a> <a id="Productₗ"></a><a id="803" href="Data.Product.Categorical.html#803" class="Module">Productₗ</a> <a id="812" class="Symbol">{</a><a id="813" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="815" href="Data.Product.Categorical.html#815" class="Bound">e</a><a id="816" class="Symbol">}</a> <a id="818" class="Symbol">(</a><a id="819" href="Data.Product.Categorical.html#819" class="Bound">A</a> <a id="821" class="Symbol">:</a> <a id="823" href="Algebra.html#1231" class="Record">RawMonoid</a> <a id="833" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="835" href="Data.Product.Categorical.html#815" class="Bound">e</a><a id="836" class="Symbol">)</a> <a id="838" class="Symbol">(</a><a id="839" href="Data.Product.Categorical.html#839" class="Bound">b</a> <a id="841" class="Symbol">:</a> <a id="843" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="848" class="Symbol">)</a> <a id="850" class="Keyword">where</a>

  <a id="859" class="Keyword">private</a> <a id="867" class="Keyword">module</a> <a id="A"></a><a id="874" href="Data.Product.Categorical.html#874" class="Module">A</a> <a id="876" class="Symbol">=</a> <a id="878" href="Algebra.html#1231" class="Module">RawMonoid</a> <a id="888" href="Data.Product.Categorical.html#819" class="Bound">A</a>

  <a id="Productₗ.Productₗ"></a><a id="893" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="902" class="Symbol">:</a> <a id="904" class="PrimitiveType">Set</a> <a id="908" class="Symbol">(</a><a id="909" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="911" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="913" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">→</a> <a id="918" class="PrimitiveType">Set</a> <a id="922" class="Symbol">(</a><a id="923" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="925" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="927" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="928" class="Symbol">)</a>
  <a id="932" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="941" href="Data.Product.Categorical.html#941" class="Bound">B</a> <a id="943" class="Symbol">=</a> <a id="945" href="Algebra.html#1313" class="Function">A.Carrier</a> <a id="955" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="957" href="Data.Product.Categorical.html#941" class="Bound">B</a>

  <a id="Productₗ.functor"></a><a id="962" href="Data.Product.Categorical.html#962" class="Function">functor</a> <a id="970" class="Symbol">:</a> <a id="972" href="Category.Functor.html#385" class="Record">RawFunctor</a> <a id="983" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a>
  <a id="994" href="Data.Product.Categorical.html#962" class="Function">functor</a> <a id="1002" class="Symbol">=</a> <a id="1004" class="Keyword">record</a> <a id="1011" class="Symbol">{</a> <a id="1013" class="Field Operator">_&lt;$&gt;_</a> <a id="1019" class="Symbol">=</a> <a id="1021" class="Symbol">λ</a> <a id="1023" href="Data.Product.Categorical.html#1023" class="Bound">f</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="Data.Product.html#2438" class="Function">map₂</a> <a id="1032" href="Data.Product.Categorical.html#1023" class="Bound">f</a> <a id="1034" class="Symbol">}</a>

  <a id="Productₗ.applicative"></a><a id="1039" href="Data.Product.Categorical.html#1039" class="Function">applicative</a> <a id="1051" class="Symbol">:</a> <a id="1053" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="1068" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a>
  <a id="1079" href="Data.Product.Categorical.html#1039" class="Function">applicative</a> <a id="1091" class="Symbol">=</a> <a id="1093" class="Keyword">record</a>
    <a id="1104" class="Symbol">{</a> <a id="1106" class="Field">pure</a> <a id="1111" class="Symbol">=</a> <a id="1113" href="Algebra.html#1387" class="Function">A.ε</a> <a id="1117" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a>
    <a id="1124" class="Symbol">;</a> <a id="1126" class="Field Operator">_⊛_</a>  <a id="1131" class="Symbol">=</a> <a id="1133" href="Data.Product.html#2563" class="Function">zip</a> <a id="1137" href="Algebra.html#1361" class="Function Operator">A._∙_</a> <a id="1143" href="Function.html#1068" class="Function">id</a>
    <a id="1150" class="Symbol">}</a>

  <a id="1155" class="Comment">-- The monad instance also requires some mucking about with universe levels.</a>
  <a id="Productₗ.monadT"></a><a id="1234" href="Data.Product.Categorical.html#1234" class="Function">monadT</a> <a id="1241" class="Symbol">:</a> <a id="1243" class="Symbol">∀</a> <a id="1245" class="Symbol">{</a><a id="1246" href="Data.Product.Categorical.html#1246" class="Bound">M</a><a id="1247" class="Symbol">}</a> <a id="1249" class="Symbol">→</a> <a id="1251" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="1260" href="Data.Product.Categorical.html#1246" class="Bound">M</a> <a id="1262" class="Symbol">→</a> <a id="1264" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="1273" class="Symbol">(</a><a id="1274" href="Data.Product.Categorical.html#1246" class="Bound">M</a> <a id="1276" href="Function.html#958" class="Function Operator">∘′</a> <a id="1279" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a><a id="1287" class="Symbol">)</a>
  <a id="1291" href="Data.Product.Categorical.html#1234" class="Function">monadT</a> <a id="1298" href="Data.Product.Categorical.html#1298" class="Bound">M</a> <a id="1300" class="Symbol">=</a> <a id="1302" class="Keyword">record</a>
    <a id="1313" class="Symbol">{</a> <a id="1315" class="Field">return</a> <a id="1322" class="Symbol">=</a> <a id="1324" href="Category.Applicative.Indexed.html#747" class="Function">M.pure</a> <a id="1331" href="Function.html#958" class="Function Operator">∘′</a> <a id="1334" class="Symbol">(</a><a id="1335" href="Algebra.html#1387" class="Function">A.ε</a> <a id="1339" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a><a id="1341" class="Symbol">)</a>
    <a id="1347" class="Symbol">;</a> <a id="1349" class="Field Operator">_&gt;&gt;=_</a>  <a id="1356" class="Symbol">=</a> <a id="1358" class="Symbol">λ</a> <a id="1360" href="Data.Product.Categorical.html#1360" class="Bound">ma</a> <a id="1363" href="Data.Product.Categorical.html#1363" class="Bound">f</a> <a id="1365" class="Symbol">→</a> <a id="1367" href="Data.Product.Categorical.html#1360" class="Bound">ma</a> <a id="1370" href="Category.Monad.Indexed.html#568" class="Field Operator">M.&gt;&gt;=</a> <a id="1376" href="Data.Product.html#3464" class="Function">uncurry</a> <a id="1384" class="Symbol">λ</a> <a id="1386" href="Data.Product.Categorical.html#1386" class="Bound">a</a> <a id="1388" href="Data.Product.Categorical.html#1388" class="Bound">x</a> <a id="1390" class="Symbol">→</a> <a id="1392" href="Data.Product.html#2333" class="Function">map₁</a> <a id="1397" class="Symbol">(</a><a id="1398" href="Data.Product.Categorical.html#1386" class="Bound">a</a> <a id="1400" href="Algebra.html#1361" class="Function Operator">A.∙_</a><a id="1404" class="Symbol">)</a> <a id="1406" href="Category.Functor.html#475" class="Function Operator">M.&lt;$&gt;</a> <a id="1412" href="Data.Product.Categorical.html#1363" class="Bound">f</a> <a id="1414" href="Data.Product.Categorical.html#1388" class="Bound">x</a>
    <a id="1420" class="Symbol">}</a> <a id="1422" class="Keyword">where</a> <a id="1428" class="Keyword">module</a> <a id="M"></a><a id="1435" href="Data.Product.Categorical.html#1435" class="Module">M</a> <a id="1437" class="Symbol">=</a> <a id="1439" href="Category.Monad.html#652" class="Module">RawMonad</a> <a id="1448" href="Data.Product.Categorical.html#1298" class="Bound">M</a>

  <a id="Productₗ.monad"></a><a id="1453" href="Data.Product.Categorical.html#1453" class="Function">monad</a> <a id="1459" class="Symbol">:</a> <a id="1461" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="1470" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a>
  <a id="1481" href="Data.Product.Categorical.html#1453" class="Function">monad</a> <a id="1487" class="Symbol">=</a> <a id="1489" href="Data.Product.Categorical.html#1234" class="Function">monadT</a> <a id="1496" href="Function.Identity.Categorical.html#615" class="Function">Id.monad</a>

<a id="1506" class="Comment">------------------------------------------------------------------------</a>
<a id="1579" class="Comment">-- Get access to other monadic functions</a>

  <a id="1623" class="Keyword">module</a> <a id="1630" href="Data.Product.Categorical.html#1630" class="Module">_</a> <a id="1632" class="Symbol">{</a><a id="1633" href="Data.Product.Categorical.html#1633" class="Bound">F</a><a id="1634" class="Symbol">}</a> <a id="1636" class="Symbol">(</a><a id="1637" href="Data.Product.Categorical.html#1637" class="Bound">App</a> <a id="1641" class="Symbol">:</a> <a id="1643" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="1658" class="Symbol">{</a><a id="1659" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="1661" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1663" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="1664" class="Symbol">}</a> <a id="1666" href="Data.Product.Categorical.html#1633" class="Bound">F</a><a id="1667" class="Symbol">)</a> <a id="1669" class="Keyword">where</a>

    <a id="1680" class="Keyword">open</a> <a id="1685" href="Category.Applicative.html#494" class="Module">RawApplicative</a> <a id="1700" href="Data.Product.Categorical.html#1637" class="Bound">App</a>

    <a id="1709" href="Data.Product.Categorical.html#1709" class="Function">sequenceA</a> <a id="1719" class="Symbol">:</a> <a id="1721" class="Symbol">∀</a> <a id="1723" class="Symbol">{</a><a id="1724" href="Data.Product.Categorical.html#1724" class="Bound">A</a><a id="1725" class="Symbol">}</a> <a id="1727" class="Symbol">→</a> <a id="1729" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1738" class="Symbol">(</a><a id="1739" href="Data.Product.Categorical.html#1633" class="Bound">F</a> <a id="1741" href="Data.Product.Categorical.html#1724" class="Bound">A</a><a id="1742" class="Symbol">)</a> <a id="1744" class="Symbol">→</a> <a id="1746" href="Data.Product.Categorical.html#1633" class="Bound">F</a> <a id="1748" class="Symbol">(</a><a id="1749" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1758" href="Data.Product.Categorical.html#1724" class="Bound">A</a><a id="1759" class="Symbol">)</a>
    <a id="1765" href="Data.Product.Categorical.html#1709" class="Function">sequenceA</a> <a id="1775" class="Symbol">(</a><a id="1776" href="Data.Product.Categorical.html#1776" class="Bound">x</a> <a id="1778" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1780" href="Data.Product.Categorical.html#1780" class="Bound">fa</a><a id="1782" class="Symbol">)</a> <a id="1784" class="Symbol">=</a> <a id="1786" class="Symbol">(</a><a id="1787" href="Data.Product.Categorical.html#1776" class="Bound">x</a> <a id="1789" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a><a id="1791" class="Symbol">)</a> <a id="1793" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="1797" href="Data.Product.Categorical.html#1780" class="Bound">fa</a>

    <a id="1805" href="Data.Product.Categorical.html#1805" class="Function">mapA</a> <a id="1810" class="Symbol">:</a> <a id="1812" class="Symbol">∀</a> <a id="1814" class="Symbol">{</a><a id="1815" href="Data.Product.Categorical.html#1815" class="Bound">A</a> <a id="1817" href="Data.Product.Categorical.html#1817" class="Bound">B</a><a id="1818" class="Symbol">}</a> <a id="1820" class="Symbol">→</a> <a id="1822" class="Symbol">(</a><a id="1823" href="Data.Product.Categorical.html#1815" class="Bound">A</a> <a id="1825" class="Symbol">→</a> <a id="1827" href="Data.Product.Categorical.html#1633" class="Bound">F</a> <a id="1829" href="Data.Product.Categorical.html#1817" class="Bound">B</a><a id="1830" class="Symbol">)</a> <a id="1832" class="Symbol">→</a> <a id="1834" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1843" href="Data.Product.Categorical.html#1815" class="Bound">A</a> <a id="1845" class="Symbol">→</a> <a id="1847" href="Data.Product.Categorical.html#1633" class="Bound">F</a> <a id="1849" class="Symbol">(</a><a id="1850" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1859" href="Data.Product.Categorical.html#1817" class="Bound">B</a><a id="1860" class="Symbol">)</a>
    <a id="1866" href="Data.Product.Categorical.html#1805" class="Function">mapA</a> <a id="1871" href="Data.Product.Categorical.html#1871" class="Bound">f</a> <a id="1873" class="Symbol">=</a> <a id="1875" href="Data.Product.Categorical.html#1709" class="Function">sequenceA</a> <a id="1885" href="Function.html#769" class="Function Operator">∘</a> <a id="1887" href="Data.Product.html#2438" class="Function">map₂</a> <a id="1892" href="Data.Product.Categorical.html#1871" class="Bound">f</a>

    <a id="1899" href="Data.Product.Categorical.html#1899" class="Function">forA</a> <a id="1904" class="Symbol">:</a> <a id="1906" class="Symbol">∀</a> <a id="1908" class="Symbol">{</a><a id="1909" href="Data.Product.Categorical.html#1909" class="Bound">A</a> <a id="1911" href="Data.Product.Categorical.html#1911" class="Bound">B</a><a id="1912" class="Symbol">}</a> <a id="1914" class="Symbol">→</a> <a id="1916" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1925" href="Data.Product.Categorical.html#1909" class="Bound">A</a> <a id="1927" class="Symbol">→</a> <a id="1929" class="Symbol">(</a><a id="1930" href="Data.Product.Categorical.html#1909" class="Bound">A</a> <a id="1932" class="Symbol">→</a> <a id="1934" href="Data.Product.Categorical.html#1633" class="Bound">F</a> <a id="1936" href="Data.Product.Categorical.html#1911" class="Bound">B</a><a id="1937" class="Symbol">)</a> <a id="1939" class="Symbol">→</a> <a id="1941" href="Data.Product.Categorical.html#1633" class="Bound">F</a> <a id="1943" class="Symbol">(</a><a id="1944" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="1953" href="Data.Product.Categorical.html#1911" class="Bound">B</a><a id="1954" class="Symbol">)</a>
    <a id="1960" href="Data.Product.Categorical.html#1899" class="Function">forA</a> <a id="1965" class="Symbol">=</a> <a id="1967" href="Function.html#1536" class="Function">flip</a> <a id="1972" href="Data.Product.Categorical.html#1805" class="Function">mapA</a>

  <a id="1980" class="Keyword">module</a> <a id="1987" href="Data.Product.Categorical.html#1987" class="Module">_</a> <a id="1989" class="Symbol">{</a><a id="1990" href="Data.Product.Categorical.html#1990" class="Bound">M</a><a id="1991" class="Symbol">}</a> <a id="1993" class="Symbol">(</a><a id="1994" href="Data.Product.Categorical.html#1994" class="Bound">Mon</a> <a id="1998" class="Symbol">:</a> <a id="2000" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="2009" class="Symbol">{</a><a id="2010" href="Data.Product.Categorical.html#813" class="Bound">a</a> <a id="2012" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2014" href="Data.Product.Categorical.html#839" class="Bound">b</a><a id="2015" class="Symbol">}</a> <a id="2017" href="Data.Product.Categorical.html#1990" class="Bound">M</a><a id="2018" class="Symbol">)</a> <a id="2020" class="Keyword">where</a>

    <a id="2031" class="Keyword">private</a> <a id="2039" href="Data.Product.Categorical.html#2039" class="Function">App</a> <a id="2043" class="Symbol">=</a> <a id="2045" href="Category.Monad.Indexed.html#1104" class="Function">RawMonad.rawIApplicative</a> <a id="2070" href="Data.Product.Categorical.html#1994" class="Bound">Mon</a>

    <a id="2079" href="Data.Product.Categorical.html#2079" class="Function">sequenceM</a> <a id="2089" class="Symbol">:</a> <a id="2091" class="Symbol">∀</a> <a id="2093" class="Symbol">{</a><a id="2094" href="Data.Product.Categorical.html#2094" class="Bound">A</a><a id="2095" class="Symbol">}</a> <a id="2097" class="Symbol">→</a> <a id="2099" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2108" class="Symbol">(</a><a id="2109" href="Data.Product.Categorical.html#1990" class="Bound">M</a> <a id="2111" href="Data.Product.Categorical.html#2094" class="Bound">A</a><a id="2112" class="Symbol">)</a> <a id="2114" class="Symbol">→</a> <a id="2116" href="Data.Product.Categorical.html#1990" class="Bound">M</a> <a id="2118" class="Symbol">(</a><a id="2119" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2128" href="Data.Product.Categorical.html#2094" class="Bound">A</a><a id="2129" class="Symbol">)</a>
    <a id="2135" href="Data.Product.Categorical.html#2079" class="Function">sequenceM</a> <a id="2145" class="Symbol">=</a> <a id="2147" href="Data.Product.Categorical.html#1709" class="Function">sequenceA</a> <a id="2157" href="Data.Product.Categorical.html#2039" class="Function">App</a>

    <a id="2166" href="Data.Product.Categorical.html#2166" class="Function">mapM</a> <a id="2171" class="Symbol">:</a> <a id="2173" class="Symbol">∀</a> <a id="2175" class="Symbol">{</a><a id="2176" href="Data.Product.Categorical.html#2176" class="Bound">A</a> <a id="2178" href="Data.Product.Categorical.html#2178" class="Bound">B</a><a id="2179" class="Symbol">}</a> <a id="2181" class="Symbol">→</a> <a id="2183" class="Symbol">(</a><a id="2184" href="Data.Product.Categorical.html#2176" class="Bound">A</a> <a id="2186" class="Symbol">→</a> <a id="2188" href="Data.Product.Categorical.html#1990" class="Bound">M</a> <a id="2190" href="Data.Product.Categorical.html#2178" class="Bound">B</a><a id="2191" class="Symbol">)</a> <a id="2193" class="Symbol">→</a> <a id="2195" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2204" href="Data.Product.Categorical.html#2176" class="Bound">A</a> <a id="2206" class="Symbol">→</a> <a id="2208" href="Data.Product.Categorical.html#1990" class="Bound">M</a> <a id="2210" class="Symbol">(</a><a id="2211" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2220" href="Data.Product.Categorical.html#2178" class="Bound">B</a><a id="2221" class="Symbol">)</a>
    <a id="2227" href="Data.Product.Categorical.html#2166" class="Function">mapM</a> <a id="2232" class="Symbol">=</a> <a id="2234" href="Data.Product.Categorical.html#1805" class="Function">mapA</a> <a id="2239" href="Data.Product.Categorical.html#2039" class="Function">App</a>

    <a id="2248" href="Data.Product.Categorical.html#2248" class="Function">forM</a> <a id="2253" class="Symbol">:</a> <a id="2255" class="Symbol">∀</a> <a id="2257" class="Symbol">{</a><a id="2258" href="Data.Product.Categorical.html#2258" class="Bound">A</a> <a id="2260" href="Data.Product.Categorical.html#2260" class="Bound">B</a><a id="2261" class="Symbol">}</a> <a id="2263" class="Symbol">→</a> <a id="2265" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2274" href="Data.Product.Categorical.html#2258" class="Bound">A</a> <a id="2276" class="Symbol">→</a> <a id="2278" class="Symbol">(</a><a id="2279" href="Data.Product.Categorical.html#2258" class="Bound">A</a> <a id="2281" class="Symbol">→</a> <a id="2283" href="Data.Product.Categorical.html#1990" class="Bound">M</a> <a id="2285" href="Data.Product.Categorical.html#2260" class="Bound">B</a><a id="2286" class="Symbol">)</a> <a id="2288" class="Symbol">→</a> <a id="2290" href="Data.Product.Categorical.html#1990" class="Bound">M</a> <a id="2292" class="Symbol">(</a><a id="2293" href="Data.Product.Categorical.html#893" class="Function">Productₗ</a> <a id="2302" href="Data.Product.Categorical.html#2260" class="Bound">B</a><a id="2303" class="Symbol">)</a>
    <a id="2309" href="Data.Product.Categorical.html#2248" class="Function">forM</a> <a id="2314" class="Symbol">=</a> <a id="2316" href="Data.Product.Categorical.html#1899" class="Function">forA</a> <a id="2321" href="Data.Product.Categorical.html#2039" class="Function">App</a>

<a id="2326" class="Comment">------------------------------------------------------------------------</a>
<a id="2399" class="Comment">-- Right-biased monad</a>

<a id="2422" class="Keyword">module</a> <a id="Productᵣ"></a><a id="2429" href="Data.Product.Categorical.html#2429" class="Module">Productᵣ</a> <a id="2438" class="Symbol">(</a><a id="2439" href="Data.Product.Categorical.html#2439" class="Bound">a</a> <a id="2441" class="Symbol">:</a> <a id="2443" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="2448" class="Symbol">)</a> <a id="2450" class="Symbol">{</a><a id="2451" href="Data.Product.Categorical.html#2451" class="Bound">b</a> <a id="2453" href="Data.Product.Categorical.html#2453" class="Bound">e</a><a id="2454" class="Symbol">}</a> <a id="2456" class="Symbol">(</a><a id="2457" href="Data.Product.Categorical.html#2457" class="Bound">B</a> <a id="2459" class="Symbol">:</a> <a id="2461" href="Algebra.html#1231" class="Record">RawMonoid</a> <a id="2471" href="Data.Product.Categorical.html#2451" class="Bound">b</a> <a id="2473" href="Data.Product.Categorical.html#2453" class="Bound">e</a><a id="2474" class="Symbol">)</a> <a id="2476" class="Keyword">where</a>

  <a id="2485" class="Keyword">private</a> <a id="2493" class="Keyword">module</a> <a id="B"></a><a id="2500" href="Data.Product.Categorical.html#2500" class="Module">B</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="Algebra.html#1231" class="Module">RawMonoid</a> <a id="2514" href="Data.Product.Categorical.html#2457" class="Bound">B</a>

  <a id="Productᵣ.Productᵣ"></a><a id="2519" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="2528" class="Symbol">:</a> <a id="2530" class="PrimitiveType">Set</a> <a id="2534" class="Symbol">(</a><a id="2535" href="Data.Product.Categorical.html#2439" class="Bound">a</a> <a id="2537" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2539" href="Data.Product.Categorical.html#2451" class="Bound">b</a><a id="2540" class="Symbol">)</a> <a id="2542" class="Symbol">→</a> <a id="2544" class="PrimitiveType">Set</a> <a id="2548" class="Symbol">(</a><a id="2549" href="Data.Product.Categorical.html#2439" class="Bound">a</a> <a id="2551" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2553" href="Data.Product.Categorical.html#2451" class="Bound">b</a><a id="2554" class="Symbol">)</a>
  <a id="2558" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="2567" href="Data.Product.Categorical.html#2567" class="Bound">A</a> <a id="2569" class="Symbol">=</a> <a id="2571" href="Data.Product.Categorical.html#2567" class="Bound">A</a> <a id="2573" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="2575" href="Algebra.html#1313" class="Field">B.Carrier</a>

  <a id="Productᵣ.functor"></a><a id="2588" href="Data.Product.Categorical.html#2588" class="Function">functor</a> <a id="2596" class="Symbol">:</a> <a id="2598" href="Category.Functor.html#385" class="Record">RawFunctor</a> <a id="2609" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a>
  <a id="2620" href="Data.Product.Categorical.html#2588" class="Function">functor</a> <a id="2628" class="Symbol">=</a> <a id="2630" class="Keyword">record</a> <a id="2637" class="Symbol">{</a> <a id="2639" class="Field Operator">_&lt;$&gt;_</a> <a id="2645" class="Symbol">=</a> <a id="2647" href="Data.Product.html#2333" class="Function">map₁</a> <a id="2652" class="Symbol">}</a>

  <a id="Productᵣ.applicative"></a><a id="2657" href="Data.Product.Categorical.html#2657" class="Function">applicative</a> <a id="2669" class="Symbol">:</a> <a id="2671" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="2686" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a>
  <a id="2697" href="Data.Product.Categorical.html#2657" class="Function">applicative</a> <a id="2709" class="Symbol">=</a> <a id="2711" class="Keyword">record</a>
    <a id="2722" class="Symbol">{</a> <a id="2724" class="Field">pure</a> <a id="2729" class="Symbol">=</a> <a id="2731" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,</a> <a id="2734" href="Algebra.html#1387" class="Field">B.ε</a>
    <a id="2742" class="Symbol">;</a> <a id="2744" class="Field Operator">_⊛_</a>  <a id="2749" class="Symbol">=</a> <a id="2751" href="Data.Product.html#2563" class="Function">zip</a> <a id="2755" href="Function.html#1068" class="Function">id</a> <a id="2758" href="Algebra.html#1361" class="Field Operator">B._∙_</a>
    <a id="2768" class="Symbol">}</a>

  <a id="Productᵣ.monadT"></a><a id="2773" href="Data.Product.Categorical.html#2773" class="Function">monadT</a> <a id="2780" class="Symbol">:</a> <a id="2782" class="Symbol">∀</a> <a id="2784" class="Symbol">{</a><a id="2785" href="Data.Product.Categorical.html#2785" class="Bound">M</a><a id="2786" class="Symbol">}</a> <a id="2788" class="Symbol">→</a> <a id="2790" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="2799" href="Data.Product.Categorical.html#2785" class="Bound">M</a> <a id="2801" class="Symbol">→</a> <a id="2803" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="2812" class="Symbol">(</a><a id="2813" href="Data.Product.Categorical.html#2785" class="Bound">M</a> <a id="2815" href="Function.html#958" class="Function Operator">∘′</a> <a id="2818" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a><a id="2826" class="Symbol">)</a>
  <a id="2830" href="Data.Product.Categorical.html#2773" class="Function">monadT</a> <a id="2837" href="Data.Product.Categorical.html#2837" class="Bound">M</a> <a id="2839" class="Symbol">=</a> <a id="2841" class="Keyword">record</a>
    <a id="2852" class="Symbol">{</a> <a id="2854" class="Field">return</a> <a id="2861" class="Symbol">=</a> <a id="2863" href="Category.Applicative.Indexed.html#747" class="Function">M.pure</a> <a id="2870" href="Function.html#958" class="Function Operator">∘′</a> <a id="2873" class="Symbol">(</a><a id="2874" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,</a> <a id="2877" href="Algebra.html#1387" class="Field">B.ε</a><a id="2880" class="Symbol">)</a>
    <a id="2886" class="Symbol">;</a> <a id="2888" class="Field Operator">_&gt;&gt;=_</a>  <a id="2895" class="Symbol">=</a> <a id="2897" class="Symbol">λ</a> <a id="2899" href="Data.Product.Categorical.html#2899" class="Bound">ma</a> <a id="2902" href="Data.Product.Categorical.html#2902" class="Bound">f</a> <a id="2904" class="Symbol">→</a> <a id="2906" href="Data.Product.Categorical.html#2899" class="Bound">ma</a> <a id="2909" href="Category.Monad.Indexed.html#568" class="Field Operator">M.&gt;&gt;=</a> <a id="2915" href="Data.Product.html#3464" class="Function">uncurry</a> <a id="2923" class="Symbol">λ</a> <a id="2925" href="Data.Product.Categorical.html#2925" class="Bound">x</a> <a id="2927" href="Data.Product.Categorical.html#2927" class="Bound">b</a> <a id="2929" class="Symbol">→</a> <a id="2931" href="Data.Product.html#2438" class="Function">map₂</a> <a id="2936" class="Symbol">(</a><a id="2937" href="Data.Product.Categorical.html#2927" class="Bound">b</a> <a id="2939" href="Algebra.html#1361" class="Field Operator">B.∙_</a><a id="2943" class="Symbol">)</a> <a id="2945" href="Category.Functor.html#475" class="Function Operator">M.&lt;$&gt;</a> <a id="2951" href="Data.Product.Categorical.html#2902" class="Bound">f</a> <a id="2953" href="Data.Product.Categorical.html#2925" class="Bound">x</a>
    <a id="2959" class="Symbol">}</a> <a id="2961" class="Keyword">where</a> <a id="2967" class="Keyword">module</a> <a id="M"></a><a id="2974" href="Data.Product.Categorical.html#2974" class="Module">M</a> <a id="2976" class="Symbol">=</a> <a id="2978" href="Category.Monad.html#652" class="Module">RawMonad</a> <a id="2987" href="Data.Product.Categorical.html#2837" class="Bound">M</a>

  <a id="Productᵣ.monad"></a><a id="2992" href="Data.Product.Categorical.html#2992" class="Function">monad</a> <a id="2998" class="Symbol">:</a> <a id="3000" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="3009" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a>
  <a id="3020" href="Data.Product.Categorical.html#2992" class="Function">monad</a> <a id="3026" class="Symbol">=</a> <a id="3028" href="Data.Product.Categorical.html#2773" class="Function">monadT</a> <a id="3035" href="Function.Identity.Categorical.html#615" class="Function">Id.monad</a>

<a id="3045" class="Comment">------------------------------------------------------------------------</a>
<a id="3118" class="Comment">-- Get access to other monadic functions</a>

  <a id="3162" class="Keyword">module</a> <a id="3169" href="Data.Product.Categorical.html#3169" class="Module">_</a> <a id="3171" class="Symbol">{</a><a id="3172" href="Data.Product.Categorical.html#3172" class="Bound">F</a><a id="3173" class="Symbol">}</a> <a id="3175" class="Symbol">(</a><a id="3176" href="Data.Product.Categorical.html#3176" class="Bound">App</a> <a id="3180" class="Symbol">:</a> <a id="3182" href="Category.Applicative.html#382" class="Function">RawApplicative</a> <a id="3197" class="Symbol">{</a><a id="3198" href="Data.Product.Categorical.html#2439" class="Bound">a</a> <a id="3200" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="3202" href="Data.Product.Categorical.html#2451" class="Bound">b</a><a id="3203" class="Symbol">}</a> <a id="3205" href="Data.Product.Categorical.html#3172" class="Bound">F</a><a id="3206" class="Symbol">)</a> <a id="3208" class="Keyword">where</a>

    <a id="3219" class="Keyword">open</a> <a id="3224" href="Category.Applicative.html#494" class="Module">RawApplicative</a> <a id="3239" href="Data.Product.Categorical.html#3176" class="Bound">App</a>

    <a id="3248" href="Data.Product.Categorical.html#3248" class="Function">sequenceA</a> <a id="3258" class="Symbol">:</a> <a id="3260" class="Symbol">∀</a> <a id="3262" class="Symbol">{</a><a id="3263" href="Data.Product.Categorical.html#3263" class="Bound">A</a><a id="3264" class="Symbol">}</a> <a id="3266" class="Symbol">→</a> <a id="3268" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3277" class="Symbol">(</a><a id="3278" href="Data.Product.Categorical.html#3172" class="Bound">F</a> <a id="3280" href="Data.Product.Categorical.html#3263" class="Bound">A</a><a id="3281" class="Symbol">)</a> <a id="3283" class="Symbol">→</a> <a id="3285" href="Data.Product.Categorical.html#3172" class="Bound">F</a> <a id="3287" class="Symbol">(</a><a id="3288" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3297" href="Data.Product.Categorical.html#3263" class="Bound">A</a><a id="3298" class="Symbol">)</a>
    <a id="3304" href="Data.Product.Categorical.html#3248" class="Function">sequenceA</a> <a id="3314" class="Symbol">(</a><a id="3315" href="Data.Product.Categorical.html#3315" class="Bound">fa</a> <a id="3318" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3320" href="Data.Product.Categorical.html#3320" class="Bound">y</a><a id="3321" class="Symbol">)</a> <a id="3323" class="Symbol">=</a> <a id="3325" class="Symbol">(</a><a id="3326" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,</a> <a id="3329" href="Data.Product.Categorical.html#3320" class="Bound">y</a><a id="3330" class="Symbol">)</a> <a id="3332" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="3336" href="Data.Product.Categorical.html#3315" class="Bound">fa</a>

    <a id="3344" href="Data.Product.Categorical.html#3344" class="Function">mapA</a> <a id="3349" class="Symbol">:</a> <a id="3351" class="Symbol">∀</a> <a id="3353" class="Symbol">{</a><a id="3354" href="Data.Product.Categorical.html#3354" class="Bound">A</a> <a id="3356" href="Data.Product.Categorical.html#3356" class="Bound">B</a><a id="3357" class="Symbol">}</a> <a id="3359" class="Symbol">→</a> <a id="3361" class="Symbol">(</a><a id="3362" href="Data.Product.Categorical.html#3354" class="Bound">A</a> <a id="3364" class="Symbol">→</a> <a id="3366" href="Data.Product.Categorical.html#3172" class="Bound">F</a> <a id="3368" href="Data.Product.Categorical.html#3356" class="Bound">B</a><a id="3369" class="Symbol">)</a> <a id="3371" class="Symbol">→</a> <a id="3373" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3382" href="Data.Product.Categorical.html#3354" class="Bound">A</a> <a id="3384" class="Symbol">→</a> <a id="3386" href="Data.Product.Categorical.html#3172" class="Bound">F</a> <a id="3388" class="Symbol">(</a><a id="3389" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3398" href="Data.Product.Categorical.html#3356" class="Bound">B</a><a id="3399" class="Symbol">)</a>
    <a id="3405" href="Data.Product.Categorical.html#3344" class="Function">mapA</a> <a id="3410" href="Data.Product.Categorical.html#3410" class="Bound">f</a> <a id="3412" class="Symbol">=</a> <a id="3414" href="Data.Product.Categorical.html#3248" class="Function">sequenceA</a> <a id="3424" href="Function.html#769" class="Function Operator">∘</a> <a id="3426" href="Data.Product.html#2333" class="Function">map₁</a> <a id="3431" href="Data.Product.Categorical.html#3410" class="Bound">f</a>

    <a id="3438" href="Data.Product.Categorical.html#3438" class="Function">forA</a> <a id="3443" class="Symbol">:</a> <a id="3445" class="Symbol">∀</a> <a id="3447" class="Symbol">{</a><a id="3448" href="Data.Product.Categorical.html#3448" class="Bound">A</a> <a id="3450" href="Data.Product.Categorical.html#3450" class="Bound">B</a><a id="3451" class="Symbol">}</a> <a id="3453" class="Symbol">→</a> <a id="3455" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3464" href="Data.Product.Categorical.html#3448" class="Bound">A</a> <a id="3466" class="Symbol">→</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Data.Product.Categorical.html#3448" class="Bound">A</a> <a id="3471" class="Symbol">→</a> <a id="3473" href="Data.Product.Categorical.html#3172" class="Bound">F</a> <a id="3475" href="Data.Product.Categorical.html#3450" class="Bound">B</a><a id="3476" class="Symbol">)</a> <a id="3478" class="Symbol">→</a> <a id="3480" href="Data.Product.Categorical.html#3172" class="Bound">F</a> <a id="3482" class="Symbol">(</a><a id="3483" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3492" href="Data.Product.Categorical.html#3450" class="Bound">B</a><a id="3493" class="Symbol">)</a>
    <a id="3499" href="Data.Product.Categorical.html#3438" class="Function">forA</a> <a id="3504" class="Symbol">=</a> <a id="3506" href="Function.html#1536" class="Function">flip</a> <a id="3511" href="Data.Product.Categorical.html#3344" class="Function">mapA</a>

  <a id="3519" class="Keyword">module</a> <a id="3526" href="Data.Product.Categorical.html#3526" class="Module">_</a> <a id="3528" class="Symbol">{</a><a id="3529" href="Data.Product.Categorical.html#3529" class="Bound">M</a><a id="3530" class="Symbol">}</a> <a id="3532" class="Symbol">(</a><a id="3533" href="Data.Product.Categorical.html#3533" class="Bound">Mon</a> <a id="3537" class="Symbol">:</a> <a id="3539" href="Category.Monad.html#360" class="Function">RawMonad</a> <a id="3548" class="Symbol">{</a><a id="3549" href="Data.Product.Categorical.html#2439" class="Bound">a</a> <a id="3551" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="3553" href="Data.Product.Categorical.html#2451" class="Bound">b</a><a id="3554" class="Symbol">}</a> <a id="3556" href="Data.Product.Categorical.html#3529" class="Bound">M</a><a id="3557" class="Symbol">)</a> <a id="3559" class="Keyword">where</a>

    <a id="3570" class="Keyword">private</a> <a id="3578" href="Data.Product.Categorical.html#3578" class="Function">App</a> <a id="3582" class="Symbol">=</a> <a id="3584" href="Category.Monad.Indexed.html#1104" class="Function">RawMonad.rawIApplicative</a> <a id="3609" href="Data.Product.Categorical.html#3533" class="Bound">Mon</a>

    <a id="3618" href="Data.Product.Categorical.html#3618" class="Function">sequenceM</a> <a id="3628" class="Symbol">:</a> <a id="3630" class="Symbol">∀</a> <a id="3632" class="Symbol">{</a><a id="3633" href="Data.Product.Categorical.html#3633" class="Bound">A</a><a id="3634" class="Symbol">}</a> <a id="3636" class="Symbol">→</a> <a id="3638" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3647" class="Symbol">(</a><a id="3648" href="Data.Product.Categorical.html#3529" class="Bound">M</a> <a id="3650" href="Data.Product.Categorical.html#3633" class="Bound">A</a><a id="3651" class="Symbol">)</a> <a id="3653" class="Symbol">→</a> <a id="3655" href="Data.Product.Categorical.html#3529" class="Bound">M</a> <a id="3657" class="Symbol">(</a><a id="3658" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3667" href="Data.Product.Categorical.html#3633" class="Bound">A</a><a id="3668" class="Symbol">)</a>
    <a id="3674" href="Data.Product.Categorical.html#3618" class="Function">sequenceM</a> <a id="3684" class="Symbol">=</a> <a id="3686" href="Data.Product.Categorical.html#3248" class="Function">sequenceA</a> <a id="3696" href="Data.Product.Categorical.html#3578" class="Function">App</a>

    <a id="3705" href="Data.Product.Categorical.html#3705" class="Function">mapM</a> <a id="3710" class="Symbol">:</a> <a id="3712" class="Symbol">∀</a> <a id="3714" class="Symbol">{</a><a id="3715" href="Data.Product.Categorical.html#3715" class="Bound">A</a> <a id="3717" href="Data.Product.Categorical.html#3717" class="Bound">B</a><a id="3718" class="Symbol">}</a> <a id="3720" class="Symbol">→</a> <a id="3722" class="Symbol">(</a><a id="3723" href="Data.Product.Categorical.html#3715" class="Bound">A</a> <a id="3725" class="Symbol">→</a> <a id="3727" href="Data.Product.Categorical.html#3529" class="Bound">M</a> <a id="3729" href="Data.Product.Categorical.html#3717" class="Bound">B</a><a id="3730" class="Symbol">)</a> <a id="3732" class="Symbol">→</a> <a id="3734" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3743" href="Data.Product.Categorical.html#3715" class="Bound">A</a> <a id="3745" class="Symbol">→</a> <a id="3747" href="Data.Product.Categorical.html#3529" class="Bound">M</a> <a id="3749" class="Symbol">(</a><a id="3750" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3759" href="Data.Product.Categorical.html#3717" class="Bound">B</a><a id="3760" class="Symbol">)</a>
    <a id="3766" href="Data.Product.Categorical.html#3705" class="Function">mapM</a> <a id="3771" class="Symbol">=</a> <a id="3773" href="Data.Product.Categorical.html#3344" class="Function">mapA</a> <a id="3778" href="Data.Product.Categorical.html#3578" class="Function">App</a>

    <a id="3787" href="Data.Product.Categorical.html#3787" class="Function">forM</a> <a id="3792" class="Symbol">:</a> <a id="3794" class="Symbol">∀</a> <a id="3796" class="Symbol">{</a><a id="3797" href="Data.Product.Categorical.html#3797" class="Bound">A</a> <a id="3799" href="Data.Product.Categorical.html#3799" class="Bound">B</a><a id="3800" class="Symbol">}</a> <a id="3802" class="Symbol">→</a> <a id="3804" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3813" href="Data.Product.Categorical.html#3797" class="Bound">A</a> <a id="3815" class="Symbol">→</a> <a id="3817" class="Symbol">(</a><a id="3818" href="Data.Product.Categorical.html#3797" class="Bound">A</a> <a id="3820" class="Symbol">→</a> <a id="3822" href="Data.Product.Categorical.html#3529" class="Bound">M</a> <a id="3824" href="Data.Product.Categorical.html#3799" class="Bound">B</a><a id="3825" class="Symbol">)</a> <a id="3827" class="Symbol">→</a> <a id="3829" href="Data.Product.Categorical.html#3529" class="Bound">M</a> <a id="3831" class="Symbol">(</a><a id="3832" href="Data.Product.Categorical.html#2519" class="Function">Productᵣ</a> <a id="3841" href="Data.Product.Categorical.html#3799" class="Bound">B</a><a id="3842" class="Symbol">)</a>
    <a id="3848" href="Data.Product.Categorical.html#3787" class="Function">forM</a> <a id="3853" class="Symbol">=</a> <a id="3855" href="Data.Product.Categorical.html#3438" class="Function">forA</a> <a id="3860" href="Data.Product.Categorical.html#3578" class="Function">App</a>

<a id="3865" class="Comment">------------------------------------------------------------------------</a>
<a id="3938" class="Comment">-- Examples</a>

<a id="3951" class="Comment">-- Note that these examples are simple unit tests, because the type</a>
<a id="4019" class="Comment">-- checker verifies them.</a>

<a id="4046" class="Keyword">private</a>
  <a id="4056" class="Keyword">module</a> <a id="Examplesₗ"></a><a id="4063" href="Data.Product.Categorical.html#4063" class="Module">Examplesₗ</a> <a id="4073" class="Symbol">{</a><a id="4074" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="4076" href="Data.Product.Categorical.html#4076" class="Bound">e</a> <a id="4078" href="Data.Product.Categorical.html#4078" class="Bound">b</a><a id="4079" class="Symbol">}</a> <a id="4081" class="Symbol">{</a><a id="4082" href="Data.Product.Categorical.html#4082" class="Bound">A</a> <a id="4084" class="Symbol">:</a> <a id="4086" href="Algebra.html#1413" class="Record">Monoid</a> <a id="4093" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="4095" href="Data.Product.Categorical.html#4076" class="Bound">e</a><a id="4096" class="Symbol">}</a> <a id="4098" class="Symbol">{</a><a id="4099" href="Data.Product.Categorical.html#4099" class="Bound">B</a> <a id="4101" class="Symbol">:</a> <a id="4103" class="PrimitiveType">Set</a> <a id="4107" href="Data.Product.Categorical.html#4078" class="Bound">b</a><a id="4108" class="Symbol">}</a> <a id="4110" class="Keyword">where</a>

    <a id="4121" class="Keyword">open</a> <a id="4126" class="Keyword">import</a> <a id="4133" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>
    <a id="4159" class="Keyword">open</a> <a id="4164" class="Keyword">import</a> <a id="4171" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a>
    <a id="4196" class="Keyword">open</a> <a id="4201" class="Keyword">import</a> <a id="4208" href="Data.Product.Relation.Pointwise.NonDependent.html" class="Module">Data.Product.Relation.Pointwise.NonDependent</a>
    <a id="4257" class="Keyword">open</a> <a id="4262" class="Keyword">import</a> <a id="4269" href="Function.html" class="Module">Function</a>
    <a id="4282" class="Keyword">module</a> <a id="A"></a><a id="4289" href="Data.Product.Categorical.html#4289" class="Module">A</a> <a id="4291" class="Symbol">=</a> <a id="4293" href="Algebra.html#1413" class="Module">Monoid</a> <a id="4300" href="Data.Product.Categorical.html#4082" class="Bound">A</a>
    <a id="4306" class="Keyword">module</a> <a id="Pₗ"></a><a id="4313" href="Data.Product.Categorical.html#4313" class="Module">Pₗ</a> <a id="4316" class="Symbol">=</a> <a id="4318" href="Data.Product.Categorical.html#803" class="Module">Productₗ</a> <a id="4327" href="Algebra.html#1738" class="Function">A.rawMonoid</a> <a id="4339" href="Data.Product.Categorical.html#4078" class="Bound">b</a>

    <a id="Examplesₗ._≈_"></a><a id="4346" href="Data.Product.Categorical.html#4346" class="Function Operator">_≈_</a> <a id="4350" class="Symbol">:</a> <a id="4352" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="4356" class="Symbol">(</a><a id="4357" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="4367" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="4369" href="Level.html#358" class="Record">Lift</a> <a id="4374" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="4376" href="Data.Product.Categorical.html#4099" class="Bound">B</a><a id="4377" class="Symbol">)</a> <a id="4379" class="Symbol">(</a><a id="4380" href="Data.Product.Categorical.html#4076" class="Bound">e</a> <a id="4382" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="4384" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="4386" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="4388" href="Data.Product.Categorical.html#4078" class="Bound">b</a><a id="4389" class="Symbol">)</a>
    <a id="4395" href="Data.Product.Categorical.html#4346" class="Function Operator">_≈_</a> <a id="4399" class="Symbol">=</a> <a id="4401" href="Data.Product.Relation.Pointwise.NonDependent.html#1325" class="Function">Pointwise</a> <a id="4411" href="Algebra.html#1513" class="Function Operator">A._≈_</a> <a id="4417" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a>

    <a id="4426" class="Keyword">open</a> <a id="4431" href="Category.Functor.html#385" class="Module">RawFunctor</a> <a id="4442" href="Data.Product.Categorical.html#962" class="Function">Pₗ.functor</a>

    <a id="4458" class="Comment">-- This type to the right of × needs to be a &quot;lifted&quot; version of (B : Set b)</a>
    <a id="4539" class="Comment">-- that lives in the universe (Set (a ⊔ b)).</a>
    <a id="Examplesₗ.fmapIdₗ"></a><a id="4588" href="Data.Product.Categorical.html#4588" class="Function">fmapIdₗ</a> <a id="4596" class="Symbol">:</a> <a id="4598" class="Symbol">(</a><a id="4599" href="Data.Product.Categorical.html#4599" class="Bound">x</a> <a id="4601" class="Symbol">:</a> <a id="4603" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="4613" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="4615" href="Level.html#358" class="Record">Lift</a> <a id="4620" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="4622" href="Data.Product.Categorical.html#4099" class="Bound">B</a><a id="4623" class="Symbol">)</a> <a id="4625" class="Symbol">→</a> <a id="4627" class="Symbol">(</a><a id="4628" href="Function.html#1068" class="Function">id</a> <a id="4631" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="4635" href="Data.Product.Categorical.html#4599" class="Bound">x</a><a id="4636" class="Symbol">)</a> <a id="4638" href="Data.Product.Categorical.html#4346" class="Function Operator">≈</a> <a id="4640" href="Data.Product.Categorical.html#4599" class="Bound">x</a>
    <a id="4646" href="Data.Product.Categorical.html#4588" class="Function">fmapIdₗ</a> <a id="4654" href="Data.Product.Categorical.html#4654" class="Bound">x</a> <a id="4656" class="Symbol">=</a> <a id="4658" href="Relation.Binary.Core.html#5287" class="Function">A.refl</a> <a id="4665" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4667" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

    <a id="4677" class="Keyword">open</a> <a id="4682" href="Category.Monad.html#652" class="Module">RawMonad</a>   <a id="4693" href="Data.Product.Categorical.html#1453" class="Function">Pₗ.monad</a>

    <a id="4707" class="Comment">-- Now, let&#39;s show that &quot;return&quot; is a unit for &gt;&gt;=. We use Lift in exactly</a>
    <a id="4786" class="Comment">-- the same way as above. The data (x : B) then needs to be &quot;lifted&quot; to</a>
    <a id="4862" class="Comment">-- this new type (Lift B).</a>
    <a id="Examplesₗ.returnUnitL"></a><a id="4893" href="Data.Product.Categorical.html#4893" class="Function">returnUnitL</a> <a id="4905" class="Symbol">:</a> <a id="4907" class="Symbol">∀</a> <a id="4909" class="Symbol">{</a><a id="4910" href="Data.Product.Categorical.html#4910" class="Bound">x</a> <a id="4912" class="Symbol">:</a> <a id="4914" href="Data.Product.Categorical.html#4099" class="Bound">B</a><a id="4915" class="Symbol">}</a> <a id="4917" class="Symbol">{</a><a id="4918" href="Data.Product.Categorical.html#4918" class="Bound">f</a> <a id="4920" class="Symbol">:</a> <a id="4922" href="Level.html#358" class="Record">Lift</a> <a id="4927" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="4929" href="Data.Product.Categorical.html#4099" class="Bound">B</a> <a id="4931" class="Symbol">→</a> <a id="4933" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="4943" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="4945" href="Level.html#358" class="Record">Lift</a> <a id="4950" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="4952" href="Data.Product.Categorical.html#4099" class="Bound">B</a><a id="4953" class="Symbol">}</a>
                  <a id="4973" class="Symbol">→</a> <a id="4975" class="Symbol">((</a><a id="4977" href="Category.Monad.Indexed.html#533" class="Function">return</a> <a id="4984" class="Symbol">(</a><a id="4985" href="Level.html#415" class="InductiveConstructor">lift</a> <a id="4990" href="Data.Product.Categorical.html#4910" class="Bound">x</a><a id="4991" class="Symbol">))</a> <a id="4994" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="4998" href="Data.Product.Categorical.html#4918" class="Bound">f</a><a id="4999" class="Symbol">)</a> <a id="5001" href="Data.Product.Categorical.html#4346" class="Function Operator">≈</a> <a id="5003" href="Data.Product.Categorical.html#4918" class="Bound">f</a> <a id="5005" class="Symbol">(</a><a id="5006" href="Level.html#415" class="InductiveConstructor">lift</a> <a id="5011" href="Data.Product.Categorical.html#4910" class="Bound">x</a><a id="5012" class="Symbol">)</a>
    <a id="5018" href="Data.Product.Categorical.html#4893" class="Function">returnUnitL</a> <a id="5030" class="Symbol">=</a> <a id="5032" href="Algebra.Structures.html#1462" class="Function">A.identityˡ</a> <a id="5044" class="Symbol">_</a> <a id="5046" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5048" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

    <a id="Examplesₗ.returnUnitR"></a><a id="5058" href="Data.Product.Categorical.html#5058" class="Function">returnUnitR</a> <a id="5070" class="Symbol">:</a> <a id="5072" class="Symbol">{</a><a id="5073" href="Data.Product.Categorical.html#5073" class="Bound">x</a> <a id="5075" class="Symbol">:</a> <a id="5077" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="5087" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="5089" href="Level.html#358" class="Record">Lift</a> <a id="5094" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="5096" href="Data.Product.Categorical.html#4099" class="Bound">B</a><a id="5097" class="Symbol">}</a> <a id="5099" class="Symbol">→</a> <a id="5101" class="Symbol">(</a><a id="5102" href="Data.Product.Categorical.html#5073" class="Bound">x</a> <a id="5104" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5108" href="Category.Monad.Indexed.html#533" class="Function">return</a><a id="5114" class="Symbol">)</a> <a id="5116" href="Data.Product.Categorical.html#4346" class="Function Operator">≈</a> <a id="5118" href="Data.Product.Categorical.html#5073" class="Bound">x</a>
    <a id="5124" href="Data.Product.Categorical.html#5058" class="Function">returnUnitR</a> <a id="5136" class="Symbol">=</a> <a id="5138" href="Algebra.Structures.html#1523" class="Function">A.identityʳ</a> <a id="5150" class="Symbol">_</a> <a id="5152" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5154" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

    <a id="5164" class="Comment">-- And another (limited version of a) monad law...</a>
    <a id="Examplesₗ.bindCompose"></a><a id="5219" href="Data.Product.Categorical.html#5219" class="Function">bindCompose</a> <a id="5231" class="Symbol">:</a> <a id="5233" class="Symbol">∀</a> <a id="5235" class="Symbol">{</a><a id="5236" href="Data.Product.Categorical.html#5236" class="Bound">f</a> <a id="5238" href="Data.Product.Categorical.html#5238" class="Bound">g</a> <a id="5240" class="Symbol">:</a> <a id="5242" href="Level.html#358" class="Record">Lift</a> <a id="5247" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="5249" href="Data.Product.Categorical.html#4099" class="Bound">B</a> <a id="5251" class="Symbol">→</a> <a id="5253" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="5263" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="5265" href="Level.html#358" class="Record">Lift</a> <a id="5270" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="5272" href="Data.Product.Categorical.html#4099" class="Bound">B</a><a id="5273" class="Symbol">}</a>
                <a id="5291" class="Symbol">→</a> <a id="5293" class="Symbol">{</a><a id="5294" href="Data.Product.Categorical.html#5294" class="Bound">x</a> <a id="5296" class="Symbol">:</a> <a id="5298" href="Algebra.html#1492" class="Function">A.Carrier</a> <a id="5308" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="5310" href="Level.html#358" class="Record">Lift</a> <a id="5315" href="Data.Product.Categorical.html#4074" class="Bound">a</a> <a id="5317" href="Data.Product.Categorical.html#4099" class="Bound">B</a><a id="5318" class="Symbol">}</a>
                <a id="5336" class="Symbol">→</a> <a id="5338" class="Symbol">((</a><a id="5340" href="Data.Product.Categorical.html#5294" class="Bound">x</a> <a id="5342" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5346" href="Data.Product.Categorical.html#5236" class="Bound">f</a><a id="5347" class="Symbol">)</a> <a id="5349" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5353" href="Data.Product.Categorical.html#5238" class="Bound">g</a><a id="5354" class="Symbol">)</a> <a id="5356" href="Data.Product.Categorical.html#4346" class="Function Operator">≈</a> <a id="5358" class="Symbol">(</a><a id="5359" href="Data.Product.Categorical.html#5294" class="Bound">x</a> <a id="5361" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5365" class="Symbol">(λ</a> <a id="5368" href="Data.Product.Categorical.html#5368" class="Bound">y</a> <a id="5370" class="Symbol">→</a> <a id="5372" class="Symbol">(</a><a id="5373" href="Data.Product.Categorical.html#5236" class="Bound">f</a> <a id="5375" href="Data.Product.Categorical.html#5368" class="Bound">y</a> <a id="5377" href="Category.Monad.Indexed.html#568" class="Function Operator">&gt;&gt;=</a> <a id="5381" href="Data.Product.Categorical.html#5238" class="Bound">g</a><a id="5382" class="Symbol">)))</a>
    <a id="5390" href="Data.Product.Categorical.html#5219" class="Function">bindCompose</a> <a id="5402" class="Symbol">=</a> <a id="5404" href="Algebra.Structures.html#838" class="Function">A.assoc</a> <a id="5412" class="Symbol">_</a> <a id="5414" class="Symbol">_</a> <a id="5416" class="Symbol">_</a> <a id="5418" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5420" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
</pre></body></html>