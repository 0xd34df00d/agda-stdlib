<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.AVL.Indexed</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Indexed AVL trees</a>
<a id="127" class="Comment">------------------------------------------------------------------------</a>

<a id="201" class="Symbol">{-#</a> <a id="205" class="Keyword">OPTIONS</a> <a id="213" class="Option">--without-K</a> <a id="225" class="Option">--safe</a> <a id="232" class="Symbol">#-}</a>

<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="265" class="Keyword">open</a> <a id="270" class="Keyword">import</a> <a id="277" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="315" class="Symbol">as</a> <a id="318" class="Module">P</a> <a id="320" class="Keyword">using</a> <a id="326" class="Symbol">(</a><a id="327" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a> <a id="331" class="Symbol">;</a> <a id="333" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="337" class="Symbol">)</a>

<a id="340" class="Keyword">module</a> <a id="347" href="Data.AVL.Indexed.html" class="Module">Data.AVL.Indexed</a>
       <a id="371" class="Symbol">{</a><a id="372" href="Data.AVL.Indexed.html#372" class="Bound">k</a> <a id="374" href="Data.AVL.Indexed.html#374" class="Bound">r</a><a id="375" class="Symbol">}</a> <a id="377" class="Symbol">(</a><a id="378" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="382" class="Symbol">:</a> <a id="384" class="PrimitiveType">Set</a> <a id="388" href="Data.AVL.Indexed.html#372" class="Bound">k</a><a id="389" class="Symbol">)</a> <a id="391" class="Symbol">{</a><a id="392" href="Data.AVL.Indexed.html#392" class="Bound Operator">_&lt;_</a> <a id="396" class="Symbol">:</a> <a id="398" href="Relation.Binary.Core.html#976" class="Function">Rel</a> <a id="402" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="406" href="Data.AVL.Indexed.html#374" class="Bound">r</a><a id="407" class="Symbol">}</a>
       <a id="416" class="Symbol">(</a><a id="417" href="Data.AVL.Indexed.html#417" class="Bound">isStrictTotalOrder</a> <a id="436" class="Symbol">:</a> <a id="438" href="Relation.Binary.html#10265" class="Record">IsStrictTotalOrder</a> <a id="457" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a> <a id="461" href="Data.AVL.Indexed.html#392" class="Bound Operator">_&lt;_</a><a id="464" class="Symbol">)</a> <a id="466" class="Keyword">where</a>

<a id="473" class="Keyword">open</a> <a id="478" class="Keyword">import</a> <a id="485" href="Level.html" class="Module">Level</a> <a id="491" class="Keyword">using</a> <a id="497" class="Symbol">(</a><a id="498" href="Agda.Primitive.html#657" class="Primitive Operator">_⊔_</a><a id="501" class="Symbol">)</a> <a id="503" class="Comment">-- ; Lift; lift)</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="546" class="Keyword">hiding</a> <a id="553" class="Symbol">(</a><a id="554" href="Data.Nat.Base.html#991" class="Function Operator">_&lt;_</a><a id="557" class="Symbol">;</a> <a id="559" href="Data.Nat.Base.html#1585" class="Function Operator">_⊔_</a><a id="562" class="Symbol">;</a> <a id="564" href="Data.Nat.Base.html#3284" class="Function">compare</a><a id="571" class="Symbol">)</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Data.Product.html" class="Module">Data.Product</a> <a id="598" class="Keyword">hiding</a> <a id="605" class="Symbol">(</a><a id="606" href="Data.Product.html#2190" class="Function">map</a><a id="609" class="Symbol">)</a>
<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="634" class="Keyword">hiding</a> <a id="641" class="Symbol">(</a><a id="642" href="Data.Maybe.Base.html#2139" class="Function">map</a><a id="645" class="Symbol">)</a>
<a id="647" class="Keyword">import</a> <a id="654" href="Data.DifferenceList.html" class="Module">Data.DifferenceList</a> <a id="674" class="Symbol">as</a> <a id="677" class="Module">DiffList</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Function.html" class="Module">Function</a>

<a id="708" class="Keyword">open</a> <a id="713" href="Relation.Binary.html#10265" class="Module">IsStrictTotalOrder</a> <a id="732" href="Data.AVL.Indexed.html#417" class="Bound">isStrictTotalOrder</a>
<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Data.AVL.Key.html" class="Module">Data.AVL.Key</a> <a id="776" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="780" href="Data.AVL.Indexed.html#417" class="Bound">isStrictTotalOrder</a> <a id="799" class="Keyword">public</a>
<a id="806" class="Keyword">open</a> <a id="811" class="Keyword">import</a> <a id="818" href="Data.AVL.Height.html" class="Module">Data.AVL.Height</a> <a id="834" class="Keyword">public</a>

<a id="K&amp;_"></a><a id="842" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;_</a> <a id="846" class="Symbol">:</a> <a id="848" class="Symbol">∀</a> <a id="850" class="Symbol">{</a><a id="851" href="Data.AVL.Indexed.html#851" class="Bound">v</a><a id="852" class="Symbol">}</a> <a id="854" class="Symbol">(</a><a id="855" href="Data.AVL.Indexed.html#855" class="Bound">Value</a> <a id="861" class="Symbol">:</a> <a id="863" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="867" class="Symbol">→</a> <a id="869" class="PrimitiveType">Set</a> <a id="873" href="Data.AVL.Indexed.html#851" class="Bound">v</a><a id="874" class="Symbol">)</a> <a id="876" class="Symbol">→</a> <a id="878" class="PrimitiveType">Set</a> <a id="882" class="Symbol">(</a><a id="883" href="Data.AVL.Indexed.html#372" class="Bound">k</a> <a id="885" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="887" href="Data.AVL.Indexed.html#851" class="Bound">v</a><a id="888" class="Symbol">)</a>
<a id="890" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="893" href="Data.AVL.Indexed.html#893" class="Bound">Value</a> <a id="899" class="Symbol">=</a> <a id="901" href="Agda.Builtin.Sigma.html#69" class="Record">Σ</a> <a id="903" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="907" href="Data.AVL.Indexed.html#893" class="Bound">Value</a>

<a id="914" class="Comment">-- The trees have three parameters/indices: a lower bound on the</a>
<a id="979" class="Comment">-- keys, an upper bound, and a height.</a>
<a id="1018" class="Comment">--</a>
<a id="1021" class="Comment">-- (The bal argument is the balance factor.)</a>

<a id="1067" class="Keyword">data</a> <a id="Tree"></a><a id="1072" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1077" class="Symbol">{</a><a id="1078" href="Data.AVL.Indexed.html#1078" class="Bound">v</a><a id="1079" class="Symbol">}</a> <a id="1081" class="Symbol">(</a><a id="1082" href="Data.AVL.Indexed.html#1082" class="Bound">V</a> <a id="1084" class="Symbol">:</a> <a id="1086" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="1090" class="Symbol">→</a> <a id="1092" class="PrimitiveType">Set</a> <a id="1096" href="Data.AVL.Indexed.html#1078" class="Bound">v</a><a id="1097" class="Symbol">)</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Data.AVL.Indexed.html#1100" class="Bound">l</a> <a id="1102" href="Data.AVL.Indexed.html#1102" class="Bound">u</a> <a id="1104" class="Symbol">:</a> <a id="1106" href="Data.AVL.Key.html#691" class="Datatype">Key⁺</a><a id="1110" class="Symbol">)</a> <a id="1112" class="Symbol">:</a> <a id="1114" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="1116" class="Symbol">→</a> <a id="1118" class="PrimitiveType">Set</a> <a id="1122" class="Symbol">(</a><a id="1123" href="Data.AVL.Indexed.html#372" class="Bound">k</a> <a id="1125" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1127" href="Data.AVL.Indexed.html#1078" class="Bound">v</a> <a id="1129" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1131" href="Data.AVL.Indexed.html#374" class="Bound">r</a><a id="1132" class="Symbol">)</a> <a id="1134" class="Keyword">where</a>
  <a id="Tree.leaf"></a><a id="1142" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="1147" class="Symbol">:</a> <a id="1149" class="Symbol">(</a><a id="1150" href="Data.AVL.Indexed.html#1150" class="Bound">l&lt;u</a> <a id="1154" class="Symbol">:</a> <a id="1156" href="Data.AVL.Indexed.html#1100" class="Bound">l</a> <a id="1158" href="Data.AVL.Key.html#884" class="Function Operator">&lt;⁺</a> <a id="1161" href="Data.AVL.Indexed.html#1102" class="Bound">u</a><a id="1162" class="Symbol">)</a> <a id="1164" class="Symbol">→</a> <a id="1166" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1171" href="Data.AVL.Indexed.html#1082" class="Bound">V</a> <a id="1173" href="Data.AVL.Indexed.html#1100" class="Bound">l</a> <a id="1175" href="Data.AVL.Indexed.html#1102" class="Bound">u</a> <a id="1177" class="Number">0</a>
  <a id="Tree.node"></a><a id="1181" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="1186" class="Symbol">:</a> <a id="1188" class="Symbol">∀</a> <a id="1190" class="Symbol">{</a><a id="1191" href="Data.AVL.Indexed.html#1191" class="Bound">hˡ</a> <a id="1194" href="Data.AVL.Indexed.html#1194" class="Bound">hʳ</a> <a id="1197" href="Data.AVL.Indexed.html#1197" class="Bound">h</a><a id="1198" class="Symbol">}</a>
         <a id="1209" class="Symbol">(</a><a id="1210" href="Data.AVL.Indexed.html#1210" class="Bound">k</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="1217" href="Data.AVL.Indexed.html#1082" class="Bound">V</a><a id="1218" class="Symbol">)</a>
         <a id="1229" class="Symbol">(</a><a id="1230" href="Data.AVL.Indexed.html#1230" class="Bound">lk</a> <a id="1233" class="Symbol">:</a> <a id="1235" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1240" href="Data.AVL.Indexed.html#1082" class="Bound">V</a> <a id="1242" href="Data.AVL.Indexed.html#1100" class="Bound">l</a> <a id="1244" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="1246" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="1252" href="Data.AVL.Indexed.html#1210" class="Bound">k</a> <a id="1254" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="1256" href="Data.AVL.Indexed.html#1191" class="Bound">hˡ</a><a id="1258" class="Symbol">)</a>
         <a id="1269" class="Symbol">(</a><a id="1270" href="Data.AVL.Indexed.html#1270" class="Bound">ku</a> <a id="1273" class="Symbol">:</a> <a id="1275" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1280" href="Data.AVL.Indexed.html#1082" class="Bound">V</a> <a id="1282" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="1284" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="1290" href="Data.AVL.Indexed.html#1210" class="Bound">k</a> <a id="1292" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="1294" href="Data.AVL.Indexed.html#1102" class="Bound">u</a> <a id="1296" href="Data.AVL.Indexed.html#1194" class="Bound">hʳ</a><a id="1298" class="Symbol">)</a>
         <a id="1309" class="Symbol">(</a><a id="1310" href="Data.AVL.Indexed.html#1310" class="Bound">bal</a> <a id="1314" class="Symbol">:</a> <a id="1316" href="Data.AVL.Indexed.html#1191" class="Bound">hˡ</a> <a id="1319" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="1321" href="Data.AVL.Indexed.html#1194" class="Bound">hʳ</a> <a id="1324" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="1326" href="Data.AVL.Indexed.html#1197" class="Bound">h</a><a id="1327" class="Symbol">)</a> <a id="1329" class="Symbol">→</a>
         <a id="1340" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1345" href="Data.AVL.Indexed.html#1082" class="Bound">V</a> <a id="1347" href="Data.AVL.Indexed.html#1100" class="Bound">l</a> <a id="1349" href="Data.AVL.Indexed.html#1102" class="Bound">u</a> <a id="1351" class="Symbol">(</a><a id="1352" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="1356" href="Data.AVL.Indexed.html#1197" class="Bound">h</a><a id="1357" class="Symbol">)</a>

<a id="1360" class="Keyword">module</a> <a id="1367" href="Data.AVL.Indexed.html#1367" class="Module">_</a> <a id="1369" class="Symbol">{</a><a id="1370" href="Data.AVL.Indexed.html#1370" class="Bound">v</a><a id="1371" class="Symbol">}</a> <a id="1373" class="Symbol">{</a><a id="1374" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="1376" class="Symbol">:</a> <a id="1378" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="1382" class="Symbol">→</a> <a id="1384" class="PrimitiveType">Set</a> <a id="1388" href="Data.AVL.Indexed.html#1370" class="Bound">v</a><a id="1389" class="Symbol">}</a> <a id="1391" class="Keyword">where</a>

  <a id="1400" href="Data.AVL.Indexed.html#1400" class="Function">leaf-injective</a> <a id="1415" class="Symbol">:</a> <a id="1417" class="Symbol">∀</a> <a id="1419" class="Symbol">{</a><a id="1420" href="Data.AVL.Indexed.html#1420" class="Bound">l</a> <a id="1422" href="Data.AVL.Indexed.html#1422" class="Bound">u</a><a id="1423" class="Symbol">}</a> <a id="1425" class="Symbol">{</a><a id="1426" href="Data.AVL.Indexed.html#1426" class="Bound">p</a> <a id="1428" href="Data.AVL.Indexed.html#1428" class="Bound">q</a> <a id="1430" class="Symbol">:</a> <a id="1432" href="Data.AVL.Indexed.html#1420" class="Bound">l</a> <a id="1434" href="Data.AVL.Key.html#884" class="Function Operator">&lt;⁺</a> <a id="1437" href="Data.AVL.Indexed.html#1422" class="Bound">u</a><a id="1438" class="Symbol">}</a> <a id="1440" class="Symbol">→</a> <a id="1442" class="Symbol">(</a><a id="1443" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1448" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="1450" href="Data.AVL.Indexed.html#1420" class="Bound">l</a> <a id="1452" href="Data.AVL.Indexed.html#1422" class="Bound">u</a> <a id="1454" class="Number">0</a> <a id="1456" href="Function.html#3097" class="Function Operator">∋</a> <a id="1458" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="1463" href="Data.AVL.Indexed.html#1426" class="Bound">p</a><a id="1464" class="Symbol">)</a> <a id="1466" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1468" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="1473" href="Data.AVL.Indexed.html#1428" class="Bound">q</a> <a id="1475" class="Symbol">→</a> <a id="1477" href="Data.AVL.Indexed.html#1426" class="Bound">p</a> <a id="1479" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1481" href="Data.AVL.Indexed.html#1428" class="Bound">q</a>
  <a id="1485" href="Data.AVL.Indexed.html#1400" class="Function">leaf-injective</a> <a id="1500" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1505" class="Symbol">=</a> <a id="1507" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="1515" href="Data.AVL.Indexed.html#1515" class="Function">node-injective-key</a> <a id="1534" class="Symbol">:</a>
    <a id="1540" class="Symbol">∀</a> <a id="1542" class="Symbol">{</a><a id="1543" href="Data.AVL.Indexed.html#1543" class="Bound">hˡ₁</a> <a id="1547" href="Data.AVL.Indexed.html#1547" class="Bound">hˡ₂</a> <a id="1551" href="Data.AVL.Indexed.html#1551" class="Bound">hʳ₁</a> <a id="1555" href="Data.AVL.Indexed.html#1555" class="Bound">hʳ₂</a> <a id="1559" href="Data.AVL.Indexed.html#1559" class="Bound">h</a> <a id="1561" href="Data.AVL.Indexed.html#1561" class="Bound">l</a> <a id="1563" href="Data.AVL.Indexed.html#1563" class="Bound">u</a> <a id="1565" href="Data.AVL.Indexed.html#1565" class="Bound">k₁</a> <a id="1568" href="Data.AVL.Indexed.html#1568" class="Bound">k₂</a><a id="1570" class="Symbol">}</a>
      <a id="1578" class="Symbol">{</a><a id="1579" href="Data.AVL.Indexed.html#1579" class="Bound">lk₁</a> <a id="1583" class="Symbol">:</a> <a id="1585" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1590" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="1592" href="Data.AVL.Indexed.html#1561" class="Bound">l</a> <a id="1594" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="1596" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="1602" href="Data.AVL.Indexed.html#1565" class="Bound">k₁</a> <a id="1605" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="1607" href="Data.AVL.Indexed.html#1543" class="Bound">hˡ₁</a><a id="1610" class="Symbol">}</a> <a id="1612" class="Symbol">{</a><a id="1613" href="Data.AVL.Indexed.html#1613" class="Bound">lk₂</a> <a id="1617" class="Symbol">:</a> <a id="1619" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1624" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="1626" href="Data.AVL.Indexed.html#1561" class="Bound">l</a> <a id="1628" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="1630" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="1636" href="Data.AVL.Indexed.html#1568" class="Bound">k₂</a> <a id="1639" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="1641" href="Data.AVL.Indexed.html#1547" class="Bound">hˡ₂</a><a id="1644" class="Symbol">}</a>
      <a id="1652" class="Symbol">{</a><a id="1653" href="Data.AVL.Indexed.html#1653" class="Bound">ku₁</a> <a id="1657" class="Symbol">:</a> <a id="1659" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1664" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="1666" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="1668" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="1674" href="Data.AVL.Indexed.html#1565" class="Bound">k₁</a> <a id="1677" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="1679" href="Data.AVL.Indexed.html#1563" class="Bound">u</a> <a id="1681" href="Data.AVL.Indexed.html#1551" class="Bound">hʳ₁</a><a id="1684" class="Symbol">}</a> <a id="1686" class="Symbol">{</a><a id="1687" href="Data.AVL.Indexed.html#1687" class="Bound">ku₂</a> <a id="1691" class="Symbol">:</a> <a id="1693" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="1698" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="1700" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="1702" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="1708" href="Data.AVL.Indexed.html#1568" class="Bound">k₂</a> <a id="1711" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="1713" href="Data.AVL.Indexed.html#1563" class="Bound">u</a> <a id="1715" href="Data.AVL.Indexed.html#1555" class="Bound">hʳ₂</a><a id="1718" class="Symbol">}</a>
      <a id="1726" class="Symbol">{</a><a id="1727" href="Data.AVL.Indexed.html#1727" class="Bound">bal₁</a> <a id="1732" class="Symbol">:</a> <a id="1734" href="Data.AVL.Indexed.html#1543" class="Bound">hˡ₁</a> <a id="1738" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="1740" href="Data.AVL.Indexed.html#1551" class="Bound">hʳ₁</a> <a id="1744" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="1746" href="Data.AVL.Indexed.html#1559" class="Bound">h</a><a id="1747" class="Symbol">}</a> <a id="1749" class="Symbol">{</a><a id="1750" href="Data.AVL.Indexed.html#1750" class="Bound">bal₂</a> <a id="1755" class="Symbol">:</a> <a id="1757" href="Data.AVL.Indexed.html#1547" class="Bound">hˡ₂</a> <a id="1761" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="1763" href="Data.AVL.Indexed.html#1555" class="Bound">hʳ₂</a> <a id="1767" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="1769" href="Data.AVL.Indexed.html#1559" class="Bound">h</a><a id="1770" class="Symbol">}</a> <a id="1772" class="Symbol">→</a>
    <a id="1778" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="1783" href="Data.AVL.Indexed.html#1565" class="Bound">k₁</a> <a id="1786" href="Data.AVL.Indexed.html#1579" class="Bound">lk₁</a> <a id="1790" href="Data.AVL.Indexed.html#1653" class="Bound">ku₁</a> <a id="1794" href="Data.AVL.Indexed.html#1727" class="Bound">bal₁</a> <a id="1799" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1801" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="1806" href="Data.AVL.Indexed.html#1568" class="Bound">k₂</a> <a id="1809" href="Data.AVL.Indexed.html#1613" class="Bound">lk₂</a> <a id="1813" href="Data.AVL.Indexed.html#1687" class="Bound">ku₂</a> <a id="1817" href="Data.AVL.Indexed.html#1750" class="Bound">bal₂</a> <a id="1822" class="Symbol">→</a> <a id="1824" href="Data.AVL.Indexed.html#1565" class="Bound">k₁</a> <a id="1827" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1829" href="Data.AVL.Indexed.html#1568" class="Bound">k₂</a>
  <a id="1834" href="Data.AVL.Indexed.html#1515" class="Function">node-injective-key</a> <a id="1853" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1858" class="Symbol">=</a> <a id="1860" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="1868" class="Comment">-- See also node-injectiveˡ, node-injectiveʳ, and node-injective-bal</a>
  <a id="1939" class="Comment">-- in Data.AVL.Indexed.WithK.</a>

  <a id="1972" class="Comment">-- Cast operations. Logarithmic in the size of the tree, if we don&#39;t</a>
  <a id="2043" class="Comment">-- count the time needed to construct the new proofs in the leaf</a>
  <a id="2110" class="Comment">-- cases. (The same kind of caveat applies to other operations</a>
  <a id="2175" class="Comment">-- below.)</a>
  <a id="2188" class="Comment">--</a>
  <a id="2193" class="Comment">-- Perhaps it would be worthwhile changing the data structure so</a>
  <a id="2260" class="Comment">-- that the casts could be implemented in constant time (excluding</a>
  <a id="2329" class="Comment">-- proof manipulation). However, note that this would not change the</a>
  <a id="2400" class="Comment">-- worst-case time complexity of the operations below (up to Θ).</a>

  <a id="2468" href="Data.AVL.Indexed.html#2468" class="Function">castˡ</a> <a id="2474" class="Symbol">:</a> <a id="2476" class="Symbol">∀</a> <a id="2478" class="Symbol">{</a><a id="2479" href="Data.AVL.Indexed.html#2479" class="Bound">l</a> <a id="2481" href="Data.AVL.Indexed.html#2481" class="Bound">m</a> <a id="2483" href="Data.AVL.Indexed.html#2483" class="Bound">u</a> <a id="2485" href="Data.AVL.Indexed.html#2485" class="Bound">h</a><a id="2486" class="Symbol">}</a> <a id="2488" class="Symbol">→</a> <a id="2490" href="Data.AVL.Indexed.html#2479" class="Bound">l</a> <a id="2492" href="Data.AVL.Key.html#884" class="Function Operator">&lt;⁺</a> <a id="2495" href="Data.AVL.Indexed.html#2481" class="Bound">m</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="2504" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="2506" href="Data.AVL.Indexed.html#2481" class="Bound">m</a> <a id="2508" href="Data.AVL.Indexed.html#2483" class="Bound">u</a> <a id="2510" href="Data.AVL.Indexed.html#2485" class="Bound">h</a> <a id="2512" class="Symbol">→</a> <a id="2514" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="2519" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="2521" href="Data.AVL.Indexed.html#2479" class="Bound">l</a> <a id="2523" href="Data.AVL.Indexed.html#2483" class="Bound">u</a> <a id="2525" href="Data.AVL.Indexed.html#2485" class="Bound">h</a>
  <a id="2529" href="Data.AVL.Indexed.html#2468" class="Function">castˡ</a> <a id="2535" class="Symbol">{</a><a id="2536" href="Data.AVL.Indexed.html#2536" class="Bound">l</a><a id="2537" class="Symbol">}</a> <a id="2539" href="Data.AVL.Indexed.html#2539" class="Bound">l&lt;m</a> <a id="2543" class="Symbol">(</a><a id="2544" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="2549" href="Data.AVL.Indexed.html#2549" class="Bound">m&lt;u</a><a id="2552" class="Symbol">)</a>         <a id="2562" class="Symbol">=</a> <a id="2564" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="2569" class="Symbol">(</a><a id="2570" href="Data.AVL.Key.html#1185" class="Function">trans⁺</a> <a id="2577" href="Data.AVL.Indexed.html#2536" class="Bound">l</a> <a id="2579" href="Data.AVL.Indexed.html#2539" class="Bound">l&lt;m</a> <a id="2583" href="Data.AVL.Indexed.html#2549" class="Bound">m&lt;u</a><a id="2586" class="Symbol">)</a>
  <a id="2590" href="Data.AVL.Indexed.html#2468" class="Function">castˡ</a>     <a id="2600" href="Data.AVL.Indexed.html#2600" class="Bound">l&lt;m</a> <a id="2604" class="Symbol">(</a><a id="2605" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="2610" href="Data.AVL.Indexed.html#2610" class="Bound">k</a> <a id="2612" href="Data.AVL.Indexed.html#2612" class="Bound">mk</a> <a id="2615" href="Data.AVL.Indexed.html#2615" class="Bound">ku</a> <a id="2618" href="Data.AVL.Indexed.html#2618" class="Bound">bal</a><a id="2621" class="Symbol">)</a> <a id="2623" class="Symbol">=</a> <a id="2625" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="2630" href="Data.AVL.Indexed.html#2610" class="Bound">k</a> <a id="2632" class="Symbol">(</a><a id="2633" href="Data.AVL.Indexed.html#2468" class="Function">castˡ</a> <a id="2639" href="Data.AVL.Indexed.html#2600" class="Bound">l&lt;m</a> <a id="2643" href="Data.AVL.Indexed.html#2612" class="Bound">mk</a><a id="2645" class="Symbol">)</a> <a id="2647" href="Data.AVL.Indexed.html#2615" class="Bound">ku</a> <a id="2650" href="Data.AVL.Indexed.html#2618" class="Bound">bal</a>

  <a id="2657" href="Data.AVL.Indexed.html#2657" class="Function">castʳ</a> <a id="2663" class="Symbol">:</a> <a id="2665" class="Symbol">∀</a> <a id="2667" class="Symbol">{</a><a id="2668" href="Data.AVL.Indexed.html#2668" class="Bound">l</a> <a id="2670" href="Data.AVL.Indexed.html#2670" class="Bound">m</a> <a id="2672" href="Data.AVL.Indexed.html#2672" class="Bound">u</a> <a id="2674" href="Data.AVL.Indexed.html#2674" class="Bound">h</a><a id="2675" class="Symbol">}</a> <a id="2677" class="Symbol">→</a> <a id="2679" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="2684" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="2686" href="Data.AVL.Indexed.html#2668" class="Bound">l</a> <a id="2688" href="Data.AVL.Indexed.html#2670" class="Bound">m</a> <a id="2690" href="Data.AVL.Indexed.html#2674" class="Bound">h</a> <a id="2692" class="Symbol">→</a> <a id="2694" href="Data.AVL.Indexed.html#2670" class="Bound">m</a> <a id="2696" href="Data.AVL.Key.html#884" class="Function Operator">&lt;⁺</a> <a id="2699" href="Data.AVL.Indexed.html#2672" class="Bound">u</a> <a id="2701" class="Symbol">→</a> <a id="2703" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="2708" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="2710" href="Data.AVL.Indexed.html#2668" class="Bound">l</a> <a id="2712" href="Data.AVL.Indexed.html#2672" class="Bound">u</a> <a id="2714" href="Data.AVL.Indexed.html#2674" class="Bound">h</a>
  <a id="2718" href="Data.AVL.Indexed.html#2657" class="Function">castʳ</a> <a id="2724" class="Symbol">{</a><a id="2725" href="Data.AVL.Indexed.html#2725" class="Bound">l</a><a id="2726" class="Symbol">}</a> <a id="2728" class="Symbol">(</a><a id="2729" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="2734" href="Data.AVL.Indexed.html#2734" class="Bound">l&lt;m</a><a id="2737" class="Symbol">)</a>         <a id="2747" href="Data.AVL.Indexed.html#2747" class="Bound">m&lt;u</a> <a id="2751" class="Symbol">=</a> <a id="2753" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="2758" class="Symbol">(</a><a id="2759" href="Data.AVL.Key.html#1185" class="Function">trans⁺</a> <a id="2766" href="Data.AVL.Indexed.html#2725" class="Bound">l</a> <a id="2768" href="Data.AVL.Indexed.html#2734" class="Bound">l&lt;m</a> <a id="2772" href="Data.AVL.Indexed.html#2747" class="Bound">m&lt;u</a><a id="2775" class="Symbol">)</a>
  <a id="2779" href="Data.AVL.Indexed.html#2657" class="Function">castʳ</a>     <a id="2789" class="Symbol">(</a><a id="2790" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="2795" href="Data.AVL.Indexed.html#2795" class="Bound">k</a> <a id="2797" href="Data.AVL.Indexed.html#2797" class="Bound">lk</a> <a id="2800" href="Data.AVL.Indexed.html#2800" class="Bound">km</a> <a id="2803" href="Data.AVL.Indexed.html#2803" class="Bound">bal</a><a id="2806" class="Symbol">)</a> <a id="2808" href="Data.AVL.Indexed.html#2808" class="Bound">m&lt;u</a> <a id="2812" class="Symbol">=</a> <a id="2814" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="2819" href="Data.AVL.Indexed.html#2795" class="Bound">k</a> <a id="2821" href="Data.AVL.Indexed.html#2797" class="Bound">lk</a> <a id="2824" class="Symbol">(</a><a id="2825" href="Data.AVL.Indexed.html#2657" class="Function">castʳ</a> <a id="2831" href="Data.AVL.Indexed.html#2800" class="Bound">km</a> <a id="2834" href="Data.AVL.Indexed.html#2808" class="Bound">m&lt;u</a><a id="2837" class="Symbol">)</a> <a id="2839" href="Data.AVL.Indexed.html#2803" class="Bound">bal</a>

  <a id="2846" class="Comment">-- Various constant-time functions which construct trees out of</a>
  <a id="2912" class="Comment">-- smaller pieces, sometimes using rotation.</a>

  <a id="2960" href="Data.AVL.Indexed.html#2960" class="Function">joinˡ⁺</a> <a id="2967" class="Symbol">:</a> <a id="2969" class="Symbol">∀</a> <a id="2971" class="Symbol">{</a><a id="2972" href="Data.AVL.Indexed.html#2972" class="Bound">l</a> <a id="2974" href="Data.AVL.Indexed.html#2974" class="Bound">u</a> <a id="2976" href="Data.AVL.Indexed.html#2976" class="Bound">hˡ</a> <a id="2979" href="Data.AVL.Indexed.html#2979" class="Bound">hʳ</a> <a id="2982" href="Data.AVL.Indexed.html#2982" class="Bound">h</a><a id="2983" class="Symbol">}</a> <a id="2985" class="Symbol">→</a>
           <a id="2998" class="Symbol">(</a><a id="2999" href="Data.AVL.Indexed.html#2999" class="Bound">k</a> <a id="3001" class="Symbol">:</a> <a id="3003" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="3006" href="Data.AVL.Indexed.html#1374" class="Bound">V</a><a id="3007" class="Symbol">)</a> <a id="3009" class="Symbol">→</a>
           <a id="3022" class="Symbol">(</a><a id="3023" href="Data.Product.html#917" class="Function">∃</a> <a id="3025" class="Symbol">λ</a> <a id="3027" href="Data.AVL.Indexed.html#3027" class="Bound">i</a> <a id="3029" class="Symbol">→</a> <a id="3031" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="3036" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="3038" href="Data.AVL.Indexed.html#2972" class="Bound">l</a> <a id="3040" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="3042" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="3048" href="Data.AVL.Indexed.html#2999" class="Bound">k</a> <a id="3050" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="3052" class="Symbol">(</a><a id="3053" href="Data.AVL.Indexed.html#3027" class="Bound">i</a> <a id="3055" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="3057" href="Data.AVL.Indexed.html#2976" class="Bound">hˡ</a><a id="3059" class="Symbol">))</a> <a id="3062" class="Symbol">→</a>
           <a id="3075" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="3080" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="3082" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="3084" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="3090" href="Data.AVL.Indexed.html#2999" class="Bound">k</a> <a id="3092" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="3094" href="Data.AVL.Indexed.html#2974" class="Bound">u</a> <a id="3096" href="Data.AVL.Indexed.html#2979" class="Bound">hʳ</a> <a id="3099" class="Symbol">→</a>
           <a id="3112" class="Symbol">(</a><a id="3113" href="Data.AVL.Indexed.html#3113" class="Bound">bal</a> <a id="3117" class="Symbol">:</a> <a id="3119" href="Data.AVL.Indexed.html#2976" class="Bound">hˡ</a> <a id="3122" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="3124" href="Data.AVL.Indexed.html#2979" class="Bound">hʳ</a> <a id="3127" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="3129" href="Data.AVL.Indexed.html#2982" class="Bound">h</a><a id="3130" class="Symbol">)</a> <a id="3132" class="Symbol">→</a>
           <a id="3145" href="Data.Product.html#917" class="Function">∃</a> <a id="3147" class="Symbol">λ</a> <a id="3149" href="Data.AVL.Indexed.html#3149" class="Bound">i</a> <a id="3151" class="Symbol">→</a> <a id="3153" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="3158" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="3160" href="Data.AVL.Indexed.html#2972" class="Bound">l</a> <a id="3162" href="Data.AVL.Indexed.html#2974" class="Bound">u</a> <a id="3164" class="Symbol">(</a><a id="3165" href="Data.AVL.Indexed.html#3149" class="Bound">i</a> <a id="3167" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="3169" class="Symbol">(</a><a id="3170" class="Number">1</a> <a id="3172" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="3174" href="Data.AVL.Indexed.html#2982" class="Bound">h</a><a id="3175" class="Symbol">))</a>
  <a id="3180" href="Data.AVL.Indexed.html#2960" class="Function">joinˡ⁺</a> <a id="3187" href="Data.AVL.Indexed.html#3187" class="Bound">k₆</a> <a id="3190" class="Symbol">(</a><a id="3191" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="3194" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3196" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3201" href="Data.AVL.Indexed.html#3201" class="Bound">k₂</a> <a id="3204" href="Data.AVL.Indexed.html#3204" class="Bound">t₁</a>
                    <a id="3227" class="Symbol">(</a><a id="3228" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3233" href="Data.AVL.Indexed.html#3233" class="Bound">k₄</a> <a id="3236" href="Data.AVL.Indexed.html#3236" class="Bound">t₃</a> <a id="3239" href="Data.AVL.Indexed.html#3239" class="Bound">t₅</a> <a id="3242" href="Data.AVL.Indexed.html#3242" class="Bound">bal</a><a id="3245" class="Symbol">)</a>
                                <a id="3279" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a><a id="3281" class="Symbol">)</a> <a id="3283" href="Data.AVL.Indexed.html#3283" class="Bound">t₇</a> <a id="3286" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a>  <a id="3290" class="Symbol">=</a> <a id="3292" class="Symbol">(</a><a id="3293" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="3296" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3298" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3303" href="Data.AVL.Indexed.html#3233" class="Bound">k₄</a>
                                                        <a id="3362" class="Symbol">(</a><a id="3363" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3368" href="Data.AVL.Indexed.html#3201" class="Bound">k₂</a> <a id="3371" href="Data.AVL.Indexed.html#3204" class="Bound">t₁</a> <a id="3374" href="Data.AVL.Indexed.html#3236" class="Bound">t₃</a> <a id="3377" class="Symbol">(</a><a id="3378" href="Data.AVL.Height.html#1105" class="Function">max∼</a> <a id="3383" href="Data.AVL.Indexed.html#3242" class="Bound">bal</a><a id="3386" class="Symbol">))</a>
                                                        <a id="3445" class="Symbol">(</a><a id="3446" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3451" href="Data.AVL.Indexed.html#3187" class="Bound">k₆</a> <a id="3454" href="Data.AVL.Indexed.html#3239" class="Bound">t₅</a> <a id="3457" href="Data.AVL.Indexed.html#3283" class="Bound">t₇</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Data.AVL.Height.html#1186" class="Function">∼max</a> <a id="3466" href="Data.AVL.Indexed.html#3242" class="Bound">bal</a><a id="3469" class="Symbol">))</a>
                                                        <a id="3528" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="3530" class="Symbol">)</a>
  <a id="3534" href="Data.AVL.Indexed.html#2960" class="CatchallClause Function">joinˡ⁺</a><a id="3540" class="CatchallClause"> </a><a id="3541" href="Data.AVL.Indexed.html#3541" class="CatchallClause Bound">k₄</a><a id="3543" class="CatchallClause"> </a><a id="3544" class="CatchallClause Symbol">(</a><a id="3545" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="3547" class="CatchallClause"> </a><a id="3548" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="3549" class="CatchallClause"> </a><a id="3550" href="Data.AVL.Indexed.html#1181" class="CatchallClause InductiveConstructor">node</a><a id="3554" class="CatchallClause"> </a><a id="3555" href="Data.AVL.Indexed.html#3555" class="CatchallClause Bound">k₂</a><a id="3557" class="CatchallClause"> </a><a id="3558" href="Data.AVL.Indexed.html#3558" class="CatchallClause Bound">t₁</a><a id="3560" class="CatchallClause"> </a><a id="3561" href="Data.AVL.Indexed.html#3561" class="CatchallClause Bound">t₃</a><a id="3563" class="CatchallClause"> </a><a id="3564" href="Data.AVL.Height.html#1052" class="CatchallClause InductiveConstructor">∼-</a><a id="3566" class="CatchallClause Symbol">)</a><a id="3567" class="CatchallClause"> </a><a id="3568" href="Data.AVL.Indexed.html#3568" class="CatchallClause Bound">t₅</a><a id="3570" class="CatchallClause"> </a><a id="3571" href="Data.AVL.Height.html#1052" class="CatchallClause InductiveConstructor">∼-</a>  <a id="3575" class="Symbol">=</a> <a id="3577" class="Symbol">(</a><a id="3578" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="3581" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3583" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3588" href="Data.AVL.Indexed.html#3555" class="Bound">k₂</a> <a id="3591" href="Data.AVL.Indexed.html#3558" class="Bound">t₁</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3600" href="Data.AVL.Indexed.html#3541" class="Bound">k₄</a> <a id="3603" href="Data.AVL.Indexed.html#3561" class="Bound">t₃</a> <a id="3606" href="Data.AVL.Indexed.html#3568" class="Bound">t₅</a> <a id="3609" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="3611" class="Symbol">)</a> <a id="3613" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="3615" class="Symbol">)</a>
  <a id="3619" href="Data.AVL.Indexed.html#2960" class="CatchallClause Function">joinˡ⁺</a><a id="3625" class="CatchallClause"> </a><a id="3626" href="Data.AVL.Indexed.html#3626" class="CatchallClause Bound">k₄</a><a id="3628" class="CatchallClause"> </a><a id="3629" class="CatchallClause Symbol">(</a><a id="3630" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="3632" class="CatchallClause"> </a><a id="3633" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="3634" class="CatchallClause"> </a><a id="3635" href="Data.AVL.Indexed.html#1181" class="CatchallClause InductiveConstructor">node</a><a id="3639" class="CatchallClause"> </a><a id="3640" href="Data.AVL.Indexed.html#3640" class="CatchallClause Bound">k₂</a><a id="3642" class="CatchallClause"> </a><a id="3643" href="Data.AVL.Indexed.html#3643" class="CatchallClause Bound">t₁</a><a id="3645" class="CatchallClause"> </a><a id="3646" href="Data.AVL.Indexed.html#3646" class="CatchallClause Bound">t₃</a><a id="3648" class="CatchallClause"> </a><a id="3649" href="Data.AVL.Height.html#1019" class="CatchallClause InductiveConstructor">∼0</a><a id="3651" class="CatchallClause Symbol">)</a><a id="3652" class="CatchallClause"> </a><a id="3653" href="Data.AVL.Indexed.html#3653" class="CatchallClause Bound">t₅</a><a id="3655" class="CatchallClause"> </a><a id="3656" href="Data.AVL.Height.html#1052" class="CatchallClause InductiveConstructor">∼-</a>  <a id="3660" class="Symbol">=</a> <a id="3662" class="Symbol">(</a><a id="3663" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="3666" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3668" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3673" href="Data.AVL.Indexed.html#3640" class="Bound">k₂</a> <a id="3676" href="Data.AVL.Indexed.html#3643" class="Bound">t₁</a> <a id="3679" class="Symbol">(</a><a id="3680" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3685" href="Data.AVL.Indexed.html#3626" class="Bound">k₄</a> <a id="3688" href="Data.AVL.Indexed.html#3646" class="Bound">t₃</a> <a id="3691" href="Data.AVL.Indexed.html#3653" class="Bound">t₅</a> <a id="3694" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a><a id="3696" class="Symbol">)</a> <a id="3698" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a><a id="3700" class="Symbol">)</a>
  <a id="3704" href="Data.AVL.Indexed.html#2960" class="CatchallClause Function">joinˡ⁺</a><a id="3710" class="CatchallClause"> </a><a id="3711" href="Data.AVL.Indexed.html#3711" class="CatchallClause Bound">k₂</a><a id="3713" class="CatchallClause"> </a><a id="3714" class="CatchallClause Symbol">(</a><a id="3715" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="3717" class="CatchallClause"> </a><a id="3718" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="3719" class="CatchallClause"> </a><a id="3720" href="Data.AVL.Indexed.html#3720" class="CatchallClause Bound">t₁</a><a id="3722" class="CatchallClause Symbol">)</a><a id="3723" class="CatchallClause">               </a><a id="3738" href="Data.AVL.Indexed.html#3738" class="CatchallClause Bound">t₃</a><a id="3740" class="CatchallClause"> </a><a id="3741" href="Data.AVL.Height.html#1019" class="CatchallClause InductiveConstructor">∼0</a>  <a id="3745" class="Symbol">=</a> <a id="3747" class="Symbol">(</a><a id="3748" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="3751" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3753" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3758" href="Data.AVL.Indexed.html#3711" class="Bound">k₂</a> <a id="3761" href="Data.AVL.Indexed.html#3720" class="Bound">t₁</a> <a id="3764" href="Data.AVL.Indexed.html#3738" class="Bound">t₃</a> <a id="3767" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a><a id="3769" class="Symbol">)</a>
  <a id="3773" href="Data.AVL.Indexed.html#2960" class="CatchallClause Function">joinˡ⁺</a><a id="3779" class="CatchallClause"> </a><a id="3780" href="Data.AVL.Indexed.html#3780" class="CatchallClause Bound">k₂</a><a id="3782" class="CatchallClause"> </a><a id="3783" class="CatchallClause Symbol">(</a><a id="3784" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="3786" class="CatchallClause"> </a><a id="3787" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="3788" class="CatchallClause"> </a><a id="3789" href="Data.AVL.Indexed.html#3789" class="CatchallClause Bound">t₁</a><a id="3791" class="CatchallClause Symbol">)</a><a id="3792" class="CatchallClause">               </a><a id="3807" href="Data.AVL.Indexed.html#3807" class="CatchallClause Bound">t₃</a><a id="3809" class="CatchallClause"> </a><a id="3810" href="Data.AVL.Height.html#982" class="CatchallClause InductiveConstructor">∼+</a>  <a id="3814" class="Symbol">=</a> <a id="3816" class="Symbol">(</a><a id="3817" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="3820" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3822" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3827" href="Data.AVL.Indexed.html#3780" class="Bound">k₂</a> <a id="3830" href="Data.AVL.Indexed.html#3789" class="Bound">t₁</a> <a id="3833" href="Data.AVL.Indexed.html#3807" class="Bound">t₃</a> <a id="3836" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="3838" class="Symbol">)</a>
  <a id="3842" href="Data.AVL.Indexed.html#2960" class="Function">joinˡ⁺</a> <a id="3849" href="Data.AVL.Indexed.html#3849" class="Bound">k₂</a> <a id="3852" class="Symbol">(</a><a id="3853" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="3856" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3858" href="Data.AVL.Indexed.html#3858" class="Bound">t₁</a><a id="3860" class="Symbol">)</a>               <a id="3876" href="Data.AVL.Indexed.html#3876" class="Bound">t₃</a> <a id="3879" href="Data.AVL.Indexed.html#3879" class="Bound">bal</a> <a id="3883" class="Symbol">=</a> <a id="3885" class="Symbol">(</a><a id="3886" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="3889" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3891" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="3896" href="Data.AVL.Indexed.html#3849" class="Bound">k₂</a> <a id="3899" href="Data.AVL.Indexed.html#3858" class="Bound">t₁</a> <a id="3902" href="Data.AVL.Indexed.html#3876" class="Bound">t₃</a> <a id="3905" href="Data.AVL.Indexed.html#3879" class="Bound">bal</a><a id="3908" class="Symbol">)</a>
  <a id="3912" href="Data.AVL.Indexed.html#2960" class="Function">joinˡ⁺</a> <a id="3919" href="Data.AVL.Indexed.html#3919" class="Bound">k₂</a> <a id="3922" class="Symbol">(</a><a id="3923" href="Data.AVL.Height.html#460" class="InductiveConstructor">##</a> <a id="3926" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3928" href="Data.AVL.Indexed.html#3928" class="Bound">t₁</a><a id="3930" class="Symbol">)</a>               <a id="3946" href="Data.AVL.Indexed.html#3946" class="Bound">t₃</a> <a id="3949" href="Data.AVL.Indexed.html#3949" class="Bound">bal</a>

  <a id="3956" href="Data.AVL.Indexed.html#3956" class="Function">joinʳ⁺</a> <a id="3963" class="Symbol">:</a> <a id="3965" class="Symbol">∀</a> <a id="3967" class="Symbol">{</a><a id="3968" href="Data.AVL.Indexed.html#3968" class="Bound">l</a> <a id="3970" href="Data.AVL.Indexed.html#3970" class="Bound">u</a> <a id="3972" href="Data.AVL.Indexed.html#3972" class="Bound">hˡ</a> <a id="3975" href="Data.AVL.Indexed.html#3975" class="Bound">hʳ</a> <a id="3978" href="Data.AVL.Indexed.html#3978" class="Bound">h</a><a id="3979" class="Symbol">}</a> <a id="3981" class="Symbol">→</a>
           <a id="3994" class="Symbol">(</a><a id="3995" href="Data.AVL.Indexed.html#3995" class="Bound">k</a> <a id="3997" class="Symbol">:</a> <a id="3999" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="4002" href="Data.AVL.Indexed.html#1374" class="Bound">V</a><a id="4003" class="Symbol">)</a> <a id="4005" class="Symbol">→</a>
           <a id="4018" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="4023" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="4025" href="Data.AVL.Indexed.html#3968" class="Bound">l</a> <a id="4027" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="4029" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="4035" href="Data.AVL.Indexed.html#3995" class="Bound">k</a> <a id="4037" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="4039" href="Data.AVL.Indexed.html#3972" class="Bound">hˡ</a> <a id="4042" class="Symbol">→</a>
           <a id="4055" class="Symbol">(</a><a id="4056" href="Data.Product.html#917" class="Function">∃</a> <a id="4058" class="Symbol">λ</a> <a id="4060" href="Data.AVL.Indexed.html#4060" class="Bound">i</a> <a id="4062" class="Symbol">→</a> <a id="4064" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="4069" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="4071" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="4073" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="4079" href="Data.AVL.Indexed.html#3995" class="Bound">k</a> <a id="4081" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="4083" href="Data.AVL.Indexed.html#3970" class="Bound">u</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Data.AVL.Indexed.html#4060" class="Bound">i</a> <a id="4088" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="4090" href="Data.AVL.Indexed.html#3975" class="Bound">hʳ</a><a id="4092" class="Symbol">))</a> <a id="4095" class="Symbol">→</a>
           <a id="4108" class="Symbol">(</a><a id="4109" href="Data.AVL.Indexed.html#4109" class="Bound">bal</a> <a id="4113" class="Symbol">:</a> <a id="4115" href="Data.AVL.Indexed.html#3972" class="Bound">hˡ</a> <a id="4118" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="4120" href="Data.AVL.Indexed.html#3975" class="Bound">hʳ</a> <a id="4123" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="4125" href="Data.AVL.Indexed.html#3978" class="Bound">h</a><a id="4126" class="Symbol">)</a> <a id="4128" class="Symbol">→</a>
           <a id="4141" href="Data.Product.html#917" class="Function">∃</a> <a id="4143" class="Symbol">λ</a> <a id="4145" href="Data.AVL.Indexed.html#4145" class="Bound">i</a> <a id="4147" class="Symbol">→</a> <a id="4149" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="4154" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="4156" href="Data.AVL.Indexed.html#3968" class="Bound">l</a> <a id="4158" href="Data.AVL.Indexed.html#3970" class="Bound">u</a> <a id="4160" class="Symbol">(</a><a id="4161" href="Data.AVL.Indexed.html#4145" class="Bound">i</a> <a id="4163" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="4165" class="Symbol">(</a><a id="4166" class="Number">1</a> <a id="4168" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="4170" href="Data.AVL.Indexed.html#3978" class="Bound">h</a><a id="4171" class="Symbol">))</a>
  <a id="4176" href="Data.AVL.Indexed.html#3956" class="Function">joinʳ⁺</a> <a id="4183" href="Data.AVL.Indexed.html#4183" class="Bound">k₂</a> <a id="4186" href="Data.AVL.Indexed.html#4186" class="Bound">t₁</a> <a id="4189" class="Symbol">(</a><a id="4190" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="4193" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4195" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4200" href="Data.AVL.Indexed.html#4200" class="Bound">k₆</a>
                       <a id="4226" class="Symbol">(</a><a id="4227" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4232" href="Data.AVL.Indexed.html#4232" class="Bound">k₄</a> <a id="4235" href="Data.AVL.Indexed.html#4235" class="Bound">t₃</a> <a id="4238" href="Data.AVL.Indexed.html#4238" class="Bound">t₅</a> <a id="4241" href="Data.AVL.Indexed.html#4241" class="Bound">bal</a><a id="4244" class="Symbol">)</a>
                                <a id="4278" href="Data.AVL.Indexed.html#4278" class="Bound">t₇</a> <a id="4281" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a><a id="4283" class="Symbol">)</a> <a id="4285" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a>  <a id="4289" class="Symbol">=</a> <a id="4291" class="Symbol">(</a><a id="4292" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="4295" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4297" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4302" href="Data.AVL.Indexed.html#4232" class="Bound">k₄</a>
                                                        <a id="4361" class="Symbol">(</a><a id="4362" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4367" href="Data.AVL.Indexed.html#4183" class="Bound">k₂</a> <a id="4370" href="Data.AVL.Indexed.html#4186" class="Bound">t₁</a> <a id="4373" href="Data.AVL.Indexed.html#4235" class="Bound">t₃</a> <a id="4376" class="Symbol">(</a><a id="4377" href="Data.AVL.Height.html#1105" class="Function">max∼</a> <a id="4382" href="Data.AVL.Indexed.html#4241" class="Bound">bal</a><a id="4385" class="Symbol">))</a>
                                                        <a id="4444" class="Symbol">(</a><a id="4445" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4450" href="Data.AVL.Indexed.html#4200" class="Bound">k₆</a> <a id="4453" href="Data.AVL.Indexed.html#4238" class="Bound">t₅</a> <a id="4456" href="Data.AVL.Indexed.html#4278" class="Bound">t₇</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Data.AVL.Height.html#1186" class="Function">∼max</a> <a id="4465" href="Data.AVL.Indexed.html#4241" class="Bound">bal</a><a id="4468" class="Symbol">))</a>
                                                        <a id="4527" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="4529" class="Symbol">)</a>
  <a id="4533" href="Data.AVL.Indexed.html#3956" class="CatchallClause Function">joinʳ⁺</a><a id="4539" class="CatchallClause"> </a><a id="4540" href="Data.AVL.Indexed.html#4540" class="CatchallClause Bound">k₂</a><a id="4542" class="CatchallClause"> </a><a id="4543" href="Data.AVL.Indexed.html#4543" class="CatchallClause Bound">t₁</a><a id="4545" class="CatchallClause"> </a><a id="4546" class="CatchallClause Symbol">(</a><a id="4547" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="4549" class="CatchallClause"> </a><a id="4550" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="4551" class="CatchallClause"> </a><a id="4552" href="Data.AVL.Indexed.html#1181" class="CatchallClause InductiveConstructor">node</a><a id="4556" class="CatchallClause"> </a><a id="4557" href="Data.AVL.Indexed.html#4557" class="CatchallClause Bound">k₄</a><a id="4559" class="CatchallClause"> </a><a id="4560" href="Data.AVL.Indexed.html#4560" class="CatchallClause Bound">t₃</a><a id="4562" class="CatchallClause"> </a><a id="4563" href="Data.AVL.Indexed.html#4563" class="CatchallClause Bound">t₅</a><a id="4565" class="CatchallClause"> </a><a id="4566" href="Data.AVL.Height.html#982" class="CatchallClause InductiveConstructor">∼+</a><a id="4568" class="CatchallClause Symbol">)</a><a id="4569" class="CatchallClause"> </a><a id="4570" href="Data.AVL.Height.html#982" class="CatchallClause InductiveConstructor">∼+</a>  <a id="4574" class="Symbol">=</a> <a id="4576" class="Symbol">(</a><a id="4577" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="4580" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4582" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4587" href="Data.AVL.Indexed.html#4557" class="Bound">k₄</a> <a id="4590" class="Symbol">(</a><a id="4591" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4596" href="Data.AVL.Indexed.html#4540" class="Bound">k₂</a> <a id="4599" href="Data.AVL.Indexed.html#4543" class="Bound">t₁</a> <a id="4602" href="Data.AVL.Indexed.html#4560" class="Bound">t₃</a> <a id="4605" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="4607" class="Symbol">)</a> <a id="4609" href="Data.AVL.Indexed.html#4563" class="Bound">t₅</a> <a id="4612" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="4614" class="Symbol">)</a>
  <a id="4618" href="Data.AVL.Indexed.html#3956" class="CatchallClause Function">joinʳ⁺</a><a id="4624" class="CatchallClause"> </a><a id="4625" href="Data.AVL.Indexed.html#4625" class="CatchallClause Bound">k₂</a><a id="4627" class="CatchallClause"> </a><a id="4628" href="Data.AVL.Indexed.html#4628" class="CatchallClause Bound">t₁</a><a id="4630" class="CatchallClause"> </a><a id="4631" class="CatchallClause Symbol">(</a><a id="4632" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="4634" class="CatchallClause"> </a><a id="4635" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="4636" class="CatchallClause"> </a><a id="4637" href="Data.AVL.Indexed.html#1181" class="CatchallClause InductiveConstructor">node</a><a id="4641" class="CatchallClause"> </a><a id="4642" href="Data.AVL.Indexed.html#4642" class="CatchallClause Bound">k₄</a><a id="4644" class="CatchallClause"> </a><a id="4645" href="Data.AVL.Indexed.html#4645" class="CatchallClause Bound">t₃</a><a id="4647" class="CatchallClause"> </a><a id="4648" href="Data.AVL.Indexed.html#4648" class="CatchallClause Bound">t₅</a><a id="4650" class="CatchallClause"> </a><a id="4651" href="Data.AVL.Height.html#1019" class="CatchallClause InductiveConstructor">∼0</a><a id="4653" class="CatchallClause Symbol">)</a><a id="4654" class="CatchallClause"> </a><a id="4655" href="Data.AVL.Height.html#982" class="CatchallClause InductiveConstructor">∼+</a>  <a id="4659" class="Symbol">=</a> <a id="4661" class="Symbol">(</a><a id="4662" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="4665" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4667" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4672" href="Data.AVL.Indexed.html#4642" class="Bound">k₄</a> <a id="4675" class="Symbol">(</a><a id="4676" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4681" href="Data.AVL.Indexed.html#4625" class="Bound">k₂</a> <a id="4684" href="Data.AVL.Indexed.html#4628" class="Bound">t₁</a> <a id="4687" href="Data.AVL.Indexed.html#4645" class="Bound">t₃</a> <a id="4690" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a><a id="4692" class="Symbol">)</a> <a id="4694" href="Data.AVL.Indexed.html#4648" class="Bound">t₅</a> <a id="4697" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a><a id="4699" class="Symbol">)</a>
  <a id="4703" href="Data.AVL.Indexed.html#3956" class="CatchallClause Function">joinʳ⁺</a><a id="4709" class="CatchallClause"> </a><a id="4710" href="Data.AVL.Indexed.html#4710" class="CatchallClause Bound">k₂</a><a id="4712" class="CatchallClause"> </a><a id="4713" href="Data.AVL.Indexed.html#4713" class="CatchallClause Bound">t₁</a><a id="4715" class="CatchallClause"> </a><a id="4716" class="CatchallClause Symbol">(</a><a id="4717" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="4719" class="CatchallClause"> </a><a id="4720" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="4721" class="CatchallClause"> </a><a id="4722" href="Data.AVL.Indexed.html#4722" class="CatchallClause Bound">t₃</a><a id="4724" class="CatchallClause Symbol">)</a><a id="4725" class="CatchallClause">               </a><a id="4740" href="Data.AVL.Height.html#1019" class="CatchallClause InductiveConstructor">∼0</a>  <a id="4744" class="Symbol">=</a> <a id="4746" class="Symbol">(</a><a id="4747" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="4750" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4752" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4757" href="Data.AVL.Indexed.html#4710" class="Bound">k₂</a> <a id="4760" href="Data.AVL.Indexed.html#4713" class="Bound">t₁</a> <a id="4763" href="Data.AVL.Indexed.html#4722" class="Bound">t₃</a> <a id="4766" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a><a id="4768" class="Symbol">)</a>
  <a id="4772" href="Data.AVL.Indexed.html#3956" class="CatchallClause Function">joinʳ⁺</a><a id="4778" class="CatchallClause"> </a><a id="4779" href="Data.AVL.Indexed.html#4779" class="CatchallClause Bound">k₂</a><a id="4781" class="CatchallClause"> </a><a id="4782" href="Data.AVL.Indexed.html#4782" class="CatchallClause Bound">t₁</a><a id="4784" class="CatchallClause"> </a><a id="4785" class="CatchallClause Symbol">(</a><a id="4786" href="Data.AVL.Height.html#430" class="CatchallClause InductiveConstructor">1#</a><a id="4788" class="CatchallClause"> </a><a id="4789" href="Agda.Builtin.Sigma.html#139" class="CatchallClause InductiveConstructor Operator">,</a><a id="4790" class="CatchallClause"> </a><a id="4791" href="Data.AVL.Indexed.html#4791" class="CatchallClause Bound">t₃</a><a id="4793" class="CatchallClause Symbol">)</a><a id="4794" class="CatchallClause">               </a><a id="4809" href="Data.AVL.Height.html#1052" class="CatchallClause InductiveConstructor">∼-</a>  <a id="4813" class="Symbol">=</a> <a id="4815" class="Symbol">(</a><a id="4816" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="4819" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4821" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4826" href="Data.AVL.Indexed.html#4779" class="Bound">k₂</a> <a id="4829" href="Data.AVL.Indexed.html#4782" class="Bound">t₁</a> <a id="4832" href="Data.AVL.Indexed.html#4791" class="Bound">t₃</a> <a id="4835" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="4837" class="Symbol">)</a>
  <a id="4841" href="Data.AVL.Indexed.html#3956" class="Function">joinʳ⁺</a> <a id="4848" href="Data.AVL.Indexed.html#4848" class="Bound">k₂</a> <a id="4851" href="Data.AVL.Indexed.html#4851" class="Bound">t₁</a> <a id="4854" class="Symbol">(</a><a id="4855" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="4858" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4860" href="Data.AVL.Indexed.html#4860" class="Bound">t₃</a><a id="4862" class="Symbol">)</a>               <a id="4878" href="Data.AVL.Indexed.html#4878" class="Bound">bal</a> <a id="4882" class="Symbol">=</a> <a id="4884" class="Symbol">(</a><a id="4885" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="4888" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4890" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="4895" href="Data.AVL.Indexed.html#4848" class="Bound">k₂</a> <a id="4898" href="Data.AVL.Indexed.html#4851" class="Bound">t₁</a> <a id="4901" href="Data.AVL.Indexed.html#4860" class="Bound">t₃</a> <a id="4904" href="Data.AVL.Indexed.html#4878" class="Bound">bal</a><a id="4907" class="Symbol">)</a>
  <a id="4911" href="Data.AVL.Indexed.html#3956" class="Function">joinʳ⁺</a> <a id="4918" href="Data.AVL.Indexed.html#4918" class="Bound">k₂</a> <a id="4921" href="Data.AVL.Indexed.html#4921" class="Bound">t₁</a> <a id="4924" class="Symbol">(</a><a id="4925" href="Data.AVL.Height.html#460" class="InductiveConstructor">##</a> <a id="4928" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4930" href="Data.AVL.Indexed.html#4930" class="Bound">t₃</a><a id="4932" class="Symbol">)</a>               <a id="4948" href="Data.AVL.Indexed.html#4948" class="Bound">bal</a>

  <a id="4955" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="4962" class="Symbol">:</a> <a id="4964" class="Symbol">∀</a> <a id="4966" class="Symbol">{</a><a id="4967" href="Data.AVL.Indexed.html#4967" class="Bound">l</a> <a id="4969" href="Data.AVL.Indexed.html#4969" class="Bound">u</a><a id="4970" class="Symbol">}</a> <a id="4972" href="Data.AVL.Indexed.html#4972" class="Bound">hˡ</a> <a id="4975" class="Symbol">{</a><a id="4976" href="Data.AVL.Indexed.html#4976" class="Bound">hʳ</a> <a id="4979" href="Data.AVL.Indexed.html#4979" class="Bound">h</a><a id="4980" class="Symbol">}</a> <a id="4982" class="Symbol">→</a>
           <a id="4995" class="Symbol">(</a><a id="4996" href="Data.AVL.Indexed.html#4996" class="Bound">k</a> <a id="4998" class="Symbol">:</a> <a id="5000" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="5003" href="Data.AVL.Indexed.html#1374" class="Bound">V</a><a id="5004" class="Symbol">)</a> <a id="5006" class="Symbol">→</a>
           <a id="5019" class="Symbol">(</a><a id="5020" href="Data.Product.html#917" class="Function">∃</a> <a id="5022" class="Symbol">λ</a> <a id="5024" href="Data.AVL.Indexed.html#5024" class="Bound">i</a> <a id="5026" class="Symbol">→</a> <a id="5028" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="5033" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="5035" href="Data.AVL.Indexed.html#4967" class="Bound">l</a> <a id="5037" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="5039" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5045" href="Data.AVL.Indexed.html#4996" class="Bound">k</a> <a id="5047" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="5049" href="Data.AVL.Height.html#600" class="Function Operator">pred[</a> <a id="5055" href="Data.AVL.Indexed.html#5024" class="Bound">i</a> <a id="5057" href="Data.AVL.Height.html#600" class="Function Operator">⊕</a> <a id="5059" href="Data.AVL.Indexed.html#4972" class="Bound">hˡ</a> <a id="5062" href="Data.AVL.Height.html#600" class="Function Operator">]</a><a id="5063" class="Symbol">)</a> <a id="5065" class="Symbol">→</a>
           <a id="5078" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="5083" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="5085" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="5087" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5093" href="Data.AVL.Indexed.html#4996" class="Bound">k</a> <a id="5095" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="5097" href="Data.AVL.Indexed.html#4969" class="Bound">u</a> <a id="5099" href="Data.AVL.Indexed.html#4976" class="Bound">hʳ</a> <a id="5102" class="Symbol">→</a>
           <a id="5115" class="Symbol">(</a><a id="5116" href="Data.AVL.Indexed.html#5116" class="Bound">bal</a> <a id="5120" class="Symbol">:</a> <a id="5122" href="Data.AVL.Indexed.html#4972" class="Bound">hˡ</a> <a id="5125" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="5127" href="Data.AVL.Indexed.html#4976" class="Bound">hʳ</a> <a id="5130" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="5132" href="Data.AVL.Indexed.html#4979" class="Bound">h</a><a id="5133" class="Symbol">)</a> <a id="5135" class="Symbol">→</a>
           <a id="5148" href="Data.Product.html#917" class="Function">∃</a> <a id="5150" class="Symbol">λ</a> <a id="5152" href="Data.AVL.Indexed.html#5152" class="Bound">i</a> <a id="5154" class="Symbol">→</a> <a id="5156" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="5161" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="5163" href="Data.AVL.Indexed.html#4967" class="Bound">l</a> <a id="5165" href="Data.AVL.Indexed.html#4969" class="Bound">u</a> <a id="5167" class="Symbol">(</a><a id="5168" href="Data.AVL.Indexed.html#5152" class="Bound">i</a> <a id="5170" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="5172" href="Data.AVL.Indexed.html#4979" class="Bound">h</a><a id="5173" class="Symbol">)</a>
  <a id="5177" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="5184" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="5192" href="Data.AVL.Indexed.html#5192" class="Bound">k₂</a> <a id="5195" class="Symbol">(</a><a id="5196" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="5199" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5201" href="Data.AVL.Indexed.html#5201" class="Bound">t₁</a><a id="5203" class="Symbol">)</a> <a id="5205" href="Data.AVL.Indexed.html#5205" class="Bound">t₃</a> <a id="5208" href="Data.AVL.Indexed.html#5208" class="Bound">bal</a> <a id="5212" class="Symbol">=</a> <a id="5214" class="Symbol">(</a><a id="5215" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5218" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5220" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="5225" href="Data.AVL.Indexed.html#5192" class="Bound">k₂</a> <a id="5228" href="Data.AVL.Indexed.html#5201" class="Bound">t₁</a> <a id="5231" href="Data.AVL.Indexed.html#5205" class="Bound">t₃</a> <a id="5234" href="Data.AVL.Indexed.html#5208" class="Bound">bal</a><a id="5237" class="Symbol">)</a>
  <a id="5241" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="5248" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="5256" href="Data.AVL.Indexed.html#5256" class="Bound">k₂</a> <a id="5259" class="Symbol">(</a><a id="5260" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5263" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5265" href="Data.AVL.Indexed.html#5265" class="Bound">t₁</a><a id="5267" class="Symbol">)</a> <a id="5269" href="Data.AVL.Indexed.html#5269" class="Bound">t₃</a> <a id="5272" href="Data.AVL.Indexed.html#5272" class="Bound">bal</a> <a id="5276" class="Symbol">=</a> <a id="5278" class="Symbol">(</a><a id="5279" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5282" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5284" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="5289" href="Data.AVL.Indexed.html#5256" class="Bound">k₂</a> <a id="5292" href="Data.AVL.Indexed.html#5265" class="Bound">t₁</a> <a id="5295" href="Data.AVL.Indexed.html#5269" class="Bound">t₃</a> <a id="5298" href="Data.AVL.Indexed.html#5272" class="Bound">bal</a><a id="5301" class="Symbol">)</a>
  <a id="5305" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="5312" class="Symbol">(</a><a id="5313" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="5317" class="Symbol">_)</a> <a id="5320" href="Data.AVL.Indexed.html#5320" class="Bound">k₂</a> <a id="5323" class="Symbol">(</a><a id="5324" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="5327" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5329" href="Data.AVL.Indexed.html#5329" class="Bound">t₁</a><a id="5331" class="Symbol">)</a> <a id="5333" href="Data.AVL.Indexed.html#5333" class="Bound">t₃</a> <a id="5336" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a>  <a id="5340" class="Symbol">=</a> <a id="5342" href="Data.AVL.Indexed.html#3956" class="Function">joinʳ⁺</a> <a id="5349" href="Data.AVL.Indexed.html#5320" class="Bound">k₂</a> <a id="5352" href="Data.AVL.Indexed.html#5329" class="Bound">t₁</a> <a id="5355" class="Symbol">(</a><a id="5356" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5359" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5361" href="Data.AVL.Indexed.html#5333" class="Bound">t₃</a><a id="5363" class="Symbol">)</a> <a id="5365" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a>
  <a id="5370" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="5377" class="Symbol">(</a><a id="5378" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="5382" class="Symbol">_)</a> <a id="5385" href="Data.AVL.Indexed.html#5385" class="Bound">k₂</a> <a id="5388" class="Symbol">(</a><a id="5389" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="5392" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5394" href="Data.AVL.Indexed.html#5394" class="Bound">t₁</a><a id="5396" class="Symbol">)</a> <a id="5398" href="Data.AVL.Indexed.html#5398" class="Bound">t₃</a> <a id="5401" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a>  <a id="5405" class="Symbol">=</a> <a id="5407" class="Symbol">(</a><a id="5408" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5411" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5413" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="5418" href="Data.AVL.Indexed.html#5385" class="Bound">k₂</a> <a id="5421" href="Data.AVL.Indexed.html#5394" class="Bound">t₁</a> <a id="5424" href="Data.AVL.Indexed.html#5398" class="Bound">t₃</a> <a id="5427" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a><a id="5429" class="Symbol">)</a>
  <a id="5433" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="5440" class="Symbol">(</a><a id="5441" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="5445" class="Symbol">_)</a> <a id="5448" href="Data.AVL.Indexed.html#5448" class="Bound">k₂</a> <a id="5451" class="Symbol">(</a><a id="5452" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="5455" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5457" href="Data.AVL.Indexed.html#5457" class="Bound">t₁</a><a id="5459" class="Symbol">)</a> <a id="5461" href="Data.AVL.Indexed.html#5461" class="Bound">t₃</a> <a id="5464" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a>  <a id="5468" class="Symbol">=</a> <a id="5470" class="Symbol">(</a><a id="5471" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="5474" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5476" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="5481" href="Data.AVL.Indexed.html#5448" class="Bound">k₂</a> <a id="5484" href="Data.AVL.Indexed.html#5457" class="Bound">t₁</a> <a id="5487" href="Data.AVL.Indexed.html#5461" class="Bound">t₃</a> <a id="5490" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="5492" class="Symbol">)</a>
  <a id="5496" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="5503" class="Symbol">(</a><a id="5504" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="5508" class="Symbol">_)</a> <a id="5511" href="Data.AVL.Indexed.html#5511" class="Bound">k₂</a> <a id="5514" class="Symbol">(</a><a id="5515" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5518" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5520" href="Data.AVL.Indexed.html#5520" class="Bound">t₁</a><a id="5522" class="Symbol">)</a> <a id="5524" href="Data.AVL.Indexed.html#5524" class="Bound">t₃</a> <a id="5527" href="Data.AVL.Indexed.html#5527" class="Bound">bal</a> <a id="5531" class="Symbol">=</a> <a id="5533" class="Symbol">(</a><a id="5534" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5537" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5539" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="5544" href="Data.AVL.Indexed.html#5511" class="Bound">k₂</a> <a id="5547" href="Data.AVL.Indexed.html#5520" class="Bound">t₁</a> <a id="5550" href="Data.AVL.Indexed.html#5524" class="Bound">t₃</a> <a id="5553" href="Data.AVL.Indexed.html#5527" class="Bound">bal</a><a id="5556" class="Symbol">)</a>
  <a id="5560" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="5567" href="Data.AVL.Indexed.html#5567" class="Bound">n</a>       <a id="5575" href="Data.AVL.Indexed.html#5575" class="Bound">k₂</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Data.AVL.Height.html#460" class="InductiveConstructor">##</a> <a id="5582" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5584" href="Data.AVL.Indexed.html#5584" class="Bound">t₁</a><a id="5586" class="Symbol">)</a> <a id="5588" href="Data.AVL.Indexed.html#5588" class="Bound">t₃</a> <a id="5591" href="Data.AVL.Indexed.html#5591" class="Bound">bal</a>

  <a id="5598" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="5605" class="Symbol">:</a> <a id="5607" class="Symbol">∀</a> <a id="5609" class="Symbol">{</a><a id="5610" href="Data.AVL.Indexed.html#5610" class="Bound">l</a> <a id="5612" href="Data.AVL.Indexed.html#5612" class="Bound">u</a> <a id="5614" href="Data.AVL.Indexed.html#5614" class="Bound">hˡ</a><a id="5616" class="Symbol">}</a> <a id="5618" href="Data.AVL.Indexed.html#5618" class="Bound">hʳ</a> <a id="5621" class="Symbol">{</a><a id="5622" href="Data.AVL.Indexed.html#5622" class="Bound">h</a><a id="5623" class="Symbol">}</a> <a id="5625" class="Symbol">→</a>
           <a id="5638" class="Symbol">(</a><a id="5639" href="Data.AVL.Indexed.html#5639" class="Bound">k</a> <a id="5641" class="Symbol">:</a> <a id="5643" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="5646" href="Data.AVL.Indexed.html#1374" class="Bound">V</a><a id="5647" class="Symbol">)</a> <a id="5649" class="Symbol">→</a>
           <a id="5662" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="5667" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="5669" href="Data.AVL.Indexed.html#5610" class="Bound">l</a> <a id="5671" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="5673" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5679" href="Data.AVL.Indexed.html#5639" class="Bound">k</a> <a id="5681" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="5683" href="Data.AVL.Indexed.html#5614" class="Bound">hˡ</a> <a id="5686" class="Symbol">→</a>
           <a id="5699" class="Symbol">(</a><a id="5700" href="Data.Product.html#917" class="Function">∃</a> <a id="5702" class="Symbol">λ</a> <a id="5704" href="Data.AVL.Indexed.html#5704" class="Bound">i</a> <a id="5706" class="Symbol">→</a> <a id="5708" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="5713" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="5715" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="5717" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5723" href="Data.AVL.Indexed.html#5639" class="Bound">k</a> <a id="5725" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="5727" href="Data.AVL.Indexed.html#5612" class="Bound">u</a> <a id="5729" href="Data.AVL.Height.html#600" class="Function Operator">pred[</a> <a id="5735" href="Data.AVL.Indexed.html#5704" class="Bound">i</a> <a id="5737" href="Data.AVL.Height.html#600" class="Function Operator">⊕</a> <a id="5739" href="Data.AVL.Indexed.html#5618" class="Bound">hʳ</a> <a id="5742" href="Data.AVL.Height.html#600" class="Function Operator">]</a><a id="5743" class="Symbol">)</a> <a id="5745" class="Symbol">→</a>
           <a id="5758" class="Symbol">(</a><a id="5759" href="Data.AVL.Indexed.html#5759" class="Bound">bal</a> <a id="5763" class="Symbol">:</a> <a id="5765" href="Data.AVL.Indexed.html#5614" class="Bound">hˡ</a> <a id="5768" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="5770" href="Data.AVL.Indexed.html#5618" class="Bound">hʳ</a> <a id="5773" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="5775" href="Data.AVL.Indexed.html#5622" class="Bound">h</a><a id="5776" class="Symbol">)</a> <a id="5778" class="Symbol">→</a>
           <a id="5791" href="Data.Product.html#917" class="Function">∃</a> <a id="5793" class="Symbol">λ</a> <a id="5795" href="Data.AVL.Indexed.html#5795" class="Bound">i</a> <a id="5797" class="Symbol">→</a> <a id="5799" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="5804" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="5806" href="Data.AVL.Indexed.html#5610" class="Bound">l</a> <a id="5808" href="Data.AVL.Indexed.html#5612" class="Bound">u</a> <a id="5810" class="Symbol">(</a><a id="5811" href="Data.AVL.Indexed.html#5795" class="Bound">i</a> <a id="5813" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="5815" href="Data.AVL.Indexed.html#5622" class="Bound">h</a><a id="5816" class="Symbol">)</a>
  <a id="5820" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="5827" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="5835" href="Data.AVL.Indexed.html#5835" class="Bound">k₂</a> <a id="5838" href="Data.AVL.Indexed.html#5838" class="Bound">t₁</a> <a id="5841" class="Symbol">(</a><a id="5842" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="5845" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5847" href="Data.AVL.Indexed.html#5847" class="Bound">t₃</a><a id="5849" class="Symbol">)</a> <a id="5851" href="Data.AVL.Indexed.html#5851" class="Bound">bal</a> <a id="5855" class="Symbol">=</a> <a id="5857" class="Symbol">(</a><a id="5858" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5861" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5863" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="5868" href="Data.AVL.Indexed.html#5835" class="Bound">k₂</a> <a id="5871" href="Data.AVL.Indexed.html#5838" class="Bound">t₁</a> <a id="5874" href="Data.AVL.Indexed.html#5847" class="Bound">t₃</a> <a id="5877" href="Data.AVL.Indexed.html#5851" class="Bound">bal</a><a id="5880" class="Symbol">)</a>
  <a id="5884" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="5891" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="5899" href="Data.AVL.Indexed.html#5899" class="Bound">k₂</a> <a id="5902" href="Data.AVL.Indexed.html#5902" class="Bound">t₁</a> <a id="5905" class="Symbol">(</a><a id="5906" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5909" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5911" href="Data.AVL.Indexed.html#5911" class="Bound">t₃</a><a id="5913" class="Symbol">)</a> <a id="5915" href="Data.AVL.Indexed.html#5915" class="Bound">bal</a> <a id="5919" class="Symbol">=</a> <a id="5921" class="Symbol">(</a><a id="5922" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5925" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5927" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="5932" href="Data.AVL.Indexed.html#5899" class="Bound">k₂</a> <a id="5935" href="Data.AVL.Indexed.html#5902" class="Bound">t₁</a> <a id="5938" href="Data.AVL.Indexed.html#5911" class="Bound">t₃</a> <a id="5941" href="Data.AVL.Indexed.html#5915" class="Bound">bal</a><a id="5944" class="Symbol">)</a>
  <a id="5948" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="5955" class="Symbol">(</a><a id="5956" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="5960" class="Symbol">_)</a> <a id="5963" href="Data.AVL.Indexed.html#5963" class="Bound">k₂</a> <a id="5966" href="Data.AVL.Indexed.html#5966" class="Bound">t₁</a> <a id="5969" class="Symbol">(</a><a id="5970" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="5973" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5975" href="Data.AVL.Indexed.html#5975" class="Bound">t₃</a><a id="5977" class="Symbol">)</a> <a id="5979" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a>  <a id="5983" class="Symbol">=</a> <a id="5985" href="Data.AVL.Indexed.html#2960" class="Function">joinˡ⁺</a> <a id="5992" href="Data.AVL.Indexed.html#5963" class="Bound">k₂</a> <a id="5995" class="Symbol">(</a><a id="5996" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="5999" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6001" href="Data.AVL.Indexed.html#5966" class="Bound">t₁</a><a id="6003" class="Symbol">)</a> <a id="6005" href="Data.AVL.Indexed.html#5975" class="Bound">t₃</a> <a id="6008" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a>
  <a id="6013" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="6020" class="Symbol">(</a><a id="6021" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="6025" class="Symbol">_)</a> <a id="6028" href="Data.AVL.Indexed.html#6028" class="Bound">k₂</a> <a id="6031" href="Data.AVL.Indexed.html#6031" class="Bound">t₁</a> <a id="6034" class="Symbol">(</a><a id="6035" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="6038" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6040" href="Data.AVL.Indexed.html#6040" class="Bound">t₃</a><a id="6042" class="Symbol">)</a> <a id="6044" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a>  <a id="6048" class="Symbol">=</a> <a id="6050" class="Symbol">(</a><a id="6051" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="6054" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6056" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="6061" href="Data.AVL.Indexed.html#6028" class="Bound">k₂</a> <a id="6064" href="Data.AVL.Indexed.html#6031" class="Bound">t₁</a> <a id="6067" href="Data.AVL.Indexed.html#6040" class="Bound">t₃</a> <a id="6070" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a><a id="6072" class="Symbol">)</a>
  <a id="6076" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="6083" class="Symbol">(</a><a id="6084" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="6088" class="Symbol">_)</a> <a id="6091" href="Data.AVL.Indexed.html#6091" class="Bound">k₂</a> <a id="6094" href="Data.AVL.Indexed.html#6094" class="Bound">t₁</a> <a id="6097" class="Symbol">(</a><a id="6098" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="6101" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6103" href="Data.AVL.Indexed.html#6103" class="Bound">t₃</a><a id="6105" class="Symbol">)</a> <a id="6107" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a>  <a id="6111" class="Symbol">=</a> <a id="6113" class="Symbol">(</a><a id="6114" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="6117" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6119" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="6124" href="Data.AVL.Indexed.html#6091" class="Bound">k₂</a> <a id="6127" href="Data.AVL.Indexed.html#6094" class="Bound">t₁</a> <a id="6130" href="Data.AVL.Indexed.html#6103" class="Bound">t₃</a> <a id="6133" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="6135" class="Symbol">)</a>
  <a id="6139" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="6146" class="Symbol">(</a><a id="6147" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="6151" class="Symbol">_)</a> <a id="6154" href="Data.AVL.Indexed.html#6154" class="Bound">k₂</a> <a id="6157" href="Data.AVL.Indexed.html#6157" class="Bound">t₁</a> <a id="6160" class="Symbol">(</a><a id="6161" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="6164" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6166" href="Data.AVL.Indexed.html#6166" class="Bound">t₃</a><a id="6168" class="Symbol">)</a> <a id="6170" href="Data.AVL.Indexed.html#6170" class="Bound">bal</a> <a id="6174" class="Symbol">=</a> <a id="6176" class="Symbol">(</a><a id="6177" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="6180" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6182" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="6187" href="Data.AVL.Indexed.html#6154" class="Bound">k₂</a> <a id="6190" href="Data.AVL.Indexed.html#6157" class="Bound">t₁</a> <a id="6193" href="Data.AVL.Indexed.html#6166" class="Bound">t₃</a> <a id="6196" href="Data.AVL.Indexed.html#6170" class="Bound">bal</a><a id="6199" class="Symbol">)</a>
  <a id="6203" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="6210" href="Data.AVL.Indexed.html#6210" class="Bound">n</a>       <a id="6218" href="Data.AVL.Indexed.html#6218" class="Bound">k₂</a> <a id="6221" href="Data.AVL.Indexed.html#6221" class="Bound">t₁</a> <a id="6224" class="Symbol">(</a><a id="6225" href="Data.AVL.Height.html#460" class="InductiveConstructor">##</a> <a id="6228" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6230" href="Data.AVL.Indexed.html#6230" class="Bound">t₃</a><a id="6232" class="Symbol">)</a> <a id="6234" href="Data.AVL.Indexed.html#6234" class="Bound">bal</a>

  <a id="6241" class="Comment">-- Extracts the smallest element from the tree, plus the rest.</a>
  <a id="6306" class="Comment">-- Logarithmic in the size of the tree.</a>

  <a id="6349" href="Data.AVL.Indexed.html#6349" class="Function">headTail</a> <a id="6358" class="Symbol">:</a> <a id="6360" class="Symbol">∀</a> <a id="6362" class="Symbol">{</a><a id="6363" href="Data.AVL.Indexed.html#6363" class="Bound">l</a> <a id="6365" href="Data.AVL.Indexed.html#6365" class="Bound">u</a> <a id="6367" href="Data.AVL.Indexed.html#6367" class="Bound">h</a><a id="6368" class="Symbol">}</a> <a id="6370" class="Symbol">→</a> <a id="6372" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="6377" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="6379" href="Data.AVL.Indexed.html#6363" class="Bound">l</a> <a id="6381" href="Data.AVL.Indexed.html#6365" class="Bound">u</a> <a id="6383" class="Symbol">(</a><a id="6384" class="Number">1</a> <a id="6386" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="6388" href="Data.AVL.Indexed.html#6367" class="Bound">h</a><a id="6389" class="Symbol">)</a> <a id="6391" class="Symbol">→</a>
             <a id="6406" href="Data.Product.html#917" class="Function">∃</a> <a id="6408" class="Symbol">λ</a> <a id="6410" class="Symbol">(</a><a id="6411" href="Data.AVL.Indexed.html#6411" class="Bound">k</a> <a id="6413" class="Symbol">:</a> <a id="6415" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="6418" href="Data.AVL.Indexed.html#1374" class="Bound">V</a><a id="6419" class="Symbol">)</a> <a id="6421" class="Symbol">→</a> <a id="6423" href="Data.AVL.Indexed.html#6363" class="Bound">l</a> <a id="6425" href="Data.AVL.Key.html#884" class="Function Operator">&lt;⁺</a> <a id="6428" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="6430" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="6436" href="Data.AVL.Indexed.html#6411" class="Bound">k</a> <a id="6438" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="6440" href="Data.Product.html#1389" class="Function Operator">×</a>
                            <a id="6470" href="Data.Product.html#917" class="Function">∃</a> <a id="6472" class="Symbol">λ</a> <a id="6474" href="Data.AVL.Indexed.html#6474" class="Bound">i</a> <a id="6476" class="Symbol">→</a> <a id="6478" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="6483" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="6485" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="6487" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="6493" href="Data.AVL.Indexed.html#6411" class="Bound">k</a> <a id="6495" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="6497" href="Data.AVL.Indexed.html#6365" class="Bound">u</a> <a id="6499" class="Symbol">(</a><a id="6500" href="Data.AVL.Indexed.html#6474" class="Bound">i</a> <a id="6502" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="6504" href="Data.AVL.Indexed.html#6367" class="Bound">h</a><a id="6505" class="Symbol">)</a>
  <a id="6509" href="Data.AVL.Indexed.html#6349" class="Function">headTail</a> <a id="6518" class="Symbol">(</a><a id="6519" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="6524" href="Data.AVL.Indexed.html#6524" class="Bound">k₁</a> <a id="6527" class="Symbol">(</a><a id="6528" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="6533" href="Data.AVL.Indexed.html#6533" class="Bound">l&lt;k₁</a><a id="6537" class="Symbol">)</a> <a id="6539" href="Data.AVL.Indexed.html#6539" class="Bound">t₂</a> <a id="6542" href="Data.AVL.Height.html#982" class="InductiveConstructor">∼+</a><a id="6544" class="Symbol">)</a> <a id="6546" class="Symbol">=</a> <a id="6548" class="Symbol">(</a><a id="6549" href="Data.AVL.Indexed.html#6524" class="Bound">k₁</a> <a id="6552" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6554" href="Data.AVL.Indexed.html#6533" class="Bound">l&lt;k₁</a> <a id="6559" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6561" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="6564" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6566" href="Data.AVL.Indexed.html#6539" class="Bound">t₂</a><a id="6568" class="Symbol">)</a>
  <a id="6572" href="Data.AVL.Indexed.html#6349" class="Function">headTail</a> <a id="6581" class="Symbol">(</a><a id="6582" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="6587" href="Data.AVL.Indexed.html#6587" class="Bound">k₁</a> <a id="6590" class="Symbol">(</a><a id="6591" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="6596" href="Data.AVL.Indexed.html#6596" class="Bound">l&lt;k₁</a><a id="6600" class="Symbol">)</a> <a id="6602" href="Data.AVL.Indexed.html#6602" class="Bound">t₂</a> <a id="6605" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="6607" class="Symbol">)</a> <a id="6609" class="Symbol">=</a> <a id="6611" class="Symbol">(</a><a id="6612" href="Data.AVL.Indexed.html#6587" class="Bound">k₁</a> <a id="6615" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6617" href="Data.AVL.Indexed.html#6596" class="Bound">l&lt;k₁</a> <a id="6622" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6624" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="6627" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6629" href="Data.AVL.Indexed.html#6602" class="Bound">t₂</a><a id="6631" class="Symbol">)</a>
  <a id="6635" href="Data.AVL.Indexed.html#6349" class="CatchallClause Function">headTail</a><a id="6643" class="CatchallClause"> </a><a id="6644" class="CatchallClause Symbol">(</a><a id="6645" href="Data.AVL.Indexed.html#1181" class="CatchallClause InductiveConstructor">node</a><a id="6649" class="CatchallClause"> </a><a id="6650" class="CatchallClause Symbol">{</a><a id="6651" class="CatchallClause Argument">hˡ</a><a id="6653" class="CatchallClause"> </a><a id="6654" class="CatchallClause Symbol">=</a><a id="6655" class="CatchallClause"> </a><a id="6656" href="Agda.Builtin.Nat.html#128" class="CatchallClause InductiveConstructor">suc</a><a id="6659" class="CatchallClause"> </a><a id="6660" class="CatchallClause Symbol">_}</a><a id="6662" class="CatchallClause"> </a><a id="6663" href="Data.AVL.Indexed.html#6663" class="CatchallClause Bound">k₃</a><a id="6665" class="CatchallClause"> </a><a id="6666" href="Data.AVL.Indexed.html#6666" class="CatchallClause Bound">t₁₂</a><a id="6669" class="CatchallClause"> </a><a id="6670" href="Data.AVL.Indexed.html#6670" class="CatchallClause Bound">t₄</a><a id="6672" class="CatchallClause"> </a><a id="6673" href="Data.AVL.Indexed.html#6673" class="CatchallClause Bound">bal</a><a id="6676" class="CatchallClause Symbol">)</a> <a id="6678" class="Keyword">with</a> <a id="6683" href="Data.AVL.Indexed.html#6349" class="Function">headTail</a> <a id="6692" href="Data.AVL.Indexed.html#6666" class="Bound">t₁₂</a>
  <a id="6698" class="Symbol">...</a> <a id="6702" class="Symbol">|</a> <a id="6704" class="Symbol">(</a><a id="6705" href="Data.AVL.Indexed.html#6705" class="Bound">k₁</a> <a id="6708" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6710" href="Data.AVL.Indexed.html#6710" class="Bound">l&lt;k₁</a> <a id="6715" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6717" href="Data.AVL.Indexed.html#6717" class="Bound">t₂</a><a id="6719" class="Symbol">)</a> <a id="6721" class="Symbol">=</a> <a id="6723" class="Symbol">(</a><a id="6724" href="Data.AVL.Indexed.html#6705" class="Bound">k₁</a> <a id="6727" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6729" href="Data.AVL.Indexed.html#6710" class="Bound">l&lt;k₁</a> <a id="6734" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6736" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="6743" class="Symbol">_</a> <a id="6745" class="Bound">k₃</a> <a id="6748" href="Data.AVL.Indexed.html#6717" class="Bound">t₂</a> <a id="6751" class="Bound">t₄</a> <a id="6754" class="Bound">bal</a><a id="6757" class="Symbol">)</a>

  <a id="6762" class="Comment">-- Extracts the largest element from the tree, plus the rest.</a>
  <a id="6826" class="Comment">-- Logarithmic in the size of the tree.</a>

  <a id="6869" href="Data.AVL.Indexed.html#6869" class="Function">initLast</a> <a id="6878" class="Symbol">:</a> <a id="6880" class="Symbol">∀</a> <a id="6882" class="Symbol">{</a><a id="6883" href="Data.AVL.Indexed.html#6883" class="Bound">l</a> <a id="6885" href="Data.AVL.Indexed.html#6885" class="Bound">u</a> <a id="6887" href="Data.AVL.Indexed.html#6887" class="Bound">h</a><a id="6888" class="Symbol">}</a> <a id="6890" class="Symbol">→</a> <a id="6892" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="6897" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="6899" href="Data.AVL.Indexed.html#6883" class="Bound">l</a> <a id="6901" href="Data.AVL.Indexed.html#6885" class="Bound">u</a> <a id="6903" class="Symbol">(</a><a id="6904" class="Number">1</a> <a id="6906" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="6908" href="Data.AVL.Indexed.html#6887" class="Bound">h</a><a id="6909" class="Symbol">)</a> <a id="6911" class="Symbol">→</a>
             <a id="6926" href="Data.Product.html#917" class="Function">∃</a> <a id="6928" class="Symbol">λ</a> <a id="6930" class="Symbol">(</a><a id="6931" href="Data.AVL.Indexed.html#6931" class="Bound">k</a> <a id="6933" class="Symbol">:</a> <a id="6935" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="6938" href="Data.AVL.Indexed.html#1374" class="Bound">V</a><a id="6939" class="Symbol">)</a> <a id="6941" class="Symbol">→</a> <a id="6943" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="6945" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="6951" href="Data.AVL.Indexed.html#6931" class="Bound">k</a> <a id="6953" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="6955" href="Data.AVL.Key.html#884" class="Function Operator">&lt;⁺</a> <a id="6958" href="Data.AVL.Indexed.html#6885" class="Bound">u</a> <a id="6960" href="Data.Product.html#1389" class="Function Operator">×</a>
                            <a id="6990" href="Data.Product.html#917" class="Function">∃</a> <a id="6992" class="Symbol">λ</a> <a id="6994" href="Data.AVL.Indexed.html#6994" class="Bound">i</a> <a id="6996" class="Symbol">→</a> <a id="6998" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="7003" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="7005" href="Data.AVL.Indexed.html#6883" class="Bound">l</a> <a id="7007" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">[</a> <a id="7009" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="7015" href="Data.AVL.Indexed.html#6931" class="Bound">k</a> <a id="7017" href="Data.AVL.Key.html#727" class="InductiveConstructor Operator">]</a> <a id="7019" class="Symbol">(</a><a id="7020" href="Data.AVL.Indexed.html#6994" class="Bound">i</a> <a id="7022" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="7024" href="Data.AVL.Indexed.html#6887" class="Bound">h</a><a id="7025" class="Symbol">)</a>
  <a id="7029" href="Data.AVL.Indexed.html#6869" class="Function">initLast</a> <a id="7038" class="Symbol">(</a><a id="7039" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="7044" href="Data.AVL.Indexed.html#7044" class="Bound">k₂</a> <a id="7047" href="Data.AVL.Indexed.html#7047" class="Bound">t₁</a> <a id="7050" class="Symbol">(</a><a id="7051" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="7056" href="Data.AVL.Indexed.html#7056" class="Bound">k₂&lt;u</a><a id="7060" class="Symbol">)</a> <a id="7062" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a><a id="7064" class="Symbol">)</a> <a id="7066" class="Symbol">=</a> <a id="7068" class="Symbol">(</a><a id="7069" href="Data.AVL.Indexed.html#7044" class="Bound">k₂</a> <a id="7072" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7074" href="Data.AVL.Indexed.html#7056" class="Bound">k₂&lt;u</a> <a id="7079" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7081" class="Symbol">(</a><a id="7082" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="7085" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7087" href="Data.AVL.Indexed.html#7047" class="Bound">t₁</a><a id="7089" class="Symbol">))</a>
  <a id="7094" href="Data.AVL.Indexed.html#6869" class="Function">initLast</a> <a id="7103" class="Symbol">(</a><a id="7104" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="7109" href="Data.AVL.Indexed.html#7109" class="Bound">k₂</a> <a id="7112" href="Data.AVL.Indexed.html#7112" class="Bound">t₁</a> <a id="7115" class="Symbol">(</a><a id="7116" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="7121" href="Data.AVL.Indexed.html#7121" class="Bound">k₂&lt;u</a><a id="7125" class="Symbol">)</a> <a id="7127" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a><a id="7129" class="Symbol">)</a> <a id="7131" class="Symbol">=</a> <a id="7133" class="Symbol">(</a><a id="7134" href="Data.AVL.Indexed.html#7109" class="Bound">k₂</a> <a id="7137" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7139" href="Data.AVL.Indexed.html#7121" class="Bound">k₂&lt;u</a> <a id="7144" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7146" class="Symbol">(</a><a id="7147" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="7150" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7152" href="Data.AVL.Indexed.html#7112" class="Bound">t₁</a><a id="7154" class="Symbol">))</a>
  <a id="7159" href="Data.AVL.Indexed.html#6869" class="CatchallClause Function">initLast</a><a id="7167" class="CatchallClause"> </a><a id="7168" class="CatchallClause Symbol">(</a><a id="7169" href="Data.AVL.Indexed.html#1181" class="CatchallClause InductiveConstructor">node</a><a id="7173" class="CatchallClause"> </a><a id="7174" class="CatchallClause Symbol">{</a><a id="7175" class="CatchallClause Argument">hʳ</a><a id="7177" class="CatchallClause"> </a><a id="7178" class="CatchallClause Symbol">=</a><a id="7179" class="CatchallClause"> </a><a id="7180" href="Agda.Builtin.Nat.html#128" class="CatchallClause InductiveConstructor">suc</a><a id="7183" class="CatchallClause"> </a><a id="7184" class="CatchallClause Symbol">_}</a><a id="7186" class="CatchallClause"> </a><a id="7187" href="Data.AVL.Indexed.html#7187" class="CatchallClause Bound">k₂</a><a id="7189" class="CatchallClause"> </a><a id="7190" href="Data.AVL.Indexed.html#7190" class="CatchallClause Bound">t₁</a><a id="7192" class="CatchallClause"> </a><a id="7193" href="Data.AVL.Indexed.html#7193" class="CatchallClause Bound">t₃₄</a><a id="7196" class="CatchallClause"> </a><a id="7197" href="Data.AVL.Indexed.html#7197" class="CatchallClause Bound">bal</a><a id="7200" class="CatchallClause Symbol">)</a> <a id="7202" class="Keyword">with</a> <a id="7207" href="Data.AVL.Indexed.html#6869" class="Function">initLast</a> <a id="7216" href="Data.AVL.Indexed.html#7193" class="Bound">t₃₄</a>
  <a id="7222" class="Symbol">...</a> <a id="7226" class="Symbol">|</a> <a id="7228" class="Symbol">(</a><a id="7229" href="Data.AVL.Indexed.html#7229" class="Bound">k₄</a> <a id="7232" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7234" href="Data.AVL.Indexed.html#7234" class="Bound">k₄&lt;u</a> <a id="7239" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7241" href="Data.AVL.Indexed.html#7241" class="Bound">t₃</a><a id="7243" class="Symbol">)</a> <a id="7245" class="Symbol">=</a> <a id="7247" class="Symbol">(</a><a id="7248" href="Data.AVL.Indexed.html#7229" class="Bound">k₄</a> <a id="7251" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7253" href="Data.AVL.Indexed.html#7234" class="Bound">k₄&lt;u</a> <a id="7258" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7260" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="7267" class="Symbol">_</a> <a id="7269" class="Bound">k₂</a> <a id="7272" class="Bound">t₁</a> <a id="7275" href="Data.AVL.Indexed.html#7241" class="Bound">t₃</a> <a id="7278" class="Bound">bal</a><a id="7281" class="Symbol">)</a>

  <a id="7286" class="Comment">-- Another joining function. Logarithmic in the size of either of</a>
  <a id="7354" class="Comment">-- the input trees (which need to have almost equal heights).</a>

  <a id="7419" href="Data.AVL.Indexed.html#7419" class="Function">join</a> <a id="7424" class="Symbol">:</a> <a id="7426" class="Symbol">∀</a> <a id="7428" class="Symbol">{</a><a id="7429" href="Data.AVL.Indexed.html#7429" class="Bound">l</a> <a id="7431" href="Data.AVL.Indexed.html#7431" class="Bound">m</a> <a id="7433" href="Data.AVL.Indexed.html#7433" class="Bound">u</a> <a id="7435" href="Data.AVL.Indexed.html#7435" class="Bound">hˡ</a> <a id="7438" href="Data.AVL.Indexed.html#7438" class="Bound">hʳ</a> <a id="7441" href="Data.AVL.Indexed.html#7441" class="Bound">h</a><a id="7442" class="Symbol">}</a> <a id="7444" class="Symbol">→</a>
         <a id="7455" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="7460" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="7462" href="Data.AVL.Indexed.html#7429" class="Bound">l</a> <a id="7464" href="Data.AVL.Indexed.html#7431" class="Bound">m</a> <a id="7466" href="Data.AVL.Indexed.html#7435" class="Bound">hˡ</a> <a id="7469" class="Symbol">→</a> <a id="7471" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="7476" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="7478" href="Data.AVL.Indexed.html#7431" class="Bound">m</a> <a id="7480" href="Data.AVL.Indexed.html#7433" class="Bound">u</a> <a id="7482" href="Data.AVL.Indexed.html#7438" class="Bound">hʳ</a> <a id="7485" class="Symbol">→</a> <a id="7487" class="Symbol">(</a><a id="7488" href="Data.AVL.Indexed.html#7488" class="Bound">bal</a> <a id="7492" class="Symbol">:</a> <a id="7494" href="Data.AVL.Indexed.html#7435" class="Bound">hˡ</a> <a id="7497" href="Data.AVL.Height.html#950" class="Datatype Operator">∼</a> <a id="7499" href="Data.AVL.Indexed.html#7438" class="Bound">hʳ</a> <a id="7502" href="Data.AVL.Height.html#950" class="Datatype Operator">⊔</a> <a id="7504" href="Data.AVL.Indexed.html#7441" class="Bound">h</a><a id="7505" class="Symbol">)</a> <a id="7507" class="Symbol">→</a>
         <a id="7518" href="Data.Product.html#917" class="Function">∃</a> <a id="7520" class="Symbol">λ</a> <a id="7522" href="Data.AVL.Indexed.html#7522" class="Bound">i</a> <a id="7524" class="Symbol">→</a> <a id="7526" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="7531" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="7533" href="Data.AVL.Indexed.html#7429" class="Bound">l</a> <a id="7535" href="Data.AVL.Indexed.html#7433" class="Bound">u</a> <a id="7537" class="Symbol">(</a><a id="7538" href="Data.AVL.Indexed.html#7522" class="Bound">i</a> <a id="7540" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="7542" href="Data.AVL.Indexed.html#7441" class="Bound">h</a><a id="7543" class="Symbol">)</a>
  <a id="7547" href="Data.AVL.Indexed.html#7419" class="Function">join</a> <a id="7552" href="Data.AVL.Indexed.html#7552" class="Bound">t₁</a> <a id="7555" class="Symbol">(</a><a id="7556" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="7561" href="Data.AVL.Indexed.html#7561" class="Bound">m&lt;u</a><a id="7564" class="Symbol">)</a> <a id="7566" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a> <a id="7569" class="Symbol">=</a> <a id="7571" class="Symbol">(</a><a id="7572" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="7575" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7577" href="Data.AVL.Indexed.html#2657" class="Function">castʳ</a> <a id="7583" href="Data.AVL.Indexed.html#7552" class="Bound">t₁</a> <a id="7586" href="Data.AVL.Indexed.html#7561" class="Bound">m&lt;u</a><a id="7589" class="Symbol">)</a>
  <a id="7593" href="Data.AVL.Indexed.html#7419" class="Function">join</a> <a id="7598" href="Data.AVL.Indexed.html#7598" class="Bound">t₁</a> <a id="7601" class="Symbol">(</a><a id="7602" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="7607" href="Data.AVL.Indexed.html#7607" class="Bound">m&lt;u</a><a id="7610" class="Symbol">)</a> <a id="7612" href="Data.AVL.Height.html#1052" class="InductiveConstructor">∼-</a> <a id="7615" class="Symbol">=</a> <a id="7617" class="Symbol">(</a><a id="7618" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="7621" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7623" href="Data.AVL.Indexed.html#2657" class="Function">castʳ</a> <a id="7629" href="Data.AVL.Indexed.html#7598" class="Bound">t₁</a> <a id="7632" href="Data.AVL.Indexed.html#7607" class="Bound">m&lt;u</a><a id="7635" class="Symbol">)</a>
  <a id="7639" href="Data.AVL.Indexed.html#7419" class="CatchallClause Function">join</a><a id="7643" class="CatchallClause"> </a><a id="7644" class="CatchallClause Symbol">{</a><a id="7645" class="CatchallClause Argument">hʳ</a><a id="7647" class="CatchallClause"> </a><a id="7648" class="CatchallClause Symbol">=</a><a id="7649" class="CatchallClause"> </a><a id="7650" href="Agda.Builtin.Nat.html#128" class="CatchallClause InductiveConstructor">suc</a><a id="7653" class="CatchallClause"> </a><a id="7654" class="CatchallClause Symbol">_}</a><a id="7656" class="CatchallClause"> </a><a id="7657" href="Data.AVL.Indexed.html#7657" class="CatchallClause Bound">t₁</a><a id="7659" class="CatchallClause"> </a><a id="7660" href="Data.AVL.Indexed.html#7660" class="CatchallClause Bound">t₂₃</a><a id="7663" class="CatchallClause"> </a><a id="7664" href="Data.AVL.Indexed.html#7664" class="CatchallClause Bound">bal</a> <a id="7668" class="Keyword">with</a> <a id="7673" href="Data.AVL.Indexed.html#6349" class="Function">headTail</a> <a id="7682" href="Data.AVL.Indexed.html#7660" class="Bound">t₂₃</a>
  <a id="7688" class="Symbol">...</a> <a id="7692" class="Symbol">|</a> <a id="7694" class="Symbol">(</a><a id="7695" href="Data.AVL.Indexed.html#7695" class="Bound">k₂</a> <a id="7698" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7700" href="Data.AVL.Indexed.html#7700" class="Bound">m&lt;k₂</a> <a id="7705" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7707" href="Data.AVL.Indexed.html#7707" class="Bound">t₃</a><a id="7709" class="Symbol">)</a> <a id="7711" class="Symbol">=</a> <a id="7713" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="7720" class="Symbol">_</a> <a id="7722" href="Data.AVL.Indexed.html#7695" class="Bound">k₂</a> <a id="7725" class="Symbol">(</a><a id="7726" href="Data.AVL.Indexed.html#2657" class="Function">castʳ</a> <a id="7732" class="Bound">t₁</a> <a id="7735" href="Data.AVL.Indexed.html#7700" class="Bound">m&lt;k₂</a><a id="7739" class="Symbol">)</a> <a id="7741" href="Data.AVL.Indexed.html#7707" class="Bound">t₃</a> <a id="7744" class="Bound">bal</a>

  <a id="7751" class="Comment">-- An empty tree.</a>

  <a id="7772" href="Data.AVL.Indexed.html#7772" class="Function">empty</a> <a id="7778" class="Symbol">:</a> <a id="7780" class="Symbol">∀</a> <a id="7782" class="Symbol">{</a><a id="7783" href="Data.AVL.Indexed.html#7783" class="Bound">l</a> <a id="7785" href="Data.AVL.Indexed.html#7785" class="Bound">u</a><a id="7786" class="Symbol">}</a> <a id="7788" class="Symbol">→</a> <a id="7790" href="Data.AVL.Indexed.html#7783" class="Bound">l</a> <a id="7792" href="Data.AVL.Key.html#884" class="Function Operator">&lt;⁺</a> <a id="7795" href="Data.AVL.Indexed.html#7785" class="Bound">u</a> <a id="7797" class="Symbol">→</a> <a id="7799" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="7804" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="7806" href="Data.AVL.Indexed.html#7783" class="Bound">l</a> <a id="7808" href="Data.AVL.Indexed.html#7785" class="Bound">u</a> <a id="7810" class="Number">0</a>
  <a id="7814" href="Data.AVL.Indexed.html#7772" class="Function">empty</a> <a id="7820" class="Symbol">=</a> <a id="7822" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a>

  <a id="7830" class="Comment">-- A singleton tree.</a>

  <a id="7854" href="Data.AVL.Indexed.html#7854" class="Function">singleton</a> <a id="7864" class="Symbol">:</a> <a id="7866" class="Symbol">∀</a> <a id="7868" class="Symbol">{</a><a id="7869" href="Data.AVL.Indexed.html#7869" class="Bound">l</a> <a id="7871" href="Data.AVL.Indexed.html#7871" class="Bound">u</a><a id="7872" class="Symbol">}</a> <a id="7874" class="Symbol">(</a><a id="7875" href="Data.AVL.Indexed.html#7875" class="Bound">k</a> <a id="7877" class="Symbol">:</a> <a id="7879" href="Data.AVL.Indexed.html#378" class="Bound">Key</a><a id="7882" class="Symbol">)</a> <a id="7884" class="Symbol">→</a> <a id="7886" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="7888" href="Data.AVL.Indexed.html#7875" class="Bound">k</a> <a id="7890" class="Symbol">→</a> <a id="7892" href="Data.AVL.Indexed.html#7869" class="Bound">l</a> <a id="7894" href="Data.AVL.Key.html#1090" class="Function Operator">&lt;</a> <a id="7896" href="Data.AVL.Indexed.html#7875" class="Bound">k</a> <a id="7898" href="Data.AVL.Key.html#1090" class="Function Operator">&lt;</a> <a id="7900" href="Data.AVL.Indexed.html#7871" class="Bound">u</a> <a id="7902" class="Symbol">→</a> <a id="7904" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="7909" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="7911" href="Data.AVL.Indexed.html#7869" class="Bound">l</a> <a id="7913" href="Data.AVL.Indexed.html#7871" class="Bound">u</a> <a id="7915" class="Number">1</a>
  <a id="7919" href="Data.AVL.Indexed.html#7854" class="Function">singleton</a> <a id="7929" href="Data.AVL.Indexed.html#7929" class="Bound">k</a> <a id="7931" href="Data.AVL.Indexed.html#7931" class="Bound">v</a> <a id="7933" class="Symbol">(</a><a id="7934" href="Data.AVL.Indexed.html#7934" class="Bound">l&lt;k</a> <a id="7938" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7940" href="Data.AVL.Indexed.html#7940" class="Bound">k&lt;u</a><a id="7943" class="Symbol">)</a> <a id="7945" class="Symbol">=</a> <a id="7947" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="7952" class="Symbol">(</a><a id="7953" href="Data.AVL.Indexed.html#7929" class="Bound">k</a> <a id="7955" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7957" href="Data.AVL.Indexed.html#7931" class="Bound">v</a><a id="7958" class="Symbol">)</a> <a id="7960" class="Symbol">(</a><a id="7961" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="7966" href="Data.AVL.Indexed.html#7934" class="Bound">l&lt;k</a><a id="7969" class="Symbol">)</a> <a id="7971" class="Symbol">(</a><a id="7972" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="7977" href="Data.AVL.Indexed.html#7940" class="Bound">k&lt;u</a><a id="7980" class="Symbol">)</a> <a id="7982" href="Data.AVL.Height.html#1019" class="InductiveConstructor">∼0</a>

  <a id="7988" class="Comment">-- Inserts a key into the tree, using a function to combine any</a>
  <a id="8054" class="Comment">-- existing value with the new value. Logarithmic in the size of the</a>
  <a id="8125" class="Comment">-- tree (assuming constant-time comparisons and a constant-time</a>
  <a id="8191" class="Comment">-- combining function).</a>

  <a id="8218" href="Data.AVL.Indexed.html#8218" class="Function">insertWith</a> <a id="8229" class="Symbol">:</a> <a id="8231" class="Symbol">∀</a> <a id="8233" class="Symbol">{</a><a id="8234" href="Data.AVL.Indexed.html#8234" class="Bound">l</a> <a id="8236" href="Data.AVL.Indexed.html#8236" class="Bound">u</a> <a id="8238" href="Data.AVL.Indexed.html#8238" class="Bound">h</a><a id="8239" class="Symbol">}</a> <a id="8241" class="Symbol">→</a> <a id="8243" class="Symbol">(</a><a id="8244" href="Data.AVL.Indexed.html#8244" class="Bound">k</a> <a id="8246" class="Symbol">:</a> <a id="8248" href="Data.AVL.Indexed.html#378" class="Bound">Key</a><a id="8251" class="Symbol">)</a> <a id="8253" class="Symbol">→</a> <a id="8255" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="8257" href="Data.AVL.Indexed.html#8244" class="Bound">k</a> <a id="8259" class="Symbol">→</a>
               <a id="8276" class="Symbol">(</a><a id="8277" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="8279" href="Data.AVL.Indexed.html#8244" class="Bound">k</a> <a id="8281" class="Symbol">→</a> <a id="8283" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="8285" href="Data.AVL.Indexed.html#8244" class="Bound">k</a> <a id="8287" class="Symbol">→</a> <a id="8289" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="8291" href="Data.AVL.Indexed.html#8244" class="Bound">k</a><a id="8292" class="Symbol">)</a> <a id="8294" class="Symbol">→</a>  <a id="8297" class="Comment">-- New → old → result.</a>
               <a id="8335" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="8340" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="8342" href="Data.AVL.Indexed.html#8234" class="Bound">l</a> <a id="8344" href="Data.AVL.Indexed.html#8236" class="Bound">u</a> <a id="8346" href="Data.AVL.Indexed.html#8238" class="Bound">h</a> <a id="8348" class="Symbol">→</a> <a id="8350" href="Data.AVL.Indexed.html#8234" class="Bound">l</a> <a id="8352" href="Data.AVL.Key.html#1090" class="Function Operator">&lt;</a> <a id="8354" href="Data.AVL.Indexed.html#8244" class="Bound">k</a> <a id="8356" href="Data.AVL.Key.html#1090" class="Function Operator">&lt;</a> <a id="8358" href="Data.AVL.Indexed.html#8236" class="Bound">u</a> <a id="8360" class="Symbol">→</a>
               <a id="8377" href="Data.Product.html#917" class="Function">∃</a> <a id="8379" class="Symbol">λ</a> <a id="8381" href="Data.AVL.Indexed.html#8381" class="Bound">i</a> <a id="8383" class="Symbol">→</a> <a id="8385" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="8390" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="8392" href="Data.AVL.Indexed.html#8234" class="Bound">l</a> <a id="8394" href="Data.AVL.Indexed.html#8236" class="Bound">u</a> <a id="8396" class="Symbol">(</a><a id="8397" href="Data.AVL.Indexed.html#8381" class="Bound">i</a> <a id="8399" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="8401" href="Data.AVL.Indexed.html#8238" class="Bound">h</a><a id="8402" class="Symbol">)</a>
  <a id="8406" href="Data.AVL.Indexed.html#8218" class="Function">insertWith</a> <a id="8417" href="Data.AVL.Indexed.html#8417" class="Bound">k</a> <a id="8419" href="Data.AVL.Indexed.html#8419" class="Bound">v</a> <a id="8421" href="Data.AVL.Indexed.html#8421" class="Bound">f</a> <a id="8423" class="Symbol">(</a><a id="8424" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="8429" href="Data.AVL.Indexed.html#8429" class="Bound">l&lt;u</a><a id="8432" class="Symbol">)</a> <a id="8434" href="Data.AVL.Indexed.html#8434" class="Bound">l&lt;k&lt;u</a> <a id="8440" class="Symbol">=</a> <a id="8442" class="Symbol">(</a><a id="8443" href="Data.AVL.Height.html#430" class="InductiveConstructor">1#</a> <a id="8446" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8448" href="Data.AVL.Indexed.html#7854" class="Function">singleton</a> <a id="8458" href="Data.AVL.Indexed.html#8417" class="Bound">k</a> <a id="8460" href="Data.AVL.Indexed.html#8419" class="Bound">v</a> <a id="8462" href="Data.AVL.Indexed.html#8434" class="Bound">l&lt;k&lt;u</a><a id="8467" class="Symbol">)</a>
  <a id="8471" href="Data.AVL.Indexed.html#8218" class="Function">insertWith</a> <a id="8482" href="Data.AVL.Indexed.html#8482" class="Bound">k</a> <a id="8484" href="Data.AVL.Indexed.html#8484" class="Bound">v</a> <a id="8486" href="Data.AVL.Indexed.html#8486" class="Bound">f</a> <a id="8488" class="Symbol">(</a><a id="8489" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="8494" class="Symbol">(</a><a id="8495" href="Data.AVL.Indexed.html#8495" class="Bound">k′</a> <a id="8498" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8500" href="Data.AVL.Indexed.html#8500" class="Bound">v′</a><a id="8502" class="Symbol">)</a> <a id="8504" href="Data.AVL.Indexed.html#8504" class="Bound">lp</a> <a id="8507" href="Data.AVL.Indexed.html#8507" class="Bound">pu</a> <a id="8510" href="Data.AVL.Indexed.html#8510" class="Bound">bal</a><a id="8513" class="Symbol">)</a> <a id="8515" class="Symbol">(</a><a id="8516" href="Data.AVL.Indexed.html#8516" class="Bound">l&lt;k</a> <a id="8520" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8522" href="Data.AVL.Indexed.html#8522" class="Bound">k&lt;u</a><a id="8525" class="Symbol">)</a> <a id="8527" class="Keyword">with</a> <a id="8532" href="Relation.Binary.html#10503" class="Field">compare</a> <a id="8540" href="Data.AVL.Indexed.html#8482" class="Bound">k</a> <a id="8542" href="Data.AVL.Indexed.html#8495" class="Bound">k′</a>
  <a id="8547" class="Symbol">...</a> <a id="8551" class="Symbol">|</a> <a id="8553" href="Relation.Binary.Core.html#3783" class="InductiveConstructor">tri&lt;</a> <a id="8558" href="Data.AVL.Indexed.html#8558" class="Bound">k&lt;k′</a> <a id="8563" class="Symbol">_</a> <a id="8565" class="Symbol">_</a> <a id="8567" class="Symbol">=</a> <a id="8569" href="Data.AVL.Indexed.html#2960" class="Function">joinˡ⁺</a> <a id="8576" class="Symbol">(</a><a id="8577" class="Bound">k′</a> <a id="8580" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8582" class="Bound">v′</a><a id="8584" class="Symbol">)</a> <a id="8586" class="Symbol">(</a><a id="8587" href="Data.AVL.Indexed.html#8218" class="Function">insertWith</a> <a id="8598" class="Bound">k</a> <a id="8600" class="Bound">v</a> <a id="8602" class="Bound">f</a> <a id="8604" class="Bound">lp</a> <a id="8607" class="Symbol">(</a><a id="8608" class="Bound">l&lt;k</a> <a id="8612" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8614" href="Data.AVL.Indexed.html#8558" class="Bound">k&lt;k′</a><a id="8618" class="Symbol">))</a> <a id="8621" class="Bound">pu</a> <a id="8624" class="Bound">bal</a>
  <a id="8630" class="Symbol">...</a> <a id="8634" class="Symbol">|</a> <a id="8636" href="Relation.Binary.Core.html#3891" class="InductiveConstructor">tri&gt;</a> <a id="8641" class="Symbol">_</a> <a id="8643" class="Symbol">_</a> <a id="8645" href="Data.AVL.Indexed.html#8645" class="Bound">k′&lt;k</a> <a id="8650" class="Symbol">=</a> <a id="8652" href="Data.AVL.Indexed.html#3956" class="Function">joinʳ⁺</a> <a id="8659" class="Symbol">(</a><a id="8660" class="Bound">k′</a> <a id="8663" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8665" class="Bound">v′</a><a id="8667" class="Symbol">)</a> <a id="8669" class="Bound">lp</a> <a id="8672" class="Symbol">(</a><a id="8673" href="Data.AVL.Indexed.html#8218" class="Function">insertWith</a> <a id="8684" class="Bound">k</a> <a id="8686" class="Bound">v</a> <a id="8688" class="Bound">f</a> <a id="8690" class="Bound">pu</a> <a id="8693" class="Symbol">(</a><a id="8694" href="Data.AVL.Indexed.html#8645" class="Bound">k′&lt;k</a> <a id="8699" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8701" class="Bound">k&lt;u</a><a id="8704" class="Symbol">))</a> <a id="8707" class="Bound">bal</a>
  <a id="8713" class="Symbol">...</a> <a id="8717" class="Symbol">|</a> <a id="8719" href="Relation.Binary.Core.html#3837" class="InductiveConstructor">tri≈</a> <a id="8724" class="Symbol">_</a> <a id="8726" href="Data.AVL.Indexed.html#8726" class="Bound">k≡k′</a> <a id="8731" class="Symbol">_</a> <a id="8733" class="Keyword">rewrite</a> <a id="8741" href="Relation.Binary.PropositionalEquality.Core.html#874" class="Function">P.sym</a> <a id="8747" href="Data.AVL.Indexed.html#8726" class="Bound">k≡k′</a> <a id="8752" class="Symbol">=</a> <a id="8754" class="Symbol">(</a><a id="8755" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="8758" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8760" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="8765" class="Symbol">(</a><a id="8766" class="Bound">k</a> <a id="8768" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8770" class="Bound">f</a> <a id="8772" class="Bound">v</a> <a id="8774" class="Bound">v′</a><a id="8776" class="Symbol">)</a> <a id="8778" class="Bound">lp</a> <a id="8781" class="Bound">pu</a> <a id="8784" class="Bound">bal</a><a id="8787" class="Symbol">)</a>

  <a id="8792" class="Comment">-- Inserts a key into the tree. If the key already exists, then it</a>
  <a id="8861" class="Comment">-- is replaced. Logarithmic in the size of the tree (assuming</a>
  <a id="8925" class="Comment">-- constant-time comparisons).</a>

  <a id="8959" href="Data.AVL.Indexed.html#8959" class="Function">insert</a> <a id="8966" class="Symbol">:</a> <a id="8968" class="Symbol">∀</a> <a id="8970" class="Symbol">{</a><a id="8971" href="Data.AVL.Indexed.html#8971" class="Bound">l</a> <a id="8973" href="Data.AVL.Indexed.html#8973" class="Bound">u</a> <a id="8975" href="Data.AVL.Indexed.html#8975" class="Bound">h</a><a id="8976" class="Symbol">}</a> <a id="8978" class="Symbol">→</a> <a id="8980" class="Symbol">(</a><a id="8981" href="Data.AVL.Indexed.html#8981" class="Bound">k</a> <a id="8983" class="Symbol">:</a> <a id="8985" href="Data.AVL.Indexed.html#378" class="Bound">Key</a><a id="8988" class="Symbol">)</a> <a id="8990" class="Symbol">→</a> <a id="8992" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="8994" href="Data.AVL.Indexed.html#8981" class="Bound">k</a> <a id="8996" class="Symbol">→</a> <a id="8998" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="9003" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="9005" href="Data.AVL.Indexed.html#8971" class="Bound">l</a> <a id="9007" href="Data.AVL.Indexed.html#8973" class="Bound">u</a> <a id="9009" href="Data.AVL.Indexed.html#8975" class="Bound">h</a> <a id="9011" class="Symbol">→</a> <a id="9013" href="Data.AVL.Indexed.html#8971" class="Bound">l</a> <a id="9015" href="Data.AVL.Key.html#1090" class="Function Operator">&lt;</a> <a id="9017" href="Data.AVL.Indexed.html#8981" class="Bound">k</a> <a id="9019" href="Data.AVL.Key.html#1090" class="Function Operator">&lt;</a> <a id="9021" href="Data.AVL.Indexed.html#8973" class="Bound">u</a> <a id="9023" class="Symbol">→</a>
           <a id="9036" href="Data.Product.html#917" class="Function">∃</a> <a id="9038" class="Symbol">λ</a> <a id="9040" href="Data.AVL.Indexed.html#9040" class="Bound">i</a> <a id="9042" class="Symbol">→</a> <a id="9044" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="9049" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="9051" href="Data.AVL.Indexed.html#8971" class="Bound">l</a> <a id="9053" href="Data.AVL.Indexed.html#8973" class="Bound">u</a> <a id="9055" class="Symbol">(</a><a id="9056" href="Data.AVL.Indexed.html#9040" class="Bound">i</a> <a id="9058" href="Data.AVL.Height.html#515" class="Function Operator">⊕</a> <a id="9060" href="Data.AVL.Indexed.html#8975" class="Bound">h</a><a id="9061" class="Symbol">)</a>
  <a id="9065" href="Data.AVL.Indexed.html#8959" class="Function">insert</a> <a id="9072" href="Data.AVL.Indexed.html#9072" class="Bound">k</a> <a id="9074" href="Data.AVL.Indexed.html#9074" class="Bound">v</a> <a id="9076" class="Symbol">=</a> <a id="9078" href="Data.AVL.Indexed.html#8218" class="Function">insertWith</a> <a id="9089" href="Data.AVL.Indexed.html#9072" class="Bound">k</a> <a id="9091" href="Data.AVL.Indexed.html#9074" class="Bound">v</a> <a id="9093" href="Function.html#1145" class="Function">const</a>

  <a id="9102" class="Comment">-- Deletes the key/value pair containing the given key, if any.</a>
  <a id="9168" class="Comment">-- Logarithmic in the size of the tree (assuming constant-time</a>
  <a id="9233" class="Comment">-- comparisons).</a>

  <a id="9253" href="Data.AVL.Indexed.html#9253" class="Function">delete</a> <a id="9260" class="Symbol">:</a> <a id="9262" class="Symbol">∀</a> <a id="9264" class="Symbol">{</a><a id="9265" href="Data.AVL.Indexed.html#9265" class="Bound">l</a> <a id="9267" href="Data.AVL.Indexed.html#9267" class="Bound">u</a> <a id="9269" href="Data.AVL.Indexed.html#9269" class="Bound">h</a><a id="9270" class="Symbol">}</a> <a id="9272" class="Symbol">→</a> <a id="9274" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="9278" class="Symbol">→</a> <a id="9280" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="9285" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="9287" href="Data.AVL.Indexed.html#9265" class="Bound">l</a> <a id="9289" href="Data.AVL.Indexed.html#9267" class="Bound">u</a> <a id="9291" href="Data.AVL.Indexed.html#9269" class="Bound">h</a> <a id="9293" class="Symbol">→</a>
           <a id="9306" href="Data.Product.html#917" class="Function">∃</a> <a id="9308" class="Symbol">λ</a> <a id="9310" href="Data.AVL.Indexed.html#9310" class="Bound">i</a> <a id="9312" class="Symbol">→</a> <a id="9314" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="9319" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="9321" href="Data.AVL.Indexed.html#9265" class="Bound">l</a> <a id="9323" href="Data.AVL.Indexed.html#9267" class="Bound">u</a> <a id="9325" href="Data.AVL.Height.html#600" class="Function Operator">pred[</a> <a id="9331" href="Data.AVL.Indexed.html#9310" class="Bound">i</a> <a id="9333" href="Data.AVL.Height.html#600" class="Function Operator">⊕</a> <a id="9335" href="Data.AVL.Indexed.html#9269" class="Bound">h</a> <a id="9337" href="Data.AVL.Height.html#600" class="Function Operator">]</a>
  <a id="9341" href="Data.AVL.Indexed.html#9253" class="Function">delete</a> <a id="9348" href="Data.AVL.Indexed.html#9348" class="Bound">k</a> <a id="9350" class="Symbol">(</a><a id="9351" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="9356" href="Data.AVL.Indexed.html#9356" class="Bound">l&lt;u</a><a id="9359" class="Symbol">)</a>         <a id="9369" class="Symbol">=</a> <a id="9371" class="Symbol">(</a><a id="9372" href="Data.AVL.Height.html#408" class="InductiveConstructor">0#</a> <a id="9375" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9377" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="9382" href="Data.AVL.Indexed.html#9356" class="Bound">l&lt;u</a><a id="9385" class="Symbol">)</a>
  <a id="9389" href="Data.AVL.Indexed.html#9253" class="Function">delete</a> <a id="9396" href="Data.AVL.Indexed.html#9396" class="Bound">k</a> <a id="9398" class="Symbol">(</a><a id="9399" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="9404" href="Data.AVL.Indexed.html#9404" class="Bound">p</a> <a id="9406" href="Data.AVL.Indexed.html#9406" class="Bound">lp</a> <a id="9409" href="Data.AVL.Indexed.html#9409" class="Bound">pu</a> <a id="9412" href="Data.AVL.Indexed.html#9412" class="Bound">bal</a><a id="9415" class="Symbol">)</a> <a id="9417" class="Keyword">with</a> <a id="9422" href="Relation.Binary.html#10503" class="Field">compare</a> <a id="9430" href="Data.AVL.Indexed.html#9396" class="Bound">k</a> <a id="9432" class="Symbol">(</a><a id="9433" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="9439" href="Data.AVL.Indexed.html#9404" class="Bound">p</a><a id="9440" class="Symbol">)</a>
  <a id="9444" class="Symbol">...</a> <a id="9448" class="Symbol">|</a> <a id="9450" href="Relation.Binary.Core.html#3783" class="InductiveConstructor">tri&lt;</a> <a id="9455" class="Symbol">_</a> <a id="9457" class="Symbol">_</a> <a id="9459" class="Symbol">_</a> <a id="9461" class="Symbol">=</a> <a id="9463" href="Data.AVL.Indexed.html#4955" class="Function">joinˡ⁻</a> <a id="9470" class="Symbol">_</a> <a id="9472" class="Bound">p</a> <a id="9474" class="Symbol">(</a><a id="9475" href="Data.AVL.Indexed.html#9253" class="Function">delete</a> <a id="9482" class="Bound">k</a> <a id="9484" class="Bound">lp</a><a id="9486" class="Symbol">)</a> <a id="9488" class="Bound">pu</a> <a id="9491" class="Bound">bal</a>
  <a id="9497" class="Symbol">...</a> <a id="9501" class="Symbol">|</a> <a id="9503" href="Relation.Binary.Core.html#3891" class="InductiveConstructor">tri&gt;</a> <a id="9508" class="Symbol">_</a> <a id="9510" class="Symbol">_</a> <a id="9512" class="Symbol">_</a> <a id="9514" class="Symbol">=</a> <a id="9516" href="Data.AVL.Indexed.html#5598" class="Function">joinʳ⁻</a> <a id="9523" class="Symbol">_</a> <a id="9525" class="Bound">p</a> <a id="9527" class="Bound">lp</a> <a id="9530" class="Symbol">(</a><a id="9531" href="Data.AVL.Indexed.html#9253" class="Function">delete</a> <a id="9538" class="Bound">k</a> <a id="9540" class="Bound">pu</a><a id="9542" class="Symbol">)</a> <a id="9544" class="Bound">bal</a>
  <a id="9550" class="Symbol">...</a> <a id="9554" class="Symbol">|</a> <a id="9556" href="Relation.Binary.Core.html#3837" class="InductiveConstructor">tri≈</a> <a id="9561" class="Symbol">_</a> <a id="9563" class="Symbol">_</a> <a id="9565" class="Symbol">_</a> <a id="9567" class="Symbol">=</a> <a id="9569" href="Data.AVL.Indexed.html#7419" class="Function">join</a> <a id="9574" class="Bound">lp</a> <a id="9577" class="Bound">pu</a> <a id="9580" class="Bound">bal</a>

  <a id="9587" class="Comment">-- Looks up a key. Logarithmic in the size of the tree (assuming</a>
  <a id="9654" class="Comment">-- constant-time comparisons).</a>

  <a id="9688" href="Data.AVL.Indexed.html#9688" class="Function">lookup</a> <a id="9695" class="Symbol">:</a> <a id="9697" class="Symbol">∀</a> <a id="9699" class="Symbol">{</a><a id="9700" href="Data.AVL.Indexed.html#9700" class="Bound">l</a> <a id="9702" href="Data.AVL.Indexed.html#9702" class="Bound">u</a> <a id="9704" href="Data.AVL.Indexed.html#9704" class="Bound">h</a><a id="9705" class="Symbol">}</a> <a id="9707" class="Symbol">→</a> <a id="9709" class="Symbol">(</a><a id="9710" href="Data.AVL.Indexed.html#9710" class="Bound">k</a> <a id="9712" class="Symbol">:</a> <a id="9714" href="Data.AVL.Indexed.html#378" class="Bound">Key</a><a id="9717" class="Symbol">)</a> <a id="9719" class="Symbol">→</a> <a id="9721" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="9726" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="9728" href="Data.AVL.Indexed.html#9700" class="Bound">l</a> <a id="9730" href="Data.AVL.Indexed.html#9702" class="Bound">u</a> <a id="9732" href="Data.AVL.Indexed.html#9704" class="Bound">h</a> <a id="9734" class="Symbol">→</a> <a id="9736" href="Data.Maybe.Base.html#710" class="Datatype">Maybe</a> <a id="9742" class="Symbol">(</a><a id="9743" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="9745" href="Data.AVL.Indexed.html#9710" class="Bound">k</a><a id="9746" class="Symbol">)</a>
  <a id="9750" href="Data.AVL.Indexed.html#9688" class="Function">lookup</a> <a id="9757" href="Data.AVL.Indexed.html#9757" class="Bound">k</a> <a id="9759" class="Symbol">(</a><a id="9760" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="9765" class="Symbol">_)</a>                  <a id="9785" class="Symbol">=</a> <a id="9787" href="Data.Maybe.Base.html#778" class="InductiveConstructor">nothing</a>
  <a id="9797" href="Data.AVL.Indexed.html#9688" class="Function">lookup</a> <a id="9804" href="Data.AVL.Indexed.html#9804" class="Bound">k</a> <a id="9806" class="Symbol">(</a><a id="9807" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="9812" class="Symbol">(</a><a id="9813" href="Data.AVL.Indexed.html#9813" class="Bound">k′</a> <a id="9816" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9818" href="Data.AVL.Indexed.html#9818" class="Bound">v</a><a id="9819" class="Symbol">)</a> <a id="9821" href="Data.AVL.Indexed.html#9821" class="Bound">lk′</a> <a id="9825" href="Data.AVL.Indexed.html#9825" class="Bound">k′u</a> <a id="9829" class="Symbol">_)</a> <a id="9832" class="Keyword">with</a> <a id="9837" href="Relation.Binary.html#10503" class="Field">compare</a> <a id="9845" href="Data.AVL.Indexed.html#9804" class="Bound">k</a> <a id="9847" href="Data.AVL.Indexed.html#9813" class="Bound">k′</a>
  <a id="9852" class="Symbol">...</a> <a id="9856" class="Symbol">|</a> <a id="9858" href="Relation.Binary.Core.html#3783" class="InductiveConstructor">tri&lt;</a> <a id="9863" class="Symbol">_</a> <a id="9865" class="Symbol">_</a>  <a id="9868" class="Symbol">_</a> <a id="9870" class="Symbol">=</a> <a id="9872" href="Data.AVL.Indexed.html#9688" class="Function">lookup</a> <a id="9879" class="Bound">k</a> <a id="9881" class="Bound">lk′</a>
  <a id="9887" class="Symbol">...</a> <a id="9891" class="Symbol">|</a> <a id="9893" href="Relation.Binary.Core.html#3891" class="InductiveConstructor">tri&gt;</a> <a id="9898" class="Symbol">_</a> <a id="9900" class="Symbol">_</a>  <a id="9903" class="Symbol">_</a> <a id="9905" class="Symbol">=</a> <a id="9907" href="Data.AVL.Indexed.html#9688" class="Function">lookup</a> <a id="9914" class="Bound">k</a> <a id="9916" class="Bound">k′u</a>
  <a id="9922" class="Symbol">...</a> <a id="9926" class="Symbol">|</a> <a id="9928" href="Relation.Binary.Core.html#3837" class="InductiveConstructor">tri≈</a> <a id="9933" class="Symbol">_</a> <a id="9935" href="Data.AVL.Indexed.html#9935" class="Bound">eq</a> <a id="9938" class="Symbol">_</a> <a id="9940" class="Keyword">rewrite</a> <a id="9948" href="Data.AVL.Indexed.html#9935" class="Bound">eq</a> <a id="9951" class="Symbol">=</a> <a id="9953" href="Data.Maybe.Base.html#748" class="InductiveConstructor">just</a> <a id="9958" class="Bound">v</a>

  <a id="9963" class="Comment">-- Converts the tree to an ordered list. Linear in the size of the</a>
  <a id="10032" class="Comment">-- tree.</a>

  <a id="10044" class="Keyword">open</a> <a id="10049" href="Data.DifferenceList.html" class="Module">DiffList</a>

  <a id="10061" href="Data.AVL.Indexed.html#10061" class="Function">toDiffList</a> <a id="10072" class="Symbol">:</a> <a id="10074" class="Symbol">∀</a> <a id="10076" class="Symbol">{</a><a id="10077" href="Data.AVL.Indexed.html#10077" class="Bound">l</a> <a id="10079" href="Data.AVL.Indexed.html#10079" class="Bound">u</a> <a id="10081" href="Data.AVL.Indexed.html#10081" class="Bound">h</a><a id="10082" class="Symbol">}</a> <a id="10084" class="Symbol">→</a> <a id="10086" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="10091" href="Data.AVL.Indexed.html#1374" class="Bound">V</a> <a id="10093" href="Data.AVL.Indexed.html#10077" class="Bound">l</a> <a id="10095" href="Data.AVL.Indexed.html#10079" class="Bound">u</a> <a id="10097" href="Data.AVL.Indexed.html#10081" class="Bound">h</a> <a id="10099" class="Symbol">→</a> <a id="10101" href="Data.DifferenceList.html#388" class="Function">DiffList</a> <a id="10110" class="Symbol">(</a><a id="10111" href="Data.AVL.Indexed.html#842" class="Function Operator">K&amp;</a> <a id="10114" href="Data.AVL.Indexed.html#1374" class="Bound">V</a><a id="10115" class="Symbol">)</a>
  <a id="10119" href="Data.AVL.Indexed.html#10061" class="Function">toDiffList</a> <a id="10130" class="Symbol">(</a><a id="10131" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="10136" class="Symbol">_)</a>       <a id="10145" class="Symbol">=</a> <a id="10147" href="Data.DifferenceList.html#559" class="Function">[]</a>
  <a id="10152" href="Data.AVL.Indexed.html#10061" class="Function">toDiffList</a> <a id="10163" class="Symbol">(</a><a id="10164" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="10169" href="Data.AVL.Indexed.html#10169" class="Bound">k</a> <a id="10171" href="Data.AVL.Indexed.html#10171" class="Bound">l</a> <a id="10173" href="Data.AVL.Indexed.html#10173" class="Bound">r</a> <a id="10175" class="Symbol">_)</a> <a id="10178" class="Symbol">=</a> <a id="10180" href="Data.AVL.Indexed.html#10061" class="Function">toDiffList</a> <a id="10191" href="Data.AVL.Indexed.html#10171" class="Bound">l</a> <a id="10193" href="Data.DifferenceList.html#744" class="Function Operator">++</a> <a id="10196" href="Data.AVL.Indexed.html#10169" class="Bound">k</a> <a id="10198" href="Data.DifferenceList.html#609" class="Function Operator">∷</a> <a id="10200" href="Data.AVL.Indexed.html#10061" class="Function">toDiffList</a> <a id="10211" href="Data.AVL.Indexed.html#10173" class="Bound">r</a>

<a id="10214" class="Keyword">module</a> <a id="10221" href="Data.AVL.Indexed.html#10221" class="Module">_</a> <a id="10223" class="Symbol">{</a><a id="10224" href="Data.AVL.Indexed.html#10224" class="Bound">v</a> <a id="10226" href="Data.AVL.Indexed.html#10226" class="Bound">w</a><a id="10227" class="Symbol">}</a> <a id="10229" class="Symbol">{</a><a id="10230" href="Data.AVL.Indexed.html#10230" class="Bound">V</a> <a id="10232" class="Symbol">:</a> <a id="10234" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="10238" class="Symbol">→</a> <a id="10240" class="PrimitiveType">Set</a> <a id="10244" href="Data.AVL.Indexed.html#10224" class="Bound">v</a><a id="10245" class="Symbol">}</a> <a id="10247" class="Symbol">{</a><a id="10248" href="Data.AVL.Indexed.html#10248" class="Bound">W</a> <a id="10250" class="Symbol">:</a> <a id="10252" href="Data.AVL.Indexed.html#378" class="Bound">Key</a> <a id="10256" class="Symbol">→</a> <a id="10258" class="PrimitiveType">Set</a> <a id="10262" href="Data.AVL.Indexed.html#10226" class="Bound">w</a><a id="10263" class="Symbol">}</a> <a id="10265" class="Keyword">where</a>

  <a id="10274" class="Comment">-- Maps a function over all values in the tree.</a>

  <a id="10325" href="Data.AVL.Indexed.html#10325" class="Function">map</a> <a id="10329" class="Symbol">:</a> <a id="10331" class="Symbol">(∀</a> <a id="10334" class="Symbol">{</a><a id="10335" href="Data.AVL.Indexed.html#10335" class="Bound">k</a><a id="10336" class="Symbol">}</a> <a id="10338" class="Symbol">→</a> <a id="10340" href="Data.AVL.Indexed.html#10230" class="Bound">V</a> <a id="10342" href="Data.AVL.Indexed.html#10335" class="Bound">k</a> <a id="10344" class="Symbol">→</a> <a id="10346" href="Data.AVL.Indexed.html#10248" class="Bound">W</a> <a id="10348" href="Data.AVL.Indexed.html#10335" class="Bound">k</a><a id="10349" class="Symbol">)</a> <a id="10351" class="Symbol">→</a> <a id="10353" class="Symbol">∀</a> <a id="10355" class="Symbol">{</a><a id="10356" href="Data.AVL.Indexed.html#10356" class="Bound">l</a> <a id="10358" href="Data.AVL.Indexed.html#10358" class="Bound">u</a> <a id="10360" href="Data.AVL.Indexed.html#10360" class="Bound">h</a><a id="10361" class="Symbol">}</a> <a id="10363" class="Symbol">→</a> <a id="10365" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="10370" href="Data.AVL.Indexed.html#10230" class="Bound">V</a> <a id="10372" href="Data.AVL.Indexed.html#10356" class="Bound">l</a> <a id="10374" href="Data.AVL.Indexed.html#10358" class="Bound">u</a> <a id="10376" href="Data.AVL.Indexed.html#10360" class="Bound">h</a> <a id="10378" class="Symbol">→</a> <a id="10380" href="Data.AVL.Indexed.html#1072" class="Datatype">Tree</a> <a id="10385" href="Data.AVL.Indexed.html#10248" class="Bound">W</a> <a id="10387" href="Data.AVL.Indexed.html#10356" class="Bound">l</a> <a id="10389" href="Data.AVL.Indexed.html#10358" class="Bound">u</a> <a id="10391" href="Data.AVL.Indexed.html#10360" class="Bound">h</a>
  <a id="10395" href="Data.AVL.Indexed.html#10325" class="Function">map</a> <a id="10399" href="Data.AVL.Indexed.html#10399" class="Bound">f</a> <a id="10401" class="Symbol">(</a><a id="10402" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="10407" href="Data.AVL.Indexed.html#10407" class="Bound">l&lt;u</a><a id="10410" class="Symbol">)</a>             <a id="10424" class="Symbol">=</a> <a id="10426" href="Data.AVL.Indexed.html#1142" class="InductiveConstructor">leaf</a> <a id="10431" href="Data.AVL.Indexed.html#10407" class="Bound">l&lt;u</a>
  <a id="10437" href="Data.AVL.Indexed.html#10325" class="Function">map</a> <a id="10441" href="Data.AVL.Indexed.html#10441" class="Bound">f</a> <a id="10443" class="Symbol">(</a><a id="10444" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="10449" class="Symbol">(</a><a id="10450" href="Data.AVL.Indexed.html#10450" class="Bound">k</a> <a id="10452" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10454" href="Data.AVL.Indexed.html#10454" class="Bound">v</a><a id="10455" class="Symbol">)</a> <a id="10457" href="Data.AVL.Indexed.html#10457" class="Bound">l</a> <a id="10459" href="Data.AVL.Indexed.html#10459" class="Bound">r</a> <a id="10461" href="Data.AVL.Indexed.html#10461" class="Bound">bal</a><a id="10464" class="Symbol">)</a> <a id="10466" class="Symbol">=</a> <a id="10468" href="Data.AVL.Indexed.html#1181" class="InductiveConstructor">node</a> <a id="10473" class="Symbol">(</a><a id="10474" href="Data.AVL.Indexed.html#10450" class="Bound">k</a> <a id="10476" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="10478" href="Data.AVL.Indexed.html#10441" class="Bound">f</a> <a id="10480" href="Data.AVL.Indexed.html#10454" class="Bound">v</a><a id="10481" class="Symbol">)</a> <a id="10483" class="Symbol">(</a><a id="10484" href="Data.AVL.Indexed.html#10325" class="Function">map</a> <a id="10488" href="Data.AVL.Indexed.html#10441" class="Bound">f</a> <a id="10490" href="Data.AVL.Indexed.html#10457" class="Bound">l</a><a id="10491" class="Symbol">)</a> <a id="10493" class="Symbol">(</a><a id="10494" href="Data.AVL.Indexed.html#10325" class="Function">map</a> <a id="10498" href="Data.AVL.Indexed.html#10441" class="Bound">f</a> <a id="10500" href="Data.AVL.Indexed.html#10459" class="Bound">r</a><a id="10501" class="Symbol">)</a> <a id="10503" href="Data.AVL.Indexed.html#10461" class="Bound">bal</a>
</pre></body></html>