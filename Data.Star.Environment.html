<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Star.Environment</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Environments (heterogeneous collections)</a>
<a id="150" class="Comment">------------------------------------------------------------------------</a>

<a id="224" class="Symbol">{-#</a> <a id="228" class="Keyword">OPTIONS</a> <a id="236" class="Option">--with-K</a> <a id="245" class="Symbol">#-}</a>

<a id="250" class="Keyword">module</a> <a id="257" href="Data.Star.Environment.html" class="Module">Data.Star.Environment</a> <a id="279" class="Symbol">{</a><a id="280" href="Data.Star.Environment.html#280" class="Bound">ℓ</a><a id="281" class="Symbol">}</a> <a id="283" class="Symbol">(</a><a id="284" href="Data.Star.Environment.html#284" class="Bound">Ty</a> <a id="287" class="Symbol">:</a> <a id="289" class="PrimitiveType">Set</a> <a id="293" href="Data.Star.Environment.html#280" class="Bound">ℓ</a><a id="294" class="Symbol">)</a> <a id="296" class="Keyword">where</a>

<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Level.html" class="Module">Level</a>
<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Data.Star.List.html" class="Module">Data.Star.List</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Data.Star.Decoration.html" class="Module">Data.Star.Decoration</a>
<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Data.Star.Pointer.html" class="Module">Data.Star.Pointer</a> <a id="411" class="Symbol">as</a> <a id="414" class="Module">Pointer</a> <a id="422" class="Keyword">hiding</a> <a id="429" class="Symbol">(</a><a id="430" href="Data.Star.Pointer.html#2188" class="Function">lookup</a><a id="436" class="Symbol">)</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Function.html" class="Module">Function</a> <a id="481" class="Keyword">hiding</a> <a id="488" class="Symbol">(</a><a id="489" href="Function.html#3090" class="Function Operator">_∋_</a><a id="492" class="Symbol">)</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a>

<a id="611" class="Comment">-- Contexts, listing the types of all the elements in an environment.</a>

<a id="Ctxt"></a><a id="682" href="Data.Star.Environment.html#682" class="Function">Ctxt</a> <a id="687" class="Symbol">:</a> <a id="689" class="PrimitiveType">Set</a> <a id="693" href="Data.Star.Environment.html#280" class="Bound">ℓ</a>
<a id="695" href="Data.Star.Environment.html#682" class="Function">Ctxt</a> <a id="700" class="Symbol">=</a> <a id="702" href="Data.Star.List.html#553" class="Function">List</a> <a id="707" href="Data.Star.Environment.html#284" class="Bound">Ty</a>

<a id="711" class="Comment">-- Variables (de Bruijn indices); pointers into environments.</a>

<a id="774" class="Keyword">infix</a> <a id="780" class="Number">4</a> <a id="782" href="Data.Star.Environment.html#787" class="Function Operator">_∋_</a>

<a id="_∋_"></a><a id="787" href="Data.Star.Environment.html#787" class="Function Operator">_∋_</a> <a id="791" class="Symbol">:</a> <a id="793" href="Data.Star.Environment.html#682" class="Function">Ctxt</a> <a id="798" class="Symbol">→</a> <a id="800" href="Data.Star.Environment.html#284" class="Bound">Ty</a> <a id="803" class="Symbol">→</a> <a id="805" class="PrimitiveType">Set</a> <a id="809" href="Data.Star.Environment.html#280" class="Bound">ℓ</a>
<a id="811" href="Data.Star.Environment.html#811" class="Bound">Γ</a> <a id="813" href="Data.Star.Environment.html#787" class="Function Operator">∋</a> <a id="815" href="Data.Star.Environment.html#815" class="Bound">σ</a> <a id="817" class="Symbol">=</a> <a id="819" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="823" class="Symbol">(</a><a id="824" href="Function.html#1138" class="Function">const</a> <a id="830" class="Symbol">(</a><a id="831" href="Level.html#387" class="Record">Lift</a> <a id="836" href="Data.Star.Environment.html#280" class="Bound">ℓ</a> <a id="838" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="839" class="Symbol">))</a> <a id="842" class="Symbol">(</a><a id="843" href="Data.Star.Environment.html#815" class="Bound">σ</a> <a id="845" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡_</a><a id="847" class="Symbol">)</a> <a id="849" href="Data.Star.Environment.html#811" class="Bound">Γ</a>

<a id="vz"></a><a id="852" href="Data.Star.Environment.html#852" class="Function">vz</a> <a id="855" class="Symbol">:</a> <a id="857" class="Symbol">∀</a> <a id="859" class="Symbol">{</a><a id="860" href="Data.Star.Environment.html#860" class="Bound">Γ</a> <a id="862" href="Data.Star.Environment.html#862" class="Bound">σ</a><a id="863" class="Symbol">}</a> <a id="865" class="Symbol">→</a> <a id="867" href="Data.Star.Environment.html#860" class="Bound">Γ</a> <a id="869" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1175" class="Function Operator">▻</a> <a id="871" href="Data.Star.Environment.html#862" class="Bound">σ</a> <a id="873" href="Data.Star.Environment.html#787" class="Function Operator">∋</a> <a id="875" href="Data.Star.Environment.html#862" class="Bound">σ</a>
<a id="877" href="Data.Star.Environment.html#852" class="Function">vz</a> <a id="880" class="Symbol">=</a> <a id="882" href="Data.Star.Pointer.html#1559" class="Function">this</a> <a id="887" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="vs"></a><a id="893" href="Data.Star.Environment.html#893" class="Function">vs</a> <a id="896" class="Symbol">:</a> <a id="898" class="Symbol">∀</a> <a id="900" class="Symbol">{</a><a id="901" href="Data.Star.Environment.html#901" class="Bound">Γ</a> <a id="903" href="Data.Star.Environment.html#903" class="Bound">σ</a> <a id="905" href="Data.Star.Environment.html#905" class="Bound">τ</a><a id="906" class="Symbol">}</a> <a id="908" class="Symbol">→</a> <a id="910" href="Data.Star.Environment.html#901" class="Bound">Γ</a> <a id="912" href="Data.Star.Environment.html#787" class="Function Operator">∋</a> <a id="914" href="Data.Star.Environment.html#905" class="Bound">τ</a> <a id="916" class="Symbol">→</a> <a id="918" href="Data.Star.Environment.html#901" class="Bound">Γ</a> <a id="920" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1175" class="Function Operator">▻</a> <a id="922" href="Data.Star.Environment.html#903" class="Bound">σ</a> <a id="924" href="Data.Star.Environment.html#787" class="Function Operator">∋</a> <a id="926" href="Data.Star.Environment.html#905" class="Bound">τ</a>
<a id="928" href="Data.Star.Environment.html#893" class="Function">vs</a> <a id="931" class="Symbol">=</a> <a id="933" href="Data.Star.Pointer.html#1665" class="Function">that</a> <a id="938" class="Symbol">_</a>

<a id="941" class="Comment">-- Environments. The T function maps types to element types.</a>

<a id="Env"></a><a id="1003" href="Data.Star.Environment.html#1003" class="Function">Env</a> <a id="1007" class="Symbol">:</a> <a id="1009" class="Symbol">∀</a> <a id="1011" class="Symbol">{</a><a id="1012" href="Data.Star.Environment.html#1012" class="Bound">e</a><a id="1013" class="Symbol">}</a> <a id="1015" class="Symbol">→</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Data.Star.Environment.html#284" class="Bound">Ty</a> <a id="1021" class="Symbol">→</a> <a id="1023" class="PrimitiveType">Set</a> <a id="1027" href="Data.Star.Environment.html#1012" class="Bound">e</a><a id="1028" class="Symbol">)</a> <a id="1030" class="Symbol">→</a> <a id="1032" class="Symbol">(</a><a id="1033" href="Data.Star.Environment.html#682" class="Function">Ctxt</a> <a id="1038" class="Symbol">→</a> <a id="1040" class="PrimitiveType">Set</a> <a id="1044" class="Symbol">(</a><a id="1045" href="Data.Star.Environment.html#280" class="Bound">ℓ</a> <a id="1047" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1049" href="Data.Star.Environment.html#1012" class="Bound">e</a><a id="1050" class="Symbol">))</a>
<a id="1053" href="Data.Star.Environment.html#1003" class="Function">Env</a> <a id="1057" href="Data.Star.Environment.html#1057" class="Bound">T</a> <a id="1059" href="Data.Star.Environment.html#1059" class="Bound">Γ</a> <a id="1061" class="Symbol">=</a> <a id="1063" href="Data.Star.Decoration.html#1521" class="Function">All</a> <a id="1067" href="Data.Star.Environment.html#1057" class="Bound">T</a> <a id="1069" href="Data.Star.Environment.html#1059" class="Bound">Γ</a>

<a id="1072" class="Comment">-- A safe lookup function for environments.</a>

<a id="lookup"></a><a id="1117" href="Data.Star.Environment.html#1117" class="Function">lookup</a> <a id="1124" class="Symbol">:</a> <a id="1126" class="Symbol">∀</a> <a id="1128" class="Symbol">{</a><a id="1129" href="Data.Star.Environment.html#1129" class="Bound">Γ</a> <a id="1131" href="Data.Star.Environment.html#1131" class="Bound">σ</a><a id="1132" class="Symbol">}</a> <a id="1134" class="Symbol">{</a><a id="1135" href="Data.Star.Environment.html#1135" class="Bound">T</a> <a id="1137" class="Symbol">:</a> <a id="1139" href="Data.Star.Environment.html#284" class="Bound">Ty</a> <a id="1142" class="Symbol">→</a> <a id="1144" class="PrimitiveType">Set</a><a id="1147" class="Symbol">}</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Data.Star.Environment.html#1129" class="Bound">Γ</a> <a id="1153" href="Data.Star.Environment.html#787" class="Function Operator">∋</a> <a id="1155" href="Data.Star.Environment.html#1131" class="Bound">σ</a> <a id="1157" class="Symbol">→</a> <a id="1159" href="Data.Star.Environment.html#1003" class="Function">Env</a> <a id="1163" href="Data.Star.Environment.html#1135" class="Bound">T</a> <a id="1165" href="Data.Star.Environment.html#1129" class="Bound">Γ</a> <a id="1167" class="Symbol">→</a> <a id="1169" href="Data.Star.Environment.html#1135" class="Bound">T</a> <a id="1171" href="Data.Star.Environment.html#1131" class="Bound">σ</a>
<a id="1173" href="Data.Star.Environment.html#1117" class="Function">lookup</a> <a id="1180" href="Data.Star.Environment.html#1180" class="Bound">i</a> <a id="1182" href="Data.Star.Environment.html#1182" class="Bound">ρ</a> <a id="1184" class="Keyword">with</a> <a id="1189" href="Data.Star.Pointer.html#2188" class="Function">Pointer.lookup</a> <a id="1204" href="Data.Star.Environment.html#1180" class="Bound">i</a> <a id="1206" href="Data.Star.Environment.html#1182" class="Bound">ρ</a>
<a id="1208" class="Symbol">...</a> <a id="1212" class="Symbol">|</a> <a id="1214" href="Data.Star.Pointer.html#1915" class="InductiveConstructor">result</a> <a id="1221" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1226" href="Data.Star.Environment.html#1226" class="Bound">x</a> <a id="1228" class="Symbol">=</a> <a id="1230" href="Data.Star.Environment.html#1226" class="Bound">x</a>
</pre></body></html>