<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Graph.Acyclic</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Directed acyclic multigraphs</a>
<a id="138" class="Comment">------------------------------------------------------------------------</a>

<a id="212" class="Comment">-- A representation of DAGs, based on the idea underlying Martin</a>
<a id="277" class="Comment">-- Erwig&#39;s FGL. Note that this representation does not aim to be</a>
<a id="342" class="Comment">-- efficient.</a>

<a id="357" class="Symbol">{-#</a> <a id="361" class="Keyword">OPTIONS</a> <a id="369" class="Option">--without-K</a> <a id="381" class="Symbol">#-}</a>

<a id="386" class="Keyword">module</a> <a id="393" href="Data.Graph.Acyclic.html" class="Module">Data.Graph.Acyclic</a> <a id="412" class="Keyword">where</a>

<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Level.html" class="Module">Level</a> <a id="437" class="Keyword">using</a> <a id="443" class="Symbol">(</a><a id="444" href="Agda.Primitive.html#657" class="Primitive Operator">_⊔_</a><a id="447" class="Symbol">)</a>
<a id="449" class="Keyword">open</a> <a id="454" class="Keyword">import</a> <a id="461" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="475" class="Symbol">as</a> <a id="478" class="Module">Nat</a> <a id="482" class="Keyword">using</a> <a id="488" class="Symbol">(</a><a id="489" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="490" class="Symbol">;</a> <a id="492" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="496" class="Symbol">;</a> <a id="498" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="501" class="Symbol">;</a> <a id="503" href="Data.Nat.Base.html#2489" class="Function Operator">_&lt;′_</a><a id="507" class="Symbol">)</a>
<a id="509" class="Keyword">import</a> <a id="516" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="536" class="Symbol">as</a> <a id="539" class="Module">Nat</a>
<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="564" class="Symbol">as</a> <a id="567" class="Module">Fin</a>
  <a id="573" class="Keyword">using</a> <a id="579" class="Symbol">(</a><a id="580" href="Data.Fin.Base.html#944" class="Datatype">Fin</a><a id="583" class="Symbol">;</a> <a id="585" href="Data.Fin.Base.html#1171" class="Function">Fin′</a><a id="589" class="Symbol">;</a> <a id="591" href="Data.Fin.Base.html#966" class="InductiveConstructor">zero</a><a id="595" class="Symbol">;</a> <a id="597" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a><a id="600" class="Symbol">;</a> <a id="602" href="Data.Fin.Base.html#2185" class="Function Operator">#_</a><a id="604" class="Symbol">;</a> <a id="606" href="Data.Fin.Base.html#1070" class="Function">toℕ</a><a id="609" class="Symbol">;</a> <a id="611" href="Data.Fin.Properties.html#1723" class="Function Operator">_≟_</a><a id="614" class="Symbol">)</a> <a id="616" class="Keyword">renaming</a> <a id="625" class="Symbol">(</a><a id="626" href="Data.Fin.Base.html#4748" class="Function Operator">_ℕ-ℕ_</a> <a id="632" class="Symbol">to</a> <a id="635" href="Data.Fin.Base.html#4748" class="Function Operator">_-_</a><a id="638" class="Symbol">)</a>
<a id="640" class="Keyword">import</a> <a id="647" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="667" class="Symbol">as</a> <a id="670" class="Module">FP</a>
<a id="673" class="Keyword">import</a> <a id="680" href="Data.Fin.Permutation.Components.html" class="Module">Data.Fin.Permutation.Components</a> <a id="712" class="Symbol">as</a> <a id="715" class="Module">PC</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Data.Product.html" class="Module">Data.Product</a> <a id="743" class="Symbol">as</a> <a id="746" class="Module">Prod</a> <a id="751" class="Keyword">using</a> <a id="757" class="Symbol">(</a><a id="758" href="Data.Product.html#910" class="Function">∃</a><a id="759" class="Symbol">;</a> <a id="761" href="Data.Product.html#1382" class="Function Operator">_×_</a><a id="764" class="Symbol">;</a> <a id="766" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a><a id="769" class="Symbol">)</a>
<a id="771" class="Keyword">open</a> <a id="776" class="Keyword">import</a> <a id="783" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="799" class="Keyword">using</a> <a id="805" class="Symbol">(</a><a id="806" href="Data.Maybe.Base.html#703" class="Datatype">Maybe</a><a id="811" class="Symbol">;</a> <a id="813" href="Data.Maybe.Base.html#771" class="InductiveConstructor">nothing</a><a id="820" class="Symbol">;</a> <a id="822" href="Data.Maybe.Base.html#741" class="InductiveConstructor">just</a><a id="826" class="Symbol">)</a>
<a id="828" class="Keyword">open</a> <a id="833" class="Keyword">import</a> <a id="840" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="851" class="Keyword">open</a> <a id="856" class="Keyword">import</a> <a id="863" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="878" class="Keyword">using</a> <a id="884" class="Symbol">(</a><a id="885" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="886" class="Symbol">;</a> <a id="888" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="890" class="Symbol">)</a>
<a id="892" class="Keyword">open</a> <a id="897" class="Keyword">import</a> <a id="904" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="913" class="Symbol">as</a> <a id="916" class="Module">Vec</a> <a id="920" class="Keyword">using</a> <a id="926" class="Symbol">(</a><a id="927" href="Data.Vec.html#766" class="Datatype">Vec</a><a id="930" class="Symbol">;</a> <a id="932" href="Data.Vec.html#806" class="InductiveConstructor">[]</a><a id="934" class="Symbol">;</a> <a id="936" href="Data.Vec.html#825" class="InductiveConstructor Operator">_∷_</a><a id="939" class="Symbol">)</a>
<a id="941" class="Keyword">open</a> <a id="946" class="Keyword">import</a> <a id="953" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="968" class="Symbol">as</a> <a id="971" class="Module">List</a> <a id="976" class="Keyword">using</a> <a id="982" class="Symbol">(</a><a id="983" href="Agda.Builtin.List.html#80" class="Datatype">List</a><a id="987" class="Symbol">;</a> <a id="989" href="Data.List.Base.html#9372" class="InductiveConstructor">[]</a><a id="991" class="Symbol">;</a> <a id="993" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">_∷_</a><a id="996" class="Symbol">)</a>
<a id="998" class="Keyword">open</a> <a id="1003" class="Keyword">import</a> <a id="1010" href="Function.html" class="Module">Function</a>
<a id="1019" class="Keyword">open</a> <a id="1024" class="Keyword">import</a> <a id="1031" href="Induction.Nat.html" class="Module">Induction.Nat</a> <a id="1045" class="Keyword">using</a> <a id="1051" class="Symbol">(</a><a id="1052" href="Induction.WellFounded.html#2225" class="Function">&lt;′-rec</a><a id="1058" class="Symbol">;</a> <a id="1060" href="Induction.Nat.html#1511" class="Function">&lt;′-Rec</a><a id="1066" class="Symbol">)</a>
<a id="1068" class="Keyword">open</a> <a id="1073" class="Keyword">import</a> <a id="1080" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="1097" class="Keyword">open</a> <a id="1102" class="Keyword">import</a> <a id="1109" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1147" class="Symbol">as</a> <a id="1150" class="Module">P</a> <a id="1152" class="Keyword">using</a> <a id="1158" class="Symbol">(</a><a id="1159" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="1162" class="Symbol">)</a>

<a id="1165" class="Comment">------------------------------------------------------------------------</a>
<a id="1238" class="Comment">-- A lemma</a>

<a id="1250" class="Keyword">private</a>

  <a id="lemma"></a><a id="1261" href="Data.Graph.Acyclic.html#1261" class="Function">lemma</a> <a id="1267" class="Symbol">:</a> <a id="1269" class="Symbol">∀</a> <a id="1271" href="Data.Graph.Acyclic.html#1271" class="Bound">n</a> <a id="1273" class="Symbol">(</a><a id="1274" href="Data.Graph.Acyclic.html#1274" class="Bound">i</a> <a id="1276" class="Symbol">:</a> <a id="1278" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="1282" href="Data.Graph.Acyclic.html#1271" class="Bound">n</a><a id="1283" class="Symbol">)</a> <a id="1285" class="Symbol">→</a> <a id="1287" href="Data.Graph.Acyclic.html#1271" class="Bound">n</a> <a id="1289" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="1291" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="1295" href="Data.Graph.Acyclic.html#1274" class="Bound">i</a> <a id="1297" href="Data.Nat.Base.html#2489" class="Function Operator">&lt;′</a> <a id="1300" href="Data.Graph.Acyclic.html#1271" class="Bound">n</a>
  <a id="1304" href="Data.Graph.Acyclic.html#1261" class="Function">lemma</a> <a id="1310" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="1318" class="Symbol">()</a>
  <a id="1323" href="Data.Graph.Acyclic.html#1261" class="Function">lemma</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="1334" href="Data.Graph.Acyclic.html#1334" class="Bound">n</a><a id="1335" class="Symbol">)</a> <a id="1337" href="Data.Graph.Acyclic.html#1337" class="Bound">i</a>  <a id="1340" class="Symbol">=</a> <a id="1342" href="Data.Nat.Properties.html#8065" class="Function">Nat.≤⇒≤′</a> <a id="1351" href="Function.html#1920" class="Function Operator">$</a> <a id="1353" href="Data.Nat.Base.html#939" class="InductiveConstructor">Nat.s≤s</a> <a id="1361" href="Function.html#1920" class="Function Operator">$</a> <a id="1363" href="Data.Fin.Properties.html#11869" class="Function">FP.nℕ-ℕi≤n</a> <a id="1374" href="Data.Graph.Acyclic.html#1334" class="Bound">n</a> <a id="1376" href="Data.Graph.Acyclic.html#1337" class="Bound">i</a>

<a id="1379" class="Comment">------------------------------------------------------------------------</a>
<a id="1452" class="Comment">-- Node contexts</a>

<a id="1470" class="Keyword">record</a> <a id="Context"></a><a id="1477" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="1485" class="Symbol">{</a><a id="1486" href="Data.Graph.Acyclic.html#1486" class="Bound">ℓ</a> <a id="1488" href="Data.Graph.Acyclic.html#1488" class="Bound">e</a><a id="1489" class="Symbol">}</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Data.Graph.Acyclic.html#1492" class="Bound">Node</a> <a id="1497" class="Symbol">:</a> <a id="1499" class="PrimitiveType">Set</a> <a id="1503" href="Data.Graph.Acyclic.html#1486" class="Bound">ℓ</a><a id="1504" class="Symbol">)</a> <a id="1506" class="Symbol">(</a><a id="1507" href="Data.Graph.Acyclic.html#1507" class="Bound">Edge</a> <a id="1512" class="Symbol">:</a> <a id="1514" class="PrimitiveType">Set</a> <a id="1518" href="Data.Graph.Acyclic.html#1488" class="Bound">e</a><a id="1519" class="Symbol">)</a> <a id="1521" class="Symbol">(</a><a id="1522" href="Data.Graph.Acyclic.html#1522" class="Bound">n</a> <a id="1524" class="Symbol">:</a> <a id="1526" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="1527" class="Symbol">)</a> <a id="1529" class="Symbol">:</a> <a id="1531" class="PrimitiveType">Set</a> <a id="1535" class="Symbol">(</a><a id="1536" href="Data.Graph.Acyclic.html#1486" class="Bound">ℓ</a> <a id="1538" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1540" href="Data.Graph.Acyclic.html#1488" class="Bound">e</a><a id="1541" class="Symbol">)</a> <a id="1543" class="Keyword">where</a>
  <a id="1551" class="Keyword">constructor</a> <a id="Context.context"></a><a id="1563" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a>
  <a id="1573" class="Keyword">field</a>
    <a id="Context.label"></a><a id="1583" href="Data.Graph.Acyclic.html#1583" class="Field">label</a>      <a id="1594" class="Symbol">:</a> <a id="1596" href="Data.Graph.Acyclic.html#1492" class="Bound">Node</a>
    <a id="Context.successors"></a><a id="1605" href="Data.Graph.Acyclic.html#1605" class="Field">successors</a> <a id="1616" class="Symbol">:</a> <a id="1618" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1623" class="Symbol">(</a><a id="1624" href="Data.Graph.Acyclic.html#1507" class="Bound">Edge</a> <a id="1629" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1631" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="1635" href="Data.Graph.Acyclic.html#1522" class="Bound">n</a><a id="1636" class="Symbol">)</a>

<a id="1639" class="Keyword">open</a> <a id="1644" href="Data.Graph.Acyclic.html#1477" class="Module">Context</a> <a id="1652" class="Keyword">public</a>

<a id="1660" class="Comment">-- Map for contexts.</a>

<a id="1682" class="Keyword">module</a> <a id="1689" href="Data.Graph.Acyclic.html#1689" class="Module">_</a> <a id="1691" class="Symbol">{</a><a id="1692" href="Data.Graph.Acyclic.html#1692" class="Bound">ℓ₁</a> <a id="1695" href="Data.Graph.Acyclic.html#1695" class="Bound">e₁</a><a id="1697" class="Symbol">}</a> <a id="1699" class="Symbol">{</a><a id="1700" href="Data.Graph.Acyclic.html#1700" class="Bound">N₁</a> <a id="1703" class="Symbol">:</a> <a id="1705" class="PrimitiveType">Set</a> <a id="1709" href="Data.Graph.Acyclic.html#1692" class="Bound">ℓ₁</a><a id="1711" class="Symbol">}</a> <a id="1713" class="Symbol">{</a><a id="1714" href="Data.Graph.Acyclic.html#1714" class="Bound">E₁</a> <a id="1717" class="Symbol">:</a> <a id="1719" class="PrimitiveType">Set</a> <a id="1723" href="Data.Graph.Acyclic.html#1695" class="Bound">e₁</a><a id="1725" class="Symbol">}</a>
         <a id="1736" class="Symbol">{</a><a id="1737" href="Data.Graph.Acyclic.html#1737" class="Bound">ℓ₂</a> <a id="1740" href="Data.Graph.Acyclic.html#1740" class="Bound">e₂</a><a id="1742" class="Symbol">}</a> <a id="1744" class="Symbol">{</a><a id="1745" href="Data.Graph.Acyclic.html#1745" class="Bound">N₂</a> <a id="1748" class="Symbol">:</a> <a id="1750" class="PrimitiveType">Set</a> <a id="1754" href="Data.Graph.Acyclic.html#1737" class="Bound">ℓ₂</a><a id="1756" class="Symbol">}</a> <a id="1758" class="Symbol">{</a><a id="1759" href="Data.Graph.Acyclic.html#1759" class="Bound">E₂</a> <a id="1762" class="Symbol">:</a> <a id="1764" class="PrimitiveType">Set</a> <a id="1768" href="Data.Graph.Acyclic.html#1740" class="Bound">e₂</a><a id="1770" class="Symbol">}</a> <a id="1772" class="Keyword">where</a>

  <a id="1781" href="Data.Graph.Acyclic.html#1781" class="Function">cmap</a> <a id="1786" class="Symbol">:</a> <a id="1788" class="Symbol">∀</a> <a id="1790" class="Symbol">{</a><a id="1791" href="Data.Graph.Acyclic.html#1791" class="Bound">n</a><a id="1792" class="Symbol">}</a> <a id="1794" class="Symbol">→</a> <a id="1796" class="Symbol">(</a><a id="1797" href="Data.Graph.Acyclic.html#1700" class="Bound">N₁</a> <a id="1800" class="Symbol">→</a> <a id="1802" href="Data.Graph.Acyclic.html#1745" class="Bound">N₂</a><a id="1804" class="Symbol">)</a> <a id="1806" class="Symbol">→</a> <a id="1808" class="Symbol">(</a><a id="1809" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1814" class="Symbol">(</a><a id="1815" href="Data.Graph.Acyclic.html#1714" class="Bound">E₁</a> <a id="1818" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1820" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="1824" href="Data.Graph.Acyclic.html#1791" class="Bound">n</a><a id="1825" class="Symbol">)</a> <a id="1827" class="Symbol">→</a> <a id="1829" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1834" class="Symbol">(</a><a id="1835" href="Data.Graph.Acyclic.html#1759" class="Bound">E₂</a> <a id="1838" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="1840" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="1844" href="Data.Graph.Acyclic.html#1791" class="Bound">n</a><a id="1845" class="Symbol">))</a> <a id="1848" class="Symbol">→</a>
         <a id="1859" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="1867" href="Data.Graph.Acyclic.html#1700" class="Bound">N₁</a> <a id="1870" href="Data.Graph.Acyclic.html#1714" class="Bound">E₁</a> <a id="1873" href="Data.Graph.Acyclic.html#1791" class="Bound">n</a> <a id="1875" class="Symbol">→</a> <a id="1877" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="1885" href="Data.Graph.Acyclic.html#1745" class="Bound">N₂</a> <a id="1888" href="Data.Graph.Acyclic.html#1759" class="Bound">E₂</a> <a id="1891" href="Data.Graph.Acyclic.html#1791" class="Bound">n</a>
  <a id="1895" href="Data.Graph.Acyclic.html#1781" class="Function">cmap</a> <a id="1900" href="Data.Graph.Acyclic.html#1900" class="Bound">f</a> <a id="1902" href="Data.Graph.Acyclic.html#1902" class="Bound">g</a> <a id="1904" href="Data.Graph.Acyclic.html#1904" class="Bound">c</a> <a id="1906" class="Symbol">=</a> <a id="1908" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="1916" class="Symbol">(</a><a id="1917" href="Data.Graph.Acyclic.html#1900" class="Bound">f</a> <a id="1919" class="Symbol">(</a><a id="1920" href="Data.Graph.Acyclic.html#1583" class="Field">label</a> <a id="1926" href="Data.Graph.Acyclic.html#1904" class="Bound">c</a><a id="1927" class="Symbol">))</a> <a id="1930" class="Symbol">(</a><a id="1931" href="Data.Graph.Acyclic.html#1902" class="Bound">g</a> <a id="1933" class="Symbol">(</a><a id="1934" href="Data.Graph.Acyclic.html#1605" class="Field">successors</a> <a id="1945" href="Data.Graph.Acyclic.html#1904" class="Bound">c</a><a id="1946" class="Symbol">))</a>

<a id="1950" class="Comment">------------------------------------------------------------------------</a>
<a id="2023" class="Comment">-- Graphs</a>

<a id="2034" class="Keyword">infixr</a> <a id="2041" class="Number">3</a> <a id="2043" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">_&amp;_</a>

<a id="2048" class="Comment">-- The DAGs are indexed on the number of nodes.</a>

<a id="2097" class="Keyword">data</a> <a id="Graph"></a><a id="2102" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="2108" class="Symbol">{</a><a id="2109" href="Data.Graph.Acyclic.html#2109" class="Bound">ℓ</a> <a id="2111" href="Data.Graph.Acyclic.html#2111" class="Bound">e</a><a id="2112" class="Symbol">}</a> <a id="2114" class="Symbol">(</a><a id="2115" href="Data.Graph.Acyclic.html#2115" class="Bound">Node</a> <a id="2120" class="Symbol">:</a> <a id="2122" class="PrimitiveType">Set</a> <a id="2126" href="Data.Graph.Acyclic.html#2109" class="Bound">ℓ</a><a id="2127" class="Symbol">)</a> <a id="2129" class="Symbol">(</a><a id="2130" href="Data.Graph.Acyclic.html#2130" class="Bound">Edge</a> <a id="2135" class="Symbol">:</a> <a id="2137" class="PrimitiveType">Set</a> <a id="2141" href="Data.Graph.Acyclic.html#2111" class="Bound">e</a><a id="2142" class="Symbol">)</a> <a id="2144" class="Symbol">:</a> <a id="2146" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2148" class="Symbol">→</a> <a id="2150" class="PrimitiveType">Set</a> <a id="2154" class="Symbol">(</a><a id="2155" href="Data.Graph.Acyclic.html#2109" class="Bound">ℓ</a> <a id="2157" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="2159" href="Data.Graph.Acyclic.html#2111" class="Bound">e</a><a id="2160" class="Symbol">)</a> <a id="2162" class="Keyword">where</a>
  <a id="Graph.∅"></a><a id="2170" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>   <a id="2174" class="Symbol">:</a> <a id="2176" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="2182" href="Data.Graph.Acyclic.html#2115" class="Bound">Node</a> <a id="2187" href="Data.Graph.Acyclic.html#2130" class="Bound">Edge</a> <a id="2192" class="Number">0</a>
  <a id="Graph._&amp;_"></a><a id="2196" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">_&amp;_</a> <a id="2200" class="Symbol">:</a> <a id="2202" class="Symbol">∀</a> <a id="2204" class="Symbol">{</a><a id="2205" href="Data.Graph.Acyclic.html#2205" class="Bound">n</a><a id="2206" class="Symbol">}</a> <a id="2208" class="Symbol">(</a><a id="2209" href="Data.Graph.Acyclic.html#2209" class="Bound">c</a> <a id="2211" class="Symbol">:</a> <a id="2213" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="2221" href="Data.Graph.Acyclic.html#2115" class="Bound">Node</a> <a id="2226" href="Data.Graph.Acyclic.html#2130" class="Bound">Edge</a> <a id="2231" href="Data.Graph.Acyclic.html#2205" class="Bound">n</a><a id="2232" class="Symbol">)</a> <a id="2234" class="Symbol">(</a><a id="2235" href="Data.Graph.Acyclic.html#2235" class="Bound">g</a> <a id="2237" class="Symbol">:</a> <a id="2239" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="2245" href="Data.Graph.Acyclic.html#2115" class="Bound">Node</a> <a id="2250" href="Data.Graph.Acyclic.html#2130" class="Bound">Edge</a> <a id="2255" href="Data.Graph.Acyclic.html#2205" class="Bound">n</a><a id="2256" class="Symbol">)</a> <a id="2258" class="Symbol">→</a>
        <a id="2268" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="2274" href="Data.Graph.Acyclic.html#2115" class="Bound">Node</a> <a id="2279" href="Data.Graph.Acyclic.html#2130" class="Bound">Edge</a> <a id="2284" class="Symbol">(</a><a id="2285" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2289" href="Data.Graph.Acyclic.html#2205" class="Bound">n</a><a id="2290" class="Symbol">)</a>

<a id="2293" class="Keyword">private</a>

  <a id="example"></a><a id="2304" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="2312" class="Symbol">:</a> <a id="2314" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="2320" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2322" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2324" class="Number">5</a>
  <a id="2328" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="2336" class="Symbol">=</a> <a id="2338" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="2346" class="Number">0</a> <a id="2348" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="2351" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
            <a id="2365" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="2373" class="Number">1</a> <a id="2375" class="Symbol">((</a><a id="2377" class="Number">10</a> <a id="2380" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2382" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="2384" class="Number">1</a><a id="2385" class="Symbol">)</a> <a id="2387" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2389" class="Symbol">(</a><a id="2390" class="Number">11</a> <a id="2393" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2395" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="2397" class="Number">1</a><a id="2398" class="Symbol">)</a> <a id="2400" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2402" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="2404" class="Symbol">)</a> <a id="2406" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
            <a id="2420" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="2428" class="Number">2</a> <a id="2430" class="Symbol">((</a><a id="2432" class="Number">12</a> <a id="2435" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2437" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="2439" class="Number">0</a><a id="2440" class="Symbol">)</a> <a id="2442" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2444" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="2446" class="Symbol">)</a> <a id="2448" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
            <a id="2462" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="2470" class="Number">3</a> <a id="2472" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="2475" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
            <a id="2489" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="2497" class="Number">4</a> <a id="2499" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="2502" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
            <a id="2516" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>

<a id="2519" class="Comment">------------------------------------------------------------------------</a>
<a id="2592" class="Comment">-- Higher-order functions</a>

<a id="2619" class="Keyword">module</a> <a id="2626" href="Data.Graph.Acyclic.html#2626" class="Module">_</a> <a id="2628" class="Symbol">{</a><a id="2629" href="Data.Graph.Acyclic.html#2629" class="Bound">ℓ</a> <a id="2631" href="Data.Graph.Acyclic.html#2631" class="Bound">e</a><a id="2632" class="Symbol">}</a> <a id="2634" class="Symbol">{</a><a id="2635" href="Data.Graph.Acyclic.html#2635" class="Bound">N</a> <a id="2637" class="Symbol">:</a> <a id="2639" class="PrimitiveType">Set</a> <a id="2643" href="Data.Graph.Acyclic.html#2629" class="Bound">ℓ</a><a id="2644" class="Symbol">}</a> <a id="2646" class="Symbol">{</a><a id="2647" href="Data.Graph.Acyclic.html#2647" class="Bound">E</a> <a id="2649" class="Symbol">:</a> <a id="2651" class="PrimitiveType">Set</a> <a id="2655" href="Data.Graph.Acyclic.html#2631" class="Bound">e</a><a id="2656" class="Symbol">}</a> <a id="2658" class="Symbol">{</a><a id="2659" href="Data.Graph.Acyclic.html#2659" class="Bound">t</a><a id="2660" class="Symbol">}</a> <a id="2662" class="Keyword">where</a>

<a id="2669" class="Comment">-- &quot;Fold right&quot;.</a>

  <a id="2689" href="Data.Graph.Acyclic.html#2689" class="Function">foldr</a> <a id="2695" class="Symbol">:</a> <a id="2697" class="Symbol">(</a><a id="2698" href="Data.Graph.Acyclic.html#2698" class="Bound">T</a> <a id="2700" class="Symbol">:</a> <a id="2702" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2704" class="Symbol">→</a> <a id="2706" class="PrimitiveType">Set</a> <a id="2710" href="Data.Graph.Acyclic.html#2659" class="Bound">t</a><a id="2711" class="Symbol">)</a> <a id="2713" class="Symbol">→</a>
          <a id="2725" class="Symbol">(∀</a> <a id="2728" class="Symbol">{</a><a id="2729" href="Data.Graph.Acyclic.html#2729" class="Bound">n</a><a id="2730" class="Symbol">}</a> <a id="2732" class="Symbol">→</a> <a id="2734" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="2742" href="Data.Graph.Acyclic.html#2635" class="Bound">N</a> <a id="2744" href="Data.Graph.Acyclic.html#2647" class="Bound">E</a> <a id="2746" href="Data.Graph.Acyclic.html#2729" class="Bound">n</a> <a id="2748" class="Symbol">→</a> <a id="2750" href="Data.Graph.Acyclic.html#2698" class="Bound">T</a> <a id="2752" href="Data.Graph.Acyclic.html#2729" class="Bound">n</a> <a id="2754" class="Symbol">→</a> <a id="2756" href="Data.Graph.Acyclic.html#2698" class="Bound">T</a> <a id="2758" class="Symbol">(</a><a id="2759" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2763" href="Data.Graph.Acyclic.html#2729" class="Bound">n</a><a id="2764" class="Symbol">))</a> <a id="2767" class="Symbol">→</a>
          <a id="2779" href="Data.Graph.Acyclic.html#2698" class="Bound">T</a> <a id="2781" class="Number">0</a> <a id="2783" class="Symbol">→</a>
          <a id="2795" class="Symbol">∀</a> <a id="2797" class="Symbol">{</a><a id="2798" href="Data.Graph.Acyclic.html#2798" class="Bound">m</a><a id="2799" class="Symbol">}</a> <a id="2801" class="Symbol">→</a> <a id="2803" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="2809" href="Data.Graph.Acyclic.html#2635" class="Bound">N</a> <a id="2811" href="Data.Graph.Acyclic.html#2647" class="Bound">E</a> <a id="2813" href="Data.Graph.Acyclic.html#2798" class="Bound">m</a> <a id="2815" class="Symbol">→</a> <a id="2817" href="Data.Graph.Acyclic.html#2698" class="Bound">T</a> <a id="2819" href="Data.Graph.Acyclic.html#2798" class="Bound">m</a>
  <a id="2823" href="Data.Graph.Acyclic.html#2689" class="Function">foldr</a> <a id="2829" href="Data.Graph.Acyclic.html#2829" class="Bound">T</a> <a id="2831" href="Data.Graph.Acyclic.html#2831" class="Bound Operator">_∙_</a> <a id="2835" href="Data.Graph.Acyclic.html#2835" class="Bound">x</a> <a id="2837" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>       <a id="2845" class="Symbol">=</a> <a id="2847" href="Data.Graph.Acyclic.html#2835" class="Bound">x</a>
  <a id="2851" href="Data.Graph.Acyclic.html#2689" class="Function">foldr</a> <a id="2857" href="Data.Graph.Acyclic.html#2857" class="Bound">T</a> <a id="2859" href="Data.Graph.Acyclic.html#2859" class="Bound Operator">_∙_</a> <a id="2863" href="Data.Graph.Acyclic.html#2863" class="Bound">x</a> <a id="2865" class="Symbol">(</a><a id="2866" href="Data.Graph.Acyclic.html#2866" class="Bound">c</a> <a id="2868" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="2870" href="Data.Graph.Acyclic.html#2870" class="Bound">g</a><a id="2871" class="Symbol">)</a> <a id="2873" class="Symbol">=</a> <a id="2875" href="Data.Graph.Acyclic.html#2866" class="Bound">c</a> <a id="2877" href="Data.Graph.Acyclic.html#2859" class="Bound Operator">∙</a> <a id="2879" href="Data.Graph.Acyclic.html#2689" class="Function">foldr</a> <a id="2885" href="Data.Graph.Acyclic.html#2857" class="Bound">T</a> <a id="2887" href="Data.Graph.Acyclic.html#2859" class="Bound Operator">_∙_</a> <a id="2891" href="Data.Graph.Acyclic.html#2863" class="Bound">x</a> <a id="2893" href="Data.Graph.Acyclic.html#2870" class="Bound">g</a>

<a id="2896" class="Comment">-- &quot;Fold left&quot;.</a>

  <a id="2915" href="Data.Graph.Acyclic.html#2915" class="Function">foldl</a> <a id="2921" class="Symbol">:</a> <a id="2923" class="Symbol">∀</a> <a id="2925" class="Symbol">{</a><a id="2926" href="Data.Graph.Acyclic.html#2926" class="Bound">n</a><a id="2927" class="Symbol">}</a> <a id="2929" class="Symbol">(</a><a id="2930" href="Data.Graph.Acyclic.html#2930" class="Bound">T</a> <a id="2932" class="Symbol">:</a> <a id="2934" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2936" class="Symbol">→</a> <a id="2938" class="PrimitiveType">Set</a> <a id="2942" href="Data.Graph.Acyclic.html#2659" class="Bound">t</a><a id="2943" class="Symbol">)</a> <a id="2945" class="Symbol">→</a>
          <a id="2957" class="Symbol">((</a><a id="2959" href="Data.Graph.Acyclic.html#2959" class="Bound">i</a> <a id="2961" class="Symbol">:</a> <a id="2963" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="2967" href="Data.Graph.Acyclic.html#2926" class="Bound">n</a><a id="2968" class="Symbol">)</a> <a id="2970" class="Symbol">→</a> <a id="2972" href="Data.Graph.Acyclic.html#2930" class="Bound">T</a> <a id="2974" class="Symbol">(</a><a id="2975" href="Data.Fin.Base.html#1070" class="Function">toℕ</a> <a id="2979" href="Data.Graph.Acyclic.html#2959" class="Bound">i</a><a id="2980" class="Symbol">)</a> <a id="2982" class="Symbol">→</a> <a id="2984" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="2992" href="Data.Graph.Acyclic.html#2635" class="Bound">N</a> <a id="2994" href="Data.Graph.Acyclic.html#2647" class="Bound">E</a> <a id="2996" class="Symbol">(</a><a id="2997" href="Data.Graph.Acyclic.html#2926" class="Bound">n</a> <a id="2999" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="3001" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="3005" href="Data.Graph.Acyclic.html#2959" class="Bound">i</a><a id="3006" class="Symbol">)</a> <a id="3008" class="Symbol">→</a>
          <a id="3020" href="Data.Graph.Acyclic.html#2930" class="Bound">T</a> <a id="3022" class="Symbol">(</a><a id="3023" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3027" class="Symbol">(</a><a id="3028" href="Data.Fin.Base.html#1070" class="Function">toℕ</a> <a id="3032" href="Data.Graph.Acyclic.html#2959" class="Bound">i</a><a id="3033" class="Symbol">)))</a> <a id="3037" class="Symbol">→</a>
          <a id="3049" href="Data.Graph.Acyclic.html#2930" class="Bound">T</a> <a id="3051" class="Number">0</a> <a id="3053" class="Symbol">→</a>
          <a id="3065" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="3071" href="Data.Graph.Acyclic.html#2635" class="Bound">N</a> <a id="3073" href="Data.Graph.Acyclic.html#2647" class="Bound">E</a> <a id="3075" href="Data.Graph.Acyclic.html#2926" class="Bound">n</a> <a id="3077" class="Symbol">→</a> <a id="3079" href="Data.Graph.Acyclic.html#2930" class="Bound">T</a> <a id="3081" href="Data.Graph.Acyclic.html#2926" class="Bound">n</a>
  <a id="3085" href="Data.Graph.Acyclic.html#2915" class="Function">foldl</a> <a id="3091" href="Data.Graph.Acyclic.html#3091" class="Bound">T</a> <a id="3093" href="Data.Graph.Acyclic.html#3093" class="Bound">f</a> <a id="3095" href="Data.Graph.Acyclic.html#3095" class="Bound">x</a> <a id="3097" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>       <a id="3105" class="Symbol">=</a> <a id="3107" href="Data.Graph.Acyclic.html#3095" class="Bound">x</a>
  <a id="3111" href="Data.Graph.Acyclic.html#2915" class="Function">foldl</a> <a id="3117" href="Data.Graph.Acyclic.html#3117" class="Bound">T</a> <a id="3119" href="Data.Graph.Acyclic.html#3119" class="Bound">f</a> <a id="3121" href="Data.Graph.Acyclic.html#3121" class="Bound">x</a> <a id="3123" class="Symbol">(</a><a id="3124" href="Data.Graph.Acyclic.html#3124" class="Bound">c</a> <a id="3126" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="3128" href="Data.Graph.Acyclic.html#3128" class="Bound">g</a><a id="3129" class="Symbol">)</a> <a id="3131" class="Symbol">=</a> <a id="3133" href="Data.Graph.Acyclic.html#2915" class="Function">foldl</a> <a id="3139" class="Symbol">(</a><a id="3140" href="Data.Graph.Acyclic.html#3117" class="Bound">T</a> <a id="3142" href="Function.html#987" class="Function Operator">∘′</a> <a id="3145" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="3148" class="Symbol">)</a> <a id="3150" class="Symbol">(</a><a id="3151" href="Data.Graph.Acyclic.html#3119" class="Bound">f</a> <a id="3153" href="Function.html#798" class="Function Operator">∘</a> <a id="3155" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a><a id="3158" class="Symbol">)</a> <a id="3160" class="Symbol">(</a><a id="3161" href="Data.Graph.Acyclic.html#3119" class="Bound">f</a> <a id="3163" href="Data.Fin.Base.html#966" class="InductiveConstructor">zero</a> <a id="3168" href="Data.Graph.Acyclic.html#3121" class="Bound">x</a> <a id="3170" href="Data.Graph.Acyclic.html#3124" class="Bound">c</a><a id="3171" class="Symbol">)</a> <a id="3173" href="Data.Graph.Acyclic.html#3128" class="Bound">g</a>


<a id="3177" class="Keyword">module</a> <a id="3184" href="Data.Graph.Acyclic.html#3184" class="Module">_</a> <a id="3186" class="Symbol">{</a><a id="3187" href="Data.Graph.Acyclic.html#3187" class="Bound">ℓ₁</a> <a id="3190" href="Data.Graph.Acyclic.html#3190" class="Bound">e₁</a><a id="3192" class="Symbol">}</a> <a id="3194" class="Symbol">{</a><a id="3195" href="Data.Graph.Acyclic.html#3195" class="Bound">N₁</a> <a id="3198" class="Symbol">:</a> <a id="3200" class="PrimitiveType">Set</a> <a id="3204" href="Data.Graph.Acyclic.html#3187" class="Bound">ℓ₁</a><a id="3206" class="Symbol">}</a> <a id="3208" class="Symbol">{</a><a id="3209" href="Data.Graph.Acyclic.html#3209" class="Bound">E₁</a> <a id="3212" class="Symbol">:</a> <a id="3214" class="PrimitiveType">Set</a> <a id="3218" href="Data.Graph.Acyclic.html#3190" class="Bound">e₁</a><a id="3220" class="Symbol">}</a>
         <a id="3231" class="Symbol">{</a><a id="3232" href="Data.Graph.Acyclic.html#3232" class="Bound">ℓ₂</a> <a id="3235" href="Data.Graph.Acyclic.html#3235" class="Bound">e₂</a><a id="3237" class="Symbol">}</a> <a id="3239" class="Symbol">{</a><a id="3240" href="Data.Graph.Acyclic.html#3240" class="Bound">N₂</a> <a id="3243" class="Symbol">:</a> <a id="3245" class="PrimitiveType">Set</a> <a id="3249" href="Data.Graph.Acyclic.html#3232" class="Bound">ℓ₂</a><a id="3251" class="Symbol">}</a> <a id="3253" class="Symbol">{</a><a id="3254" href="Data.Graph.Acyclic.html#3254" class="Bound">E₂</a> <a id="3257" class="Symbol">:</a> <a id="3259" class="PrimitiveType">Set</a> <a id="3263" href="Data.Graph.Acyclic.html#3235" class="Bound">e₂</a><a id="3265" class="Symbol">}</a> <a id="3267" class="Keyword">where</a>

<a id="3274" class="Comment">-- Maps over node contexts.</a>

  <a id="3305" href="Data.Graph.Acyclic.html#3305" class="Function">map</a> <a id="3309" class="Symbol">:</a> <a id="3311" class="Symbol">(∀</a> <a id="3314" class="Symbol">{</a><a id="3315" href="Data.Graph.Acyclic.html#3315" class="Bound">n</a><a id="3316" class="Symbol">}</a> <a id="3318" class="Symbol">→</a> <a id="3320" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="3328" href="Data.Graph.Acyclic.html#3195" class="Bound">N₁</a> <a id="3331" href="Data.Graph.Acyclic.html#3209" class="Bound">E₁</a> <a id="3334" href="Data.Graph.Acyclic.html#3315" class="Bound">n</a> <a id="3336" class="Symbol">→</a> <a id="3338" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="3346" href="Data.Graph.Acyclic.html#3240" class="Bound">N₂</a> <a id="3349" href="Data.Graph.Acyclic.html#3254" class="Bound">E₂</a> <a id="3352" href="Data.Graph.Acyclic.html#3315" class="Bound">n</a><a id="3353" class="Symbol">)</a> <a id="3355" class="Symbol">→</a>
        <a id="3365" class="Symbol">∀</a> <a id="3367" class="Symbol">{</a><a id="3368" href="Data.Graph.Acyclic.html#3368" class="Bound">n</a><a id="3369" class="Symbol">}</a> <a id="3371" class="Symbol">→</a> <a id="3373" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="3379" href="Data.Graph.Acyclic.html#3195" class="Bound">N₁</a> <a id="3382" href="Data.Graph.Acyclic.html#3209" class="Bound">E₁</a> <a id="3385" href="Data.Graph.Acyclic.html#3368" class="Bound">n</a> <a id="3387" class="Symbol">→</a> <a id="3389" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="3395" href="Data.Graph.Acyclic.html#3240" class="Bound">N₂</a> <a id="3398" href="Data.Graph.Acyclic.html#3254" class="Bound">E₂</a> <a id="3401" href="Data.Graph.Acyclic.html#3368" class="Bound">n</a>
  <a id="3405" href="Data.Graph.Acyclic.html#3305" class="Function">map</a> <a id="3409" href="Data.Graph.Acyclic.html#3409" class="Bound">f</a> <a id="3411" class="Symbol">=</a> <a id="3413" href="Data.Graph.Acyclic.html#2689" class="Function">foldr</a> <a id="3419" class="Symbol">_</a> <a id="3421" class="Symbol">(λ</a> <a id="3424" href="Data.Graph.Acyclic.html#3424" class="Bound">c</a> <a id="3426" class="Symbol">→</a> <a id="3428" href="Data.Graph.Acyclic.html#3409" class="Bound">f</a> <a id="3430" href="Data.Graph.Acyclic.html#3424" class="Bound">c</a> <a id="3432" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;_</a><a id="3434" class="Symbol">)</a> <a id="3436" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>

<a id="3439" class="Comment">-- Maps over node labels.</a>

<a id="nmap"></a><a id="3466" href="Data.Graph.Acyclic.html#3466" class="Function">nmap</a> <a id="3471" class="Symbol">:</a> <a id="3473" class="Symbol">∀</a> <a id="3475" class="Symbol">{</a><a id="3476" href="Data.Graph.Acyclic.html#3476" class="Bound">ℓ₁</a> <a id="3479" href="Data.Graph.Acyclic.html#3479" class="Bound">ℓ₂</a> <a id="3482" href="Data.Graph.Acyclic.html#3482" class="Bound">e</a><a id="3483" class="Symbol">}</a> <a id="3485" class="Symbol">{</a><a id="3486" href="Data.Graph.Acyclic.html#3486" class="Bound">N₁</a> <a id="3489" class="Symbol">:</a> <a id="3491" class="PrimitiveType">Set</a> <a id="3495" href="Data.Graph.Acyclic.html#3476" class="Bound">ℓ₁</a><a id="3497" class="Symbol">}</a> <a id="3499" class="Symbol">{</a><a id="3500" href="Data.Graph.Acyclic.html#3500" class="Bound">N₂</a> <a id="3503" class="Symbol">:</a> <a id="3505" class="PrimitiveType">Set</a> <a id="3509" href="Data.Graph.Acyclic.html#3479" class="Bound">ℓ₂</a><a id="3511" class="Symbol">}</a> <a id="3513" class="Symbol">{</a><a id="3514" href="Data.Graph.Acyclic.html#3514" class="Bound">E</a> <a id="3516" class="Symbol">:</a> <a id="3518" class="PrimitiveType">Set</a> <a id="3522" href="Data.Graph.Acyclic.html#3482" class="Bound">e</a><a id="3523" class="Symbol">}</a> <a id="3525" class="Symbol">→</a>
       <a id="3534" class="Symbol">∀</a> <a id="3536" class="Symbol">{</a><a id="3537" href="Data.Graph.Acyclic.html#3537" class="Bound">n</a><a id="3538" class="Symbol">}</a> <a id="3540" class="Symbol">→</a> <a id="3542" class="Symbol">(</a><a id="3543" href="Data.Graph.Acyclic.html#3486" class="Bound">N₁</a> <a id="3546" class="Symbol">→</a> <a id="3548" href="Data.Graph.Acyclic.html#3500" class="Bound">N₂</a><a id="3550" class="Symbol">)</a> <a id="3552" class="Symbol">→</a> <a id="3554" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="3560" href="Data.Graph.Acyclic.html#3486" class="Bound">N₁</a> <a id="3563" href="Data.Graph.Acyclic.html#3514" class="Bound">E</a> <a id="3565" href="Data.Graph.Acyclic.html#3537" class="Bound">n</a> <a id="3567" class="Symbol">→</a> <a id="3569" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="3575" href="Data.Graph.Acyclic.html#3500" class="Bound">N₂</a> <a id="3578" href="Data.Graph.Acyclic.html#3514" class="Bound">E</a> <a id="3580" href="Data.Graph.Acyclic.html#3537" class="Bound">n</a>
<a id="3582" href="Data.Graph.Acyclic.html#3466" class="Function">nmap</a> <a id="3587" href="Data.Graph.Acyclic.html#3587" class="Bound">f</a> <a id="3589" class="Symbol">=</a> <a id="3591" href="Data.Graph.Acyclic.html#3305" class="Function">map</a> <a id="3595" class="Symbol">(</a><a id="3596" href="Data.Graph.Acyclic.html#1781" class="Function">cmap</a> <a id="3601" href="Data.Graph.Acyclic.html#3587" class="Bound">f</a> <a id="3603" href="Function.html#1097" class="Function">id</a><a id="3605" class="Symbol">)</a>

<a id="3608" class="Comment">-- Maps over edge labels.</a>

<a id="emap"></a><a id="3635" href="Data.Graph.Acyclic.html#3635" class="Function">emap</a> <a id="3640" class="Symbol">:</a> <a id="3642" class="Symbol">∀</a> <a id="3644" class="Symbol">{</a><a id="3645" href="Data.Graph.Acyclic.html#3645" class="Bound">ℓ</a> <a id="3647" href="Data.Graph.Acyclic.html#3647" class="Bound">e₁</a> <a id="3650" href="Data.Graph.Acyclic.html#3650" class="Bound">e₂</a><a id="3652" class="Symbol">}</a> <a id="3654" class="Symbol">{</a><a id="3655" href="Data.Graph.Acyclic.html#3655" class="Bound">N</a> <a id="3657" class="Symbol">:</a> <a id="3659" class="PrimitiveType">Set</a> <a id="3663" href="Data.Graph.Acyclic.html#3645" class="Bound">ℓ</a><a id="3664" class="Symbol">}</a> <a id="3666" class="Symbol">{</a><a id="3667" href="Data.Graph.Acyclic.html#3667" class="Bound">E₁</a> <a id="3670" class="Symbol">:</a> <a id="3672" class="PrimitiveType">Set</a> <a id="3676" href="Data.Graph.Acyclic.html#3647" class="Bound">e₁</a><a id="3678" class="Symbol">}</a> <a id="3680" class="Symbol">{</a><a id="3681" href="Data.Graph.Acyclic.html#3681" class="Bound">E₂</a> <a id="3684" class="Symbol">:</a> <a id="3686" class="PrimitiveType">Set</a> <a id="3690" href="Data.Graph.Acyclic.html#3650" class="Bound">e₂</a><a id="3692" class="Symbol">}</a> <a id="3694" class="Symbol">→</a>
       <a id="3703" class="Symbol">∀</a> <a id="3705" class="Symbol">{</a><a id="3706" href="Data.Graph.Acyclic.html#3706" class="Bound">n</a><a id="3707" class="Symbol">}</a> <a id="3709" class="Symbol">→</a> <a id="3711" class="Symbol">(</a><a id="3712" href="Data.Graph.Acyclic.html#3667" class="Bound">E₁</a> <a id="3715" class="Symbol">→</a> <a id="3717" href="Data.Graph.Acyclic.html#3681" class="Bound">E₂</a><a id="3719" class="Symbol">)</a> <a id="3721" class="Symbol">→</a> <a id="3723" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="3729" href="Data.Graph.Acyclic.html#3655" class="Bound">N</a> <a id="3731" href="Data.Graph.Acyclic.html#3667" class="Bound">E₁</a> <a id="3734" href="Data.Graph.Acyclic.html#3706" class="Bound">n</a> <a id="3736" class="Symbol">→</a> <a id="3738" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="3744" href="Data.Graph.Acyclic.html#3655" class="Bound">N</a> <a id="3746" href="Data.Graph.Acyclic.html#3681" class="Bound">E₂</a> <a id="3749" href="Data.Graph.Acyclic.html#3706" class="Bound">n</a>
<a id="3751" href="Data.Graph.Acyclic.html#3635" class="Function">emap</a> <a id="3756" href="Data.Graph.Acyclic.html#3756" class="Bound">f</a> <a id="3758" class="Symbol">=</a> <a id="3760" href="Data.Graph.Acyclic.html#3305" class="Function">map</a> <a id="3764" class="Symbol">(</a><a id="3765" href="Data.Graph.Acyclic.html#1781" class="Function">cmap</a> <a id="3770" href="Function.html#1097" class="Function">id</a> <a id="3773" class="Symbol">(</a><a id="3774" href="Data.List.Base.html#1161" class="Function">List.map</a> <a id="3783" class="Symbol">(</a><a id="3784" href="Data.Product.html#2183" class="Function">Prod.map</a> <a id="3793" href="Data.Graph.Acyclic.html#3756" class="Bound">f</a> <a id="3795" href="Function.html#1097" class="Function">id</a><a id="3797" class="Symbol">)))</a>

<a id="3802" class="Comment">-- Zips two graphs with the same number of nodes. Note that one of the</a>
<a id="3873" class="Comment">-- graphs has a type which restricts it to be completely disconnected.</a>

<a id="zipWith"></a><a id="3945" href="Data.Graph.Acyclic.html#3945" class="Function">zipWith</a> <a id="3953" class="Symbol">:</a> <a id="3955" class="Symbol">∀</a> <a id="3957" class="Symbol">{</a><a id="3958" href="Data.Graph.Acyclic.html#3958" class="Bound">ℓ₁</a> <a id="3961" href="Data.Graph.Acyclic.html#3961" class="Bound">ℓ₂</a> <a id="3964" href="Data.Graph.Acyclic.html#3964" class="Bound">ℓ</a> <a id="3966" href="Data.Graph.Acyclic.html#3966" class="Bound">e</a><a id="3967" class="Symbol">}</a> <a id="3969" class="Symbol">{</a><a id="3970" href="Data.Graph.Acyclic.html#3970" class="Bound">N₁</a> <a id="3973" class="Symbol">:</a> <a id="3975" class="PrimitiveType">Set</a> <a id="3979" href="Data.Graph.Acyclic.html#3958" class="Bound">ℓ₁</a><a id="3981" class="Symbol">}</a> <a id="3983" class="Symbol">{</a><a id="3984" href="Data.Graph.Acyclic.html#3984" class="Bound">N₂</a> <a id="3987" class="Symbol">:</a> <a id="3989" class="PrimitiveType">Set</a> <a id="3993" href="Data.Graph.Acyclic.html#3961" class="Bound">ℓ₂</a><a id="3995" class="Symbol">}</a> <a id="3997" class="Symbol">{</a><a id="3998" href="Data.Graph.Acyclic.html#3998" class="Bound">N</a> <a id="4000" class="Symbol">:</a> <a id="4002" class="PrimitiveType">Set</a> <a id="4006" href="Data.Graph.Acyclic.html#3964" class="Bound">ℓ</a><a id="4007" class="Symbol">}</a> <a id="4009" class="Symbol">{</a><a id="4010" href="Data.Graph.Acyclic.html#4010" class="Bound">E</a> <a id="4012" class="Symbol">:</a> <a id="4014" class="PrimitiveType">Set</a> <a id="4018" href="Data.Graph.Acyclic.html#3966" class="Bound">e</a><a id="4019" class="Symbol">}</a> <a id="4021" class="Symbol">→</a>
          <a id="4033" class="Symbol">∀</a> <a id="4035" class="Symbol">{</a><a id="4036" href="Data.Graph.Acyclic.html#4036" class="Bound">n</a><a id="4037" class="Symbol">}</a> <a id="4039" class="Symbol">→</a> <a id="4041" class="Symbol">(</a><a id="4042" href="Data.Graph.Acyclic.html#3970" class="Bound">N₁</a> <a id="4045" class="Symbol">→</a> <a id="4047" href="Data.Graph.Acyclic.html#3984" class="Bound">N₂</a> <a id="4050" class="Symbol">→</a> <a id="4052" href="Data.Graph.Acyclic.html#3998" class="Bound">N</a><a id="4053" class="Symbol">)</a> <a id="4055" class="Symbol">→</a> <a id="4057" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4063" href="Data.Graph.Acyclic.html#3970" class="Bound">N₁</a> <a id="4066" href="Data.Empty.html#272" class="Datatype">⊥</a> <a id="4068" href="Data.Graph.Acyclic.html#4036" class="Bound">n</a> <a id="4070" class="Symbol">→</a> <a id="4072" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4078" href="Data.Graph.Acyclic.html#3984" class="Bound">N₂</a> <a id="4081" href="Data.Graph.Acyclic.html#4010" class="Bound">E</a> <a id="4083" href="Data.Graph.Acyclic.html#4036" class="Bound">n</a> <a id="4085" class="Symbol">→</a> <a id="4087" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4093" href="Data.Graph.Acyclic.html#3998" class="Bound">N</a> <a id="4095" href="Data.Graph.Acyclic.html#4010" class="Bound">E</a> <a id="4097" href="Data.Graph.Acyclic.html#4036" class="Bound">n</a>
<a id="4099" href="Data.Graph.Acyclic.html#3945" class="Function">zipWith</a> <a id="4107" href="Data.Graph.Acyclic.html#4107" class="Bound Operator">_∙_</a> <a id="4111" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>         <a id="4121" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>         <a id="4131" class="Symbol">=</a> <a id="4133" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>
<a id="4135" href="Data.Graph.Acyclic.html#3945" class="Function">zipWith</a> <a id="4143" href="Data.Graph.Acyclic.html#4143" class="Bound Operator">_∙_</a> <a id="4147" class="Symbol">(</a><a id="4148" href="Data.Graph.Acyclic.html#4148" class="Bound">c₁</a> <a id="4151" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="4153" href="Data.Graph.Acyclic.html#4153" class="Bound">g₁</a><a id="4155" class="Symbol">)</a> <a id="4157" class="Symbol">(</a><a id="4158" href="Data.Graph.Acyclic.html#4158" class="Bound">c₂</a> <a id="4161" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="4163" href="Data.Graph.Acyclic.html#4163" class="Bound">g₂</a><a id="4165" class="Symbol">)</a> <a id="4167" class="Symbol">=</a>
  <a id="4171" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="4179" class="Symbol">(</a><a id="4180" href="Data.Graph.Acyclic.html#1583" class="Field">label</a> <a id="4186" href="Data.Graph.Acyclic.html#4148" class="Bound">c₁</a> <a id="4189" href="Data.Graph.Acyclic.html#4143" class="Bound Operator">∙</a> <a id="4191" href="Data.Graph.Acyclic.html#1583" class="Field">label</a> <a id="4197" href="Data.Graph.Acyclic.html#4158" class="Bound">c₂</a><a id="4199" class="Symbol">)</a> <a id="4201" class="Symbol">(</a><a id="4202" href="Data.Graph.Acyclic.html#1605" class="Field">successors</a> <a id="4213" href="Data.Graph.Acyclic.html#4158" class="Bound">c₂</a><a id="4215" class="Symbol">)</a> <a id="4217" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="4219" href="Data.Graph.Acyclic.html#3945" class="Function">zipWith</a> <a id="4227" href="Data.Graph.Acyclic.html#4143" class="Bound Operator">_∙_</a> <a id="4231" href="Data.Graph.Acyclic.html#4153" class="Bound">g₁</a> <a id="4234" href="Data.Graph.Acyclic.html#4163" class="Bound">g₂</a>

<a id="4238" class="Comment">------------------------------------------------------------------------</a>
<a id="4311" class="Comment">-- Specific graphs</a>

<a id="4331" class="Comment">-- A completeley disconnected graph.</a>

<a id="disconnected"></a><a id="4369" href="Data.Graph.Acyclic.html#4369" class="Function">disconnected</a> <a id="4382" class="Symbol">:</a> <a id="4384" class="Symbol">∀</a> <a id="4386" href="Data.Graph.Acyclic.html#4386" class="Bound">n</a> <a id="4388" class="Symbol">→</a> <a id="4390" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4396" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a> <a id="4398" href="Data.Empty.html#272" class="Datatype">⊥</a> <a id="4400" href="Data.Graph.Acyclic.html#4386" class="Bound">n</a>
<a id="4402" href="Data.Graph.Acyclic.html#4369" class="Function">disconnected</a> <a id="4415" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="4423" class="Symbol">=</a> <a id="4425" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>
<a id="4427" href="Data.Graph.Acyclic.html#4369" class="Function">disconnected</a> <a id="4440" class="Symbol">(</a><a id="4441" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4445" href="Data.Graph.Acyclic.html#4445" class="Bound">n</a><a id="4446" class="Symbol">)</a> <a id="4448" class="Symbol">=</a> <a id="4450" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="4458" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a> <a id="4461" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="4464" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="4466" href="Data.Graph.Acyclic.html#4369" class="Function">disconnected</a> <a id="4479" href="Data.Graph.Acyclic.html#4445" class="Bound">n</a>

<a id="4482" class="Comment">-- A complete graph.</a>

<a id="complete"></a><a id="4504" href="Data.Graph.Acyclic.html#4504" class="Function">complete</a> <a id="4513" class="Symbol">:</a> <a id="4515" class="Symbol">∀</a> <a id="4517" href="Data.Graph.Acyclic.html#4517" class="Bound">n</a> <a id="4519" class="Symbol">→</a> <a id="4521" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4527" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a> <a id="4529" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a> <a id="4531" href="Data.Graph.Acyclic.html#4517" class="Bound">n</a>
<a id="4533" href="Data.Graph.Acyclic.html#4504" class="Function">complete</a> <a id="4542" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="4550" class="Symbol">=</a> <a id="4552" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>
<a id="4554" href="Data.Graph.Acyclic.html#4504" class="Function">complete</a> <a id="4563" class="Symbol">(</a><a id="4564" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4568" href="Data.Graph.Acyclic.html#4568" class="Bound">n</a><a id="4569" class="Symbol">)</a> <a id="4571" class="Symbol">=</a>
  <a id="4575" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="4583" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a> <a id="4586" class="Symbol">(</a><a id="4587" href="Data.List.Base.html#1161" class="Function">List.map</a> <a id="4596" class="Symbol">(</a><a id="4597" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a> <a id="4600" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a><a id="4602" class="Symbol">)</a> <a id="4604" href="Function.html#1920" class="Function Operator">$</a> <a id="4606" href="Data.Vec.html#7159" class="Function">Vec.toList</a> <a id="4617" class="Symbol">(</a><a id="4618" href="Data.Vec.html#5723" class="Function">Vec.allFin</a> <a id="4629" href="Data.Graph.Acyclic.html#4568" class="Bound">n</a><a id="4630" class="Symbol">))</a> <a id="4633" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
  <a id="4637" href="Data.Graph.Acyclic.html#4504" class="Function">complete</a> <a id="4646" href="Data.Graph.Acyclic.html#4568" class="Bound">n</a>

<a id="4649" class="Comment">------------------------------------------------------------------------</a>
<a id="4722" class="Comment">-- Queries</a>

<a id="4734" class="Keyword">module</a> <a id="4741" href="Data.Graph.Acyclic.html#4741" class="Module">_</a> <a id="4743" class="Symbol">{</a><a id="4744" href="Data.Graph.Acyclic.html#4744" class="Bound">ℓ</a> <a id="4746" href="Data.Graph.Acyclic.html#4746" class="Bound">e</a><a id="4747" class="Symbol">}</a> <a id="4749" class="Symbol">{</a><a id="4750" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="4752" class="Symbol">:</a> <a id="4754" class="PrimitiveType">Set</a> <a id="4758" href="Data.Graph.Acyclic.html#4744" class="Bound">ℓ</a><a id="4759" class="Symbol">}</a> <a id="4761" class="Symbol">{</a><a id="4762" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="4764" class="Symbol">:</a> <a id="4766" class="PrimitiveType">Set</a> <a id="4770" href="Data.Graph.Acyclic.html#4746" class="Bound">e</a><a id="4771" class="Symbol">}</a> <a id="4773" class="Keyword">where</a>

<a id="4780" class="Comment">-- The top-most context.</a>

  <a id="4808" href="Data.Graph.Acyclic.html#4808" class="Function">head</a> <a id="4813" class="Symbol">:</a> <a id="4815" class="Symbol">∀</a> <a id="4817" class="Symbol">{</a><a id="4818" href="Data.Graph.Acyclic.html#4818" class="Bound">n</a><a id="4819" class="Symbol">}</a> <a id="4821" class="Symbol">→</a> <a id="4823" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4829" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="4831" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="4833" class="Symbol">(</a><a id="4834" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4838" href="Data.Graph.Acyclic.html#4818" class="Bound">n</a><a id="4839" class="Symbol">)</a> <a id="4841" class="Symbol">→</a> <a id="4843" href="Data.Graph.Acyclic.html#1477" class="Record">Context</a> <a id="4851" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="4853" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="4855" href="Data.Graph.Acyclic.html#4818" class="Bound">n</a>
  <a id="4859" href="Data.Graph.Acyclic.html#4808" class="Function">head</a> <a id="4864" class="Symbol">(</a><a id="4865" href="Data.Graph.Acyclic.html#4865" class="Bound">c</a> <a id="4867" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="4869" href="Data.Graph.Acyclic.html#4869" class="Bound">g</a><a id="4870" class="Symbol">)</a> <a id="4872" class="Symbol">=</a> <a id="4874" href="Data.Graph.Acyclic.html#4865" class="Bound">c</a>

<a id="4877" class="Comment">-- The remaining graph.</a>

  <a id="4904" href="Data.Graph.Acyclic.html#4904" class="Function">tail</a> <a id="4909" class="Symbol">:</a> <a id="4911" class="Symbol">∀</a> <a id="4913" class="Symbol">{</a><a id="4914" href="Data.Graph.Acyclic.html#4914" class="Bound">n</a><a id="4915" class="Symbol">}</a> <a id="4917" class="Symbol">→</a> <a id="4919" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4925" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="4927" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4934" href="Data.Graph.Acyclic.html#4914" class="Bound">n</a><a id="4935" class="Symbol">)</a> <a id="4937" class="Symbol">→</a> <a id="4939" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="4945" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="4947" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="4949" href="Data.Graph.Acyclic.html#4914" class="Bound">n</a>
  <a id="4953" href="Data.Graph.Acyclic.html#4904" class="Function">tail</a> <a id="4958" class="Symbol">(</a><a id="4959" href="Data.Graph.Acyclic.html#4959" class="Bound">c</a> <a id="4961" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="4963" href="Data.Graph.Acyclic.html#4963" class="Bound">g</a><a id="4964" class="Symbol">)</a> <a id="4966" class="Symbol">=</a> <a id="4968" href="Data.Graph.Acyclic.html#4963" class="Bound">g</a>

<a id="4971" class="Comment">-- Finds the context and remaining graph corresponding to a given node</a>
<a id="5042" class="Comment">-- index.</a>

  <a id="5055" href="Data.Graph.Acyclic.html#5055" class="Function Operator">_[_]</a> <a id="5060" class="Symbol">:</a> <a id="5062" class="Symbol">∀</a> <a id="5064" class="Symbol">{</a><a id="5065" href="Data.Graph.Acyclic.html#5065" class="Bound">n</a><a id="5066" class="Symbol">}</a> <a id="5068" class="Symbol">→</a> <a id="5070" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="5076" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="5078" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="5080" href="Data.Graph.Acyclic.html#5065" class="Bound">n</a> <a id="5082" class="Symbol">→</a> <a id="5084" class="Symbol">(</a><a id="5085" href="Data.Graph.Acyclic.html#5085" class="Bound">i</a> <a id="5087" class="Symbol">:</a> <a id="5089" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="5093" href="Data.Graph.Acyclic.html#5065" class="Bound">n</a><a id="5094" class="Symbol">)</a> <a id="5096" class="Symbol">→</a> <a id="5098" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="5104" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="5106" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="5108" class="Symbol">(</a><a id="5109" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="5113" class="Symbol">(</a><a id="5114" href="Data.Graph.Acyclic.html#5065" class="Bound">n</a> <a id="5116" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="5118" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="5122" href="Data.Graph.Acyclic.html#5085" class="Bound">i</a><a id="5123" class="Symbol">))</a>
  <a id="5128" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>       <a id="5136" href="Data.Graph.Acyclic.html#5055" class="Function Operator">[</a> <a id="5138" class="Symbol">()</a> <a id="5141" href="Data.Graph.Acyclic.html#5055" class="Function Operator">]</a>
  <a id="5145" class="Symbol">(</a><a id="5146" href="Data.Graph.Acyclic.html#5146" class="Bound">c</a> <a id="5148" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="5150" href="Data.Graph.Acyclic.html#5150" class="Bound">g</a><a id="5151" class="Symbol">)</a> <a id="5153" href="Data.Graph.Acyclic.html#5055" class="Function Operator">[</a> <a id="5155" href="Data.Fin.Base.html#966" class="InductiveConstructor">zero</a> <a id="5160" href="Data.Graph.Acyclic.html#5055" class="Function Operator">]</a>  <a id="5163" class="Symbol">=</a> <a id="5165" href="Data.Graph.Acyclic.html#5146" class="Bound">c</a> <a id="5167" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="5169" href="Data.Graph.Acyclic.html#5150" class="Bound">g</a>
  <a id="5173" class="Symbol">(</a><a id="5174" href="Data.Graph.Acyclic.html#5174" class="Bound">c</a> <a id="5176" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="5178" href="Data.Graph.Acyclic.html#5178" class="Bound">g</a><a id="5179" class="Symbol">)</a> <a id="5181" href="Data.Graph.Acyclic.html#5055" class="Function Operator">[</a> <a id="5183" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="5187" href="Data.Graph.Acyclic.html#5187" class="Bound">i</a> <a id="5189" href="Data.Graph.Acyclic.html#5055" class="Function Operator">]</a> <a id="5191" class="Symbol">=</a> <a id="5193" href="Data.Graph.Acyclic.html#5178" class="Bound">g</a> <a id="5195" href="Data.Graph.Acyclic.html#5055" class="Function Operator">[</a> <a id="5197" href="Data.Graph.Acyclic.html#5187" class="Bound">i</a> <a id="5199" href="Data.Graph.Acyclic.html#5055" class="Function Operator">]</a>

<a id="5202" class="Comment">-- The nodes of the graph (node number relative to &quot;topmost&quot; node ×</a>
<a id="5270" class="Comment">-- node label).</a>

  <a id="5289" href="Data.Graph.Acyclic.html#5289" class="Function">nodes</a> <a id="5295" class="Symbol">:</a> <a id="5297" class="Symbol">∀</a> <a id="5299" class="Symbol">{</a><a id="5300" href="Data.Graph.Acyclic.html#5300" class="Bound">n</a><a id="5301" class="Symbol">}</a> <a id="5303" class="Symbol">→</a> <a id="5305" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="5311" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a> <a id="5313" href="Data.Graph.Acyclic.html#4762" class="Bound">E</a> <a id="5315" href="Data.Graph.Acyclic.html#5300" class="Bound">n</a> <a id="5317" class="Symbol">→</a> <a id="5319" href="Data.Vec.html#766" class="Datatype">Vec</a> <a id="5323" class="Symbol">(</a><a id="5324" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="5328" href="Data.Graph.Acyclic.html#5300" class="Bound">n</a> <a id="5330" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="5332" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a><a id="5333" class="Symbol">)</a> <a id="5335" href="Data.Graph.Acyclic.html#5300" class="Bound">n</a>
  <a id="5339" href="Data.Graph.Acyclic.html#5289" class="Function">nodes</a> <a id="5345" class="Symbol">=</a> <a id="5347" href="Data.Vec.html#3330" class="Function">Vec.zip</a> <a id="5355" class="Symbol">(</a><a id="5356" href="Data.Vec.html#5723" class="Function">Vec.allFin</a> <a id="5367" class="Symbol">_)</a> <a id="5370" href="Function.html#798" class="Function Operator">∘</a>
          <a id="5382" href="Data.Graph.Acyclic.html#2689" class="Function">foldr</a> <a id="5388" class="Symbol">(</a><a id="5389" href="Data.Vec.html#766" class="Datatype">Vec</a> <a id="5393" href="Data.Graph.Acyclic.html#4750" class="Bound">N</a><a id="5394" class="Symbol">)</a> <a id="5396" class="Symbol">(λ</a> <a id="5399" href="Data.Graph.Acyclic.html#5399" class="Bound">c</a> <a id="5401" class="Symbol">→</a> <a id="5403" href="Data.Graph.Acyclic.html#1583" class="Field">label</a> <a id="5409" href="Data.Graph.Acyclic.html#5399" class="Bound">c</a> <a id="5411" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷_</a><a id="5413" class="Symbol">)</a> <a id="5415" href="Data.Vec.html#806" class="InductiveConstructor">[]</a>

<a id="5419" class="Keyword">private</a>

  <a id="test-nodes"></a><a id="5430" href="Data.Graph.Acyclic.html#5430" class="Function">test-nodes</a> <a id="5441" class="Symbol">:</a> <a id="5443" href="Data.Graph.Acyclic.html#5289" class="Function">nodes</a> <a id="5449" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="5457" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5459" class="Symbol">(</a><a id="5460" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="5462" class="Number">0</a> <a id="5464" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5466" class="Number">0</a><a id="5467" class="Symbol">)</a> <a id="5469" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a> <a id="5471" class="Symbol">(</a><a id="5472" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="5474" class="Number">1</a> <a id="5476" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5478" class="Number">1</a><a id="5479" class="Symbol">)</a> <a id="5481" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a> <a id="5483" class="Symbol">(</a><a id="5484" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="5486" class="Number">2</a> <a id="5488" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5490" class="Number">2</a><a id="5491" class="Symbol">)</a> <a id="5493" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a>
                               <a id="5526" class="Symbol">(</a><a id="5527" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="5529" class="Number">3</a> <a id="5531" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5533" class="Number">3</a><a id="5534" class="Symbol">)</a> <a id="5536" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a> <a id="5538" class="Symbol">(</a><a id="5539" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="5541" class="Number">4</a> <a id="5543" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5545" class="Number">4</a><a id="5546" class="Symbol">)</a> <a id="5548" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a> <a id="5550" href="Data.Vec.html#806" class="InductiveConstructor">[]</a>
  <a id="5555" href="Data.Graph.Acyclic.html#5430" class="Function">test-nodes</a> <a id="5566" class="Symbol">=</a> <a id="5568" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a>


<a id="5577" class="Keyword">module</a> <a id="5584" href="Data.Graph.Acyclic.html#5584" class="Module">_</a> <a id="5586" class="Symbol">{</a><a id="5587" href="Data.Graph.Acyclic.html#5587" class="Bound">ℓ</a> <a id="5589" href="Data.Graph.Acyclic.html#5589" class="Bound">e</a><a id="5590" class="Symbol">}</a> <a id="5592" class="Symbol">{</a><a id="5593" href="Data.Graph.Acyclic.html#5593" class="Bound">N</a> <a id="5595" class="Symbol">:</a> <a id="5597" class="PrimitiveType">Set</a> <a id="5601" href="Data.Graph.Acyclic.html#5587" class="Bound">ℓ</a><a id="5602" class="Symbol">}</a> <a id="5604" class="Symbol">{</a><a id="5605" href="Data.Graph.Acyclic.html#5605" class="Bound">E</a> <a id="5607" class="Symbol">:</a> <a id="5609" class="PrimitiveType">Set</a> <a id="5613" href="Data.Graph.Acyclic.html#5589" class="Bound">e</a><a id="5614" class="Symbol">}</a> <a id="5616" class="Keyword">where</a>

<a id="5623" class="Comment">-- Topological sort. Gives a vector where earlier nodes are never</a>
<a id="5689" class="Comment">-- successors of later nodes.</a>

  <a id="5722" href="Data.Graph.Acyclic.html#5722" class="Function">topSort</a> <a id="5730" class="Symbol">:</a> <a id="5732" class="Symbol">∀</a> <a id="5734" class="Symbol">{</a><a id="5735" href="Data.Graph.Acyclic.html#5735" class="Bound">n</a><a id="5736" class="Symbol">}</a> <a id="5738" class="Symbol">→</a> <a id="5740" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="5746" href="Data.Graph.Acyclic.html#5593" class="Bound">N</a> <a id="5748" href="Data.Graph.Acyclic.html#5605" class="Bound">E</a> <a id="5750" href="Data.Graph.Acyclic.html#5735" class="Bound">n</a> <a id="5752" class="Symbol">→</a> <a id="5754" href="Data.Vec.html#766" class="Datatype">Vec</a> <a id="5758" class="Symbol">(</a><a id="5759" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="5763" href="Data.Graph.Acyclic.html#5735" class="Bound">n</a> <a id="5765" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="5767" href="Data.Graph.Acyclic.html#5593" class="Bound">N</a><a id="5768" class="Symbol">)</a> <a id="5770" href="Data.Graph.Acyclic.html#5735" class="Bound">n</a>
  <a id="5774" href="Data.Graph.Acyclic.html#5722" class="Function">topSort</a> <a id="5782" class="Symbol">=</a> <a id="5784" href="Data.Graph.Acyclic.html#5289" class="Function">nodes</a>

<a id="5791" class="Comment">-- The edges of the graph (predecessor × edge label × successor).</a>
<a id="5857" class="Comment">--</a>
<a id="5860" class="Comment">-- The predecessor is a node number relative to the &quot;topmost&quot; node in</a>
<a id="5930" class="Comment">-- the graph, and the successor is a node number relative to the</a>
<a id="5995" class="Comment">-- predecessor.</a>

  <a id="6014" href="Data.Graph.Acyclic.html#6014" class="Function">edges</a> <a id="6020" class="Symbol">:</a> <a id="6022" class="Symbol">∀</a> <a id="6024" class="Symbol">{</a><a id="6025" href="Data.Graph.Acyclic.html#6025" class="Bound">n</a><a id="6026" class="Symbol">}</a> <a id="6028" class="Symbol">→</a> <a id="6030" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="6036" href="Data.Graph.Acyclic.html#5593" class="Bound">N</a> <a id="6038" href="Data.Graph.Acyclic.html#5605" class="Bound">E</a> <a id="6040" href="Data.Graph.Acyclic.html#6025" class="Bound">n</a> <a id="6042" class="Symbol">→</a> <a id="6044" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="6049" class="Symbol">(</a><a id="6050" href="Data.Product.html#910" class="Function">∃</a> <a id="6052" class="Symbol">λ</a> <a id="6054" href="Data.Graph.Acyclic.html#6054" class="Bound">i</a> <a id="6056" class="Symbol">→</a> <a id="6058" href="Data.Graph.Acyclic.html#5605" class="Bound">E</a> <a id="6060" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="6062" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="6066" class="Symbol">(</a><a id="6067" href="Data.Graph.Acyclic.html#6025" class="Bound">n</a> <a id="6069" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="6071" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="6075" href="Data.Graph.Acyclic.html#6054" class="Bound">i</a><a id="6076" class="Symbol">))</a>
  <a id="6081" href="Data.Graph.Acyclic.html#6014" class="Function">edges</a> <a id="6087" class="Symbol">{</a><a id="6088" href="Data.Graph.Acyclic.html#6088" class="Bound">n</a><a id="6089" class="Symbol">}</a> <a id="6091" class="Symbol">=</a>
    <a id="6097" href="Data.Graph.Acyclic.html#2915" class="Function">foldl</a> <a id="6103" class="Symbol">(λ</a> <a id="6106" href="Data.Graph.Acyclic.html#6106" class="Bound">_</a> <a id="6108" class="Symbol">→</a> <a id="6110" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="6115" class="Symbol">(</a><a id="6116" href="Data.Product.html#910" class="Function">∃</a> <a id="6118" class="Symbol">λ</a> <a id="6120" href="Data.Graph.Acyclic.html#6120" class="Bound">i</a> <a id="6122" class="Symbol">→</a> <a id="6124" href="Data.Graph.Acyclic.html#5605" class="Bound">E</a> <a id="6126" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="6128" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="6132" class="Symbol">(</a><a id="6133" href="Data.Graph.Acyclic.html#6088" class="Bound">n</a> <a id="6135" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="6137" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="6141" href="Data.Graph.Acyclic.html#6120" class="Bound">i</a><a id="6142" class="Symbol">)))</a>
          <a id="6156" class="Symbol">(λ</a> <a id="6159" href="Data.Graph.Acyclic.html#6159" class="Bound">i</a> <a id="6161" href="Data.Graph.Acyclic.html#6161" class="Bound">es</a> <a id="6164" href="Data.Graph.Acyclic.html#6164" class="Bound">c</a> <a id="6166" class="Symbol">→</a> <a id="6168" href="Data.Graph.Acyclic.html#6161" class="Bound">es</a> <a id="6171" href="Data.List.Base.html#1495" class="Function Operator">List.++</a> <a id="6179" href="Data.List.Base.html#1161" class="Function">List.map</a> <a id="6188" class="Symbol">(</a><a id="6189" href="Data.Graph.Acyclic.html#6159" class="Bound">i</a> <a id="6191" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a><a id="6193" class="Symbol">)</a> <a id="6195" class="Symbol">(</a><a id="6196" href="Data.Graph.Acyclic.html#1605" class="Field">successors</a> <a id="6207" href="Data.Graph.Acyclic.html#6164" class="Bound">c</a><a id="6208" class="Symbol">))</a>
          <a id="6221" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>

<a id="6225" class="Keyword">private</a>

  <a id="test-edges"></a><a id="6236" href="Data.Graph.Acyclic.html#6236" class="Function">test-edges</a> <a id="6247" class="Symbol">:</a> <a id="6249" href="Data.Graph.Acyclic.html#6014" class="Function">edges</a> <a id="6255" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="6263" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6265" class="Symbol">(</a><a id="6266" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6268" class="Number">1</a> <a id="6270" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6272" class="Number">10</a> <a id="6275" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6277" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6279" class="Number">1</a><a id="6280" class="Symbol">)</a> <a id="6282" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="6284" class="Symbol">(</a><a id="6285" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6287" class="Number">1</a> <a id="6289" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6291" class="Number">11</a> <a id="6294" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6296" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6298" class="Number">1</a><a id="6299" class="Symbol">)</a> <a id="6301" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a>
                               <a id="6334" class="Symbol">(</a><a id="6335" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6337" class="Number">2</a> <a id="6339" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6341" class="Number">12</a> <a id="6344" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6346" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6348" class="Number">0</a><a id="6349" class="Symbol">)</a> <a id="6351" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="6353" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>
  <a id="6358" href="Data.Graph.Acyclic.html#6236" class="Function">test-edges</a> <a id="6369" class="Symbol">=</a> <a id="6371" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a>

<a id="6379" class="Comment">-- The successors of a given node i (edge label × node number relative</a>
<a id="6450" class="Comment">-- to i).</a>

<a id="sucs"></a><a id="6461" href="Data.Graph.Acyclic.html#6461" class="Function">sucs</a> <a id="6466" class="Symbol">:</a> <a id="6468" class="Symbol">∀</a> <a id="6470" class="Symbol">{</a><a id="6471" href="Data.Graph.Acyclic.html#6471" class="Bound">ℓ</a> <a id="6473" href="Data.Graph.Acyclic.html#6473" class="Bound">e</a><a id="6474" class="Symbol">}</a> <a id="6476" class="Symbol">{</a><a id="6477" href="Data.Graph.Acyclic.html#6477" class="Bound">N</a> <a id="6479" class="Symbol">:</a> <a id="6481" class="PrimitiveType">Set</a> <a id="6485" href="Data.Graph.Acyclic.html#6471" class="Bound">ℓ</a><a id="6486" class="Symbol">}</a> <a id="6488" class="Symbol">{</a><a id="6489" href="Data.Graph.Acyclic.html#6489" class="Bound">E</a> <a id="6491" class="Symbol">:</a> <a id="6493" class="PrimitiveType">Set</a> <a id="6497" href="Data.Graph.Acyclic.html#6473" class="Bound">e</a><a id="6498" class="Symbol">}</a> <a id="6500" class="Symbol">→</a>
       <a id="6509" class="Symbol">∀</a> <a id="6511" class="Symbol">{</a><a id="6512" href="Data.Graph.Acyclic.html#6512" class="Bound">n</a><a id="6513" class="Symbol">}</a> <a id="6515" class="Symbol">→</a> <a id="6517" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="6523" href="Data.Graph.Acyclic.html#6477" class="Bound">N</a> <a id="6525" href="Data.Graph.Acyclic.html#6489" class="Bound">E</a> <a id="6527" href="Data.Graph.Acyclic.html#6512" class="Bound">n</a> <a id="6529" class="Symbol">→</a> <a id="6531" class="Symbol">(</a><a id="6532" href="Data.Graph.Acyclic.html#6532" class="Bound">i</a> <a id="6534" class="Symbol">:</a> <a id="6536" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="6540" href="Data.Graph.Acyclic.html#6512" class="Bound">n</a><a id="6541" class="Symbol">)</a> <a id="6543" class="Symbol">→</a> <a id="6545" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="6550" class="Symbol">(</a><a id="6551" href="Data.Graph.Acyclic.html#6489" class="Bound">E</a> <a id="6553" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="6555" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="6559" class="Symbol">(</a><a id="6560" href="Data.Graph.Acyclic.html#6512" class="Bound">n</a> <a id="6562" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="6564" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="6568" href="Data.Graph.Acyclic.html#6532" class="Bound">i</a><a id="6569" class="Symbol">))</a>
<a id="6572" href="Data.Graph.Acyclic.html#6461" class="Function">sucs</a> <a id="6577" href="Data.Graph.Acyclic.html#6577" class="Bound">g</a> <a id="6579" href="Data.Graph.Acyclic.html#6579" class="Bound">i</a> <a id="6581" class="Symbol">=</a> <a id="6583" href="Data.Graph.Acyclic.html#1605" class="Field">successors</a> <a id="6594" href="Function.html#1920" class="Function Operator">$</a> <a id="6596" href="Data.Graph.Acyclic.html#4808" class="Function">head</a> <a id="6601" class="Symbol">(</a><a id="6602" href="Data.Graph.Acyclic.html#6577" class="Bound">g</a> <a id="6604" href="Data.Graph.Acyclic.html#5055" class="Function Operator">[</a> <a id="6606" href="Data.Graph.Acyclic.html#6579" class="Bound">i</a> <a id="6608" href="Data.Graph.Acyclic.html#5055" class="Function Operator">]</a><a id="6609" class="Symbol">)</a>

<a id="6612" class="Keyword">private</a>

  <a id="test-sucs"></a><a id="6623" href="Data.Graph.Acyclic.html#6623" class="Function">test-sucs</a> <a id="6633" class="Symbol">:</a> <a id="6635" href="Data.Graph.Acyclic.html#6461" class="Function">sucs</a> <a id="6640" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="6648" class="Symbol">(</a><a id="6649" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6651" class="Number">1</a><a id="6652" class="Symbol">)</a> <a id="6654" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6656" class="Symbol">(</a><a id="6657" class="Number">10</a> <a id="6660" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6662" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6664" class="Number">1</a><a id="6665" class="Symbol">)</a> <a id="6667" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="6669" class="Symbol">(</a><a id="6670" class="Number">11</a> <a id="6673" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6675" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="6677" class="Number">1</a><a id="6678" class="Symbol">)</a> <a id="6680" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="6682" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>
  <a id="6687" href="Data.Graph.Acyclic.html#6623" class="Function">test-sucs</a> <a id="6697" class="Symbol">=</a> <a id="6699" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a>

<a id="6707" class="Comment">-- The predecessors of a given node i (node number relative to i ×</a>
<a id="6774" class="Comment">-- edge label).</a>

<a id="preds"></a><a id="6791" href="Data.Graph.Acyclic.html#6791" class="Function">preds</a> <a id="6797" class="Symbol">:</a> <a id="6799" class="Symbol">∀</a> <a id="6801" class="Symbol">{</a><a id="6802" href="Data.Graph.Acyclic.html#6802" class="Bound">ℓ</a> <a id="6804" href="Data.Graph.Acyclic.html#6804" class="Bound">e</a><a id="6805" class="Symbol">}</a> <a id="6807" class="Symbol">{</a><a id="6808" href="Data.Graph.Acyclic.html#6808" class="Bound">N</a> <a id="6810" class="Symbol">:</a> <a id="6812" class="PrimitiveType">Set</a> <a id="6816" href="Data.Graph.Acyclic.html#6802" class="Bound">ℓ</a><a id="6817" class="Symbol">}</a> <a id="6819" class="Symbol">{</a><a id="6820" href="Data.Graph.Acyclic.html#6820" class="Bound">E</a> <a id="6822" class="Symbol">:</a> <a id="6824" class="PrimitiveType">Set</a> <a id="6828" href="Data.Graph.Acyclic.html#6804" class="Bound">e</a><a id="6829" class="Symbol">}</a> <a id="6831" class="Symbol">→</a>
        <a id="6841" class="Symbol">∀</a> <a id="6843" class="Symbol">{</a><a id="6844" href="Data.Graph.Acyclic.html#6844" class="Bound">n</a><a id="6845" class="Symbol">}</a> <a id="6847" class="Symbol">→</a> <a id="6849" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="6855" href="Data.Graph.Acyclic.html#6808" class="Bound">N</a> <a id="6857" href="Data.Graph.Acyclic.html#6820" class="Bound">E</a> <a id="6859" href="Data.Graph.Acyclic.html#6844" class="Bound">n</a> <a id="6861" class="Symbol">→</a> <a id="6863" class="Symbol">(</a><a id="6864" href="Data.Graph.Acyclic.html#6864" class="Bound">i</a> <a id="6866" class="Symbol">:</a> <a id="6868" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="6872" href="Data.Graph.Acyclic.html#6844" class="Bound">n</a><a id="6873" class="Symbol">)</a> <a id="6875" class="Symbol">→</a> <a id="6877" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="6882" class="Symbol">(</a><a id="6883" href="Data.Fin.Base.html#1171" class="Function">Fin′</a> <a id="6888" href="Data.Graph.Acyclic.html#6864" class="Bound">i</a> <a id="6890" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="6892" href="Data.Graph.Acyclic.html#6820" class="Bound">E</a><a id="6893" class="Symbol">)</a>
<a id="6895" href="Data.Graph.Acyclic.html#6791" class="Function">preds</a> <a id="6901" href="Data.Graph.Acyclic.html#6901" class="Bound">g</a>       <a id="6909" href="Data.Fin.Base.html#966" class="InductiveConstructor">zero</a>    <a id="6917" class="Symbol">=</a> <a id="6919" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>
<a id="6922" href="Data.Graph.Acyclic.html#6791" class="Function">preds</a> <a id="6928" class="Symbol">(</a><a id="6929" href="Data.Graph.Acyclic.html#6929" class="Bound">c</a> <a id="6931" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="6933" href="Data.Graph.Acyclic.html#6933" class="Bound">g</a><a id="6934" class="Symbol">)</a> <a id="6936" class="Symbol">(</a><a id="6937" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="6941" href="Data.Graph.Acyclic.html#6941" class="Bound">i</a><a id="6942" class="Symbol">)</a> <a id="6944" class="Symbol">=</a>
  <a id="6948" href="Data.List.Base.html#1495" class="Function Operator">List._++_</a> <a id="6958" class="Symbol">(</a><a id="6959" href="Data.List.Base.html#1280" class="Function">List.mapMaybe</a> <a id="6973" class="Symbol">(</a><a id="6974" href="Data.Graph.Acyclic.html#7058" class="Function">p</a> <a id="6976" href="Data.Graph.Acyclic.html#6941" class="Bound">i</a><a id="6977" class="Symbol">)</a> <a id="6979" href="Function.html#1920" class="Function Operator">$</a> <a id="6981" href="Data.Graph.Acyclic.html#1605" class="Field">successors</a> <a id="6992" href="Data.Graph.Acyclic.html#6929" class="Bound">c</a><a id="6993" class="Symbol">)</a>
            <a id="7007" class="Symbol">(</a><a id="7008" href="Data.List.Base.html#1161" class="Function">List.map</a> <a id="7017" class="Symbol">(</a><a id="7018" href="Data.Product.html#2183" class="Function">Prod.map</a> <a id="7027" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="7031" href="Function.html#1097" class="Function">id</a><a id="7033" class="Symbol">)</a> <a id="7035" href="Function.html#1920" class="Function Operator">$</a> <a id="7037" href="Data.Graph.Acyclic.html#6791" class="Function">preds</a> <a id="7043" href="Data.Graph.Acyclic.html#6933" class="Bound">g</a> <a id="7045" href="Data.Graph.Acyclic.html#6941" class="Bound">i</a><a id="7046" class="Symbol">)</a>
  <a id="7050" class="Keyword">where</a>
  <a id="7058" href="Data.Graph.Acyclic.html#7058" class="Function">p</a> <a id="7060" class="Symbol">:</a> <a id="7062" class="Symbol">∀</a> <a id="7064" class="Symbol">{</a><a id="7065" href="Data.Graph.Acyclic.html#7065" class="Bound">e</a><a id="7066" class="Symbol">}</a> <a id="7068" class="Symbol">{</a><a id="7069" href="Data.Graph.Acyclic.html#7069" class="Bound">E</a> <a id="7071" class="Symbol">:</a> <a id="7073" class="PrimitiveType">Set</a> <a id="7077" href="Data.Graph.Acyclic.html#7065" class="Bound">e</a><a id="7078" class="Symbol">}</a> <a id="7080" class="Symbol">{</a><a id="7081" href="Data.Graph.Acyclic.html#7081" class="Bound">n</a><a id="7082" class="Symbol">}</a> <a id="7084" class="Symbol">(</a><a id="7085" href="Data.Graph.Acyclic.html#7085" class="Bound">i</a> <a id="7087" class="Symbol">:</a> <a id="7089" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="7093" href="Data.Graph.Acyclic.html#7081" class="Bound">n</a><a id="7094" class="Symbol">)</a> <a id="7096" class="Symbol">→</a> <a id="7098" href="Data.Graph.Acyclic.html#7069" class="Bound">E</a> <a id="7100" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="7102" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="7106" href="Data.Graph.Acyclic.html#7081" class="Bound">n</a> <a id="7108" class="Symbol">→</a> <a id="7110" href="Data.Maybe.Base.html#703" class="Datatype">Maybe</a> <a id="7116" class="Symbol">(</a><a id="7117" href="Data.Fin.Base.html#1171" class="Function">Fin′</a> <a id="7122" class="Symbol">(</a><a id="7123" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="7127" href="Data.Graph.Acyclic.html#7085" class="Bound">i</a><a id="7128" class="Symbol">)</a> <a id="7130" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="7132" href="Data.Graph.Acyclic.html#7069" class="Bound">E</a><a id="7133" class="Symbol">)</a>
  <a id="7137" href="Data.Graph.Acyclic.html#7058" class="Function">p</a> <a id="7139" href="Data.Graph.Acyclic.html#7139" class="Bound">i</a> <a id="7141" class="Symbol">(</a><a id="7142" href="Data.Graph.Acyclic.html#7142" class="Bound">e</a> <a id="7144" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7146" href="Data.Graph.Acyclic.html#7146" class="Bound">j</a><a id="7147" class="Symbol">)</a>  <a id="7150" class="Keyword">with</a> <a id="7155" href="Data.Graph.Acyclic.html#7139" class="Bound">i</a> <a id="7157" href="Data.Fin.Properties.html#1723" class="Function Operator">≟</a> <a id="7159" href="Data.Graph.Acyclic.html#7146" class="Bound">j</a>
  <a id="7163" href="Data.Graph.Acyclic.html#7058" class="Function">p</a> <a id="7165" href="Data.Graph.Acyclic.html#7165" class="Bound">i</a> <a id="7167" class="Symbol">(</a><a id="7168" href="Data.Graph.Acyclic.html#7168" class="Bound">e</a> <a id="7170" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7172" class="DottedPattern Symbol">.</a><a id="7173" href="Data.Graph.Acyclic.html#7165" class="DottedPattern Bound">i</a><a id="7174" class="Symbol">)</a> <a id="7176" class="Symbol">|</a> <a id="7178" href="Relation.Nullary.html#599" class="InductiveConstructor">yes</a> <a id="7182" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="7189" class="Symbol">=</a> <a id="7191" href="Data.Maybe.Base.html#741" class="InductiveConstructor">just</a> <a id="7196" class="Symbol">(</a><a id="7197" href="Data.Fin.Base.html#966" class="InductiveConstructor">zero</a> <a id="7202" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7204" href="Data.Graph.Acyclic.html#7168" class="Bound">e</a><a id="7205" class="Symbol">)</a>
  <a id="7209" href="Data.Graph.Acyclic.html#7058" class="Function">p</a> <a id="7211" href="Data.Graph.Acyclic.html#7211" class="Bound">i</a> <a id="7213" class="Symbol">(</a><a id="7214" href="Data.Graph.Acyclic.html#7214" class="Bound">e</a> <a id="7216" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7218" href="Data.Graph.Acyclic.html#7218" class="Bound">j</a><a id="7219" class="Symbol">)</a>  <a id="7222" class="Symbol">|</a> <a id="7224" href="Relation.Nullary.html#626" class="InductiveConstructor">no</a> <a id="7227" class="Symbol">_</a>       <a id="7235" class="Symbol">=</a> <a id="7237" href="Data.Maybe.Base.html#771" class="InductiveConstructor">nothing</a>

<a id="7246" class="Keyword">private</a>

  <a id="test-preds"></a><a id="7257" href="Data.Graph.Acyclic.html#7257" class="Function">test-preds</a> <a id="7268" class="Symbol">:</a> <a id="7270" href="Data.Graph.Acyclic.html#6791" class="Function">preds</a> <a id="7276" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="7284" class="Symbol">(</a><a id="7285" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="7287" class="Number">3</a><a id="7288" class="Symbol">)</a> <a id="7290" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a>
               <a id="7307" class="Symbol">(</a><a id="7308" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="7310" class="Number">1</a> <a id="7312" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7314" class="Number">10</a><a id="7316" class="Symbol">)</a> <a id="7318" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="7320" class="Symbol">(</a><a id="7321" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="7323" class="Number">1</a> <a id="7325" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7327" class="Number">11</a><a id="7329" class="Symbol">)</a> <a id="7331" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="7333" class="Symbol">(</a><a id="7334" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="7336" class="Number">2</a> <a id="7338" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7340" class="Number">12</a><a id="7342" class="Symbol">)</a> <a id="7344" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="7346" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>
  <a id="7351" href="Data.Graph.Acyclic.html#7257" class="Function">test-preds</a> <a id="7362" class="Symbol">=</a> <a id="7364" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a>

<a id="7372" class="Comment">------------------------------------------------------------------------</a>
<a id="7445" class="Comment">-- Operations</a>

<a id="7460" class="Comment">-- Weakens a node label.</a>

<a id="weaken"></a><a id="7486" href="Data.Graph.Acyclic.html#7486" class="Function">weaken</a> <a id="7493" class="Symbol">:</a> <a id="7495" class="Symbol">∀</a> <a id="7497" class="Symbol">{</a><a id="7498" href="Data.Graph.Acyclic.html#7498" class="Bound">n</a><a id="7499" class="Symbol">}</a> <a id="7501" class="Symbol">{</a><a id="7502" href="Data.Graph.Acyclic.html#7502" class="Bound">i</a> <a id="7504" class="Symbol">:</a> <a id="7506" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="7510" href="Data.Graph.Acyclic.html#7498" class="Bound">n</a><a id="7511" class="Symbol">}</a> <a id="7513" class="Symbol">→</a> <a id="7515" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="7519" class="Symbol">(</a><a id="7520" href="Data.Graph.Acyclic.html#7498" class="Bound">n</a> <a id="7522" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="7524" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="7528" href="Data.Graph.Acyclic.html#7502" class="Bound">i</a><a id="7529" class="Symbol">)</a> <a id="7531" class="Symbol">→</a> <a id="7533" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="7537" href="Data.Graph.Acyclic.html#7498" class="Bound">n</a>
<a id="7539" href="Data.Graph.Acyclic.html#7486" class="Function">weaken</a> <a id="7546" class="Symbol">{</a><a id="7547" href="Data.Graph.Acyclic.html#7547" class="Bound">n</a><a id="7548" class="Symbol">}</a> <a id="7550" class="Symbol">{</a><a id="7551" href="Data.Graph.Acyclic.html#7551" class="Bound">i</a><a id="7552" class="Symbol">}</a> <a id="7554" href="Data.Graph.Acyclic.html#7554" class="Bound">j</a> <a id="7556" class="Symbol">=</a> <a id="7558" href="Data.Fin.Base.html#3212" class="Function">Fin.inject≤</a> <a id="7570" href="Data.Graph.Acyclic.html#7554" class="Bound">j</a> <a id="7572" class="Symbol">(</a><a id="7573" href="Data.Fin.Properties.html#11869" class="Function">FP.nℕ-ℕi≤n</a> <a id="7584" href="Data.Graph.Acyclic.html#7547" class="Bound">n</a> <a id="7586" class="Symbol">(</a><a id="7587" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="7591" href="Data.Graph.Acyclic.html#7551" class="Bound">i</a><a id="7592" class="Symbol">))</a>

<a id="7596" class="Comment">-- Labels each node with its node number.</a>

<a id="number"></a><a id="7639" href="Data.Graph.Acyclic.html#7639" class="Function">number</a> <a id="7646" class="Symbol">:</a> <a id="7648" class="Symbol">∀</a> <a id="7650" class="Symbol">{</a><a id="7651" href="Data.Graph.Acyclic.html#7651" class="Bound">ℓ</a> <a id="7653" href="Data.Graph.Acyclic.html#7653" class="Bound">e</a><a id="7654" class="Symbol">}</a> <a id="7656" class="Symbol">{</a><a id="7657" href="Data.Graph.Acyclic.html#7657" class="Bound">N</a> <a id="7659" class="Symbol">:</a> <a id="7661" class="PrimitiveType">Set</a> <a id="7665" href="Data.Graph.Acyclic.html#7651" class="Bound">ℓ</a><a id="7666" class="Symbol">}</a> <a id="7668" class="Symbol">{</a><a id="7669" href="Data.Graph.Acyclic.html#7669" class="Bound">E</a> <a id="7671" class="Symbol">:</a> <a id="7673" class="PrimitiveType">Set</a> <a id="7677" href="Data.Graph.Acyclic.html#7653" class="Bound">e</a><a id="7678" class="Symbol">}</a> <a id="7680" class="Symbol">→</a>
         <a id="7691" class="Symbol">∀</a> <a id="7693" class="Symbol">{</a><a id="7694" href="Data.Graph.Acyclic.html#7694" class="Bound">n</a><a id="7695" class="Symbol">}</a> <a id="7697" class="Symbol">→</a> <a id="7699" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="7705" href="Data.Graph.Acyclic.html#7657" class="Bound">N</a> <a id="7707" href="Data.Graph.Acyclic.html#7669" class="Bound">E</a> <a id="7709" href="Data.Graph.Acyclic.html#7694" class="Bound">n</a> <a id="7711" class="Symbol">→</a> <a id="7713" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="7719" class="Symbol">(</a><a id="7720" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="7724" href="Data.Graph.Acyclic.html#7694" class="Bound">n</a> <a id="7726" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="7728" href="Data.Graph.Acyclic.html#7657" class="Bound">N</a><a id="7729" class="Symbol">)</a> <a id="7731" href="Data.Graph.Acyclic.html#7669" class="Bound">E</a> <a id="7733" href="Data.Graph.Acyclic.html#7694" class="Bound">n</a>
<a id="7735" href="Data.Graph.Acyclic.html#7639" class="Function">number</a> <a id="7742" class="Symbol">{</a><a id="7743" class="Argument">N</a> <a id="7745" class="Symbol">=</a> <a id="7747" href="Data.Graph.Acyclic.html#7747" class="Bound">N</a><a id="7748" class="Symbol">}</a> <a id="7750" class="Symbol">{</a><a id="7751" href="Data.Graph.Acyclic.html#7751" class="Bound">E</a><a id="7752" class="Symbol">}</a> <a id="7754" class="Symbol">=</a>
  <a id="7758" href="Data.Graph.Acyclic.html#2689" class="Function">foldr</a> <a id="7764" class="Symbol">(λ</a> <a id="7767" href="Data.Graph.Acyclic.html#7767" class="Bound">n</a> <a id="7769" class="Symbol">→</a> <a id="7771" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="7777" class="Symbol">(</a><a id="7778" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="7782" href="Data.Graph.Acyclic.html#7767" class="Bound">n</a> <a id="7784" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="7786" href="Data.Graph.Acyclic.html#7747" class="Bound">N</a><a id="7787" class="Symbol">)</a> <a id="7789" href="Data.Graph.Acyclic.html#7751" class="Bound">E</a> <a id="7791" href="Data.Graph.Acyclic.html#7767" class="Bound">n</a><a id="7792" class="Symbol">)</a>
        <a id="7802" class="Symbol">(λ</a> <a id="7805" href="Data.Graph.Acyclic.html#7805" class="Bound">c</a> <a id="7807" href="Data.Graph.Acyclic.html#7807" class="Bound">g</a> <a id="7809" class="Symbol">→</a> <a id="7811" href="Data.Graph.Acyclic.html#1781" class="Function">cmap</a> <a id="7816" class="Symbol">(</a><a id="7817" href="Data.Fin.Base.html#966" class="InductiveConstructor">zero</a> <a id="7822" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,_</a><a id="7824" class="Symbol">)</a> <a id="7826" href="Function.html#1097" class="Function">id</a> <a id="7829" href="Data.Graph.Acyclic.html#7805" class="Bound">c</a> <a id="7831" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="7833" href="Data.Graph.Acyclic.html#3466" class="Function">nmap</a> <a id="7838" class="Symbol">(</a><a id="7839" href="Data.Product.html#2183" class="Function">Prod.map</a> <a id="7848" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="7852" href="Function.html#1097" class="Function">id</a><a id="7854" class="Symbol">)</a> <a id="7856" href="Data.Graph.Acyclic.html#7807" class="Bound">g</a><a id="7857" class="Symbol">)</a>
        <a id="7867" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a>

<a id="7870" class="Keyword">private</a>

  <a id="test-number"></a><a id="7881" href="Data.Graph.Acyclic.html#7881" class="Function">test-number</a> <a id="7893" class="Symbol">:</a> <a id="7895" href="Data.Graph.Acyclic.html#7639" class="Function">number</a> <a id="7902" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="7910" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a>
                <a id="7928" class="Symbol">(</a><a id="7929" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="7937" class="Symbol">(</a><a id="7938" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="7940" class="Number">0</a> <a id="7942" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7944" class="Number">0</a><a id="7945" class="Symbol">)</a> <a id="7947" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="7950" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
                 <a id="7969" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="7977" class="Symbol">(</a><a id="7978" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="7980" class="Number">1</a> <a id="7982" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7984" class="Number">1</a><a id="7985" class="Symbol">)</a> <a id="7987" class="Symbol">((</a><a id="7989" class="Number">10</a> <a id="7992" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7994" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="7996" class="Number">1</a><a id="7997" class="Symbol">)</a> <a id="7999" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="8001" class="Symbol">(</a><a id="8002" class="Number">11</a> <a id="8005" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8007" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="8009" class="Number">1</a><a id="8010" class="Symbol">)</a> <a id="8012" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="8014" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="8016" class="Symbol">)</a> <a id="8018" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
                 <a id="8037" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="8045" class="Symbol">(</a><a id="8046" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="8048" class="Number">2</a> <a id="8050" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8052" class="Number">2</a><a id="8053" class="Symbol">)</a> <a id="8055" class="Symbol">((</a><a id="8057" class="Number">12</a> <a id="8060" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8062" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="8064" class="Number">0</a><a id="8065" class="Symbol">)</a> <a id="8067" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="8069" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="8071" class="Symbol">)</a> <a id="8073" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
                 <a id="8092" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="8100" class="Symbol">(</a><a id="8101" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="8103" class="Number">3</a> <a id="8105" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8107" class="Number">3</a><a id="8108" class="Symbol">)</a> <a id="8110" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="8113" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
                 <a id="8132" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="8140" class="Symbol">(</a><a id="8141" href="Data.Fin.Base.html#2185" class="Function Operator">#</a> <a id="8143" class="Number">4</a> <a id="8145" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8147" class="Number">4</a><a id="8148" class="Symbol">)</a> <a id="8150" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="8153" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a>
                 <a id="8172" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a><a id="8173" class="Symbol">)</a>
  <a id="8177" href="Data.Graph.Acyclic.html#7881" class="Function">test-number</a> <a id="8189" class="Symbol">=</a> <a id="8191" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a>

<a id="8199" class="Comment">-- Reverses all the edges in the graph.</a>

<a id="reverse"></a><a id="8240" href="Data.Graph.Acyclic.html#8240" class="Function">reverse</a> <a id="8248" class="Symbol">:</a> <a id="8250" class="Symbol">∀</a> <a id="8252" class="Symbol">{</a><a id="8253" href="Data.Graph.Acyclic.html#8253" class="Bound">ℓ</a> <a id="8255" href="Data.Graph.Acyclic.html#8255" class="Bound">e</a><a id="8256" class="Symbol">}</a> <a id="8258" class="Symbol">{</a><a id="8259" href="Data.Graph.Acyclic.html#8259" class="Bound">N</a> <a id="8261" class="Symbol">:</a> <a id="8263" class="PrimitiveType">Set</a> <a id="8267" href="Data.Graph.Acyclic.html#8253" class="Bound">ℓ</a><a id="8268" class="Symbol">}</a> <a id="8270" class="Symbol">{</a><a id="8271" href="Data.Graph.Acyclic.html#8271" class="Bound">E</a> <a id="8273" class="Symbol">:</a> <a id="8275" class="PrimitiveType">Set</a> <a id="8279" href="Data.Graph.Acyclic.html#8255" class="Bound">e</a><a id="8280" class="Symbol">}</a> <a id="8282" class="Symbol">→</a>
          <a id="8294" class="Symbol">∀</a> <a id="8296" class="Symbol">{</a><a id="8297" href="Data.Graph.Acyclic.html#8297" class="Bound">n</a><a id="8298" class="Symbol">}</a> <a id="8300" class="Symbol">→</a> <a id="8302" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="8308" href="Data.Graph.Acyclic.html#8259" class="Bound">N</a> <a id="8310" href="Data.Graph.Acyclic.html#8271" class="Bound">E</a> <a id="8312" href="Data.Graph.Acyclic.html#8297" class="Bound">n</a> <a id="8314" class="Symbol">→</a> <a id="8316" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="8322" href="Data.Graph.Acyclic.html#8259" class="Bound">N</a> <a id="8324" href="Data.Graph.Acyclic.html#8271" class="Bound">E</a> <a id="8326" href="Data.Graph.Acyclic.html#8297" class="Bound">n</a>
<a id="8328" href="Data.Graph.Acyclic.html#8240" class="Function">reverse</a> <a id="8336" class="Symbol">{</a><a id="8337" class="Argument">N</a> <a id="8339" class="Symbol">=</a> <a id="8341" href="Data.Graph.Acyclic.html#8341" class="Bound">N</a><a id="8342" class="Symbol">}</a> <a id="8344" class="Symbol">{</a><a id="8345" href="Data.Graph.Acyclic.html#8345" class="Bound">E</a><a id="8346" class="Symbol">}</a> <a id="8348" href="Data.Graph.Acyclic.html#8348" class="Bound">g</a> <a id="8350" class="Symbol">=</a>
  <a id="8354" href="Data.Graph.Acyclic.html#2915" class="Function">foldl</a> <a id="8360" class="Symbol">(</a><a id="8361" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="8367" href="Data.Graph.Acyclic.html#8341" class="Bound">N</a> <a id="8369" href="Data.Graph.Acyclic.html#8345" class="Bound">E</a><a id="8370" class="Symbol">)</a>
        <a id="8380" class="Symbol">(λ</a> <a id="8383" href="Data.Graph.Acyclic.html#8383" class="Bound">i</a> <a id="8385" href="Data.Graph.Acyclic.html#8385" class="Bound">g&#39;</a> <a id="8388" href="Data.Graph.Acyclic.html#8388" class="Bound">c</a> <a id="8390" class="Symbol">→</a>
           <a id="8403" href="Data.Graph.Acyclic.html#1563" class="InductiveConstructor">context</a> <a id="8411" class="Symbol">(</a><a id="8412" href="Data.Graph.Acyclic.html#1583" class="Field">label</a> <a id="8418" href="Data.Graph.Acyclic.html#8388" class="Bound">c</a><a id="8419" class="Symbol">)</a>
                   <a id="8440" class="Symbol">(</a><a id="8441" href="Data.List.Base.html#1161" class="Function">List.map</a> <a id="8450" class="Symbol">(</a><a id="8451" href="Data.Product.html#2863" class="Function">Prod.swap</a> <a id="8461" href="Function.html#798" class="Function Operator">∘</a> <a id="8463" href="Data.Product.html#2183" class="Function">Prod.map</a> <a id="8472" href="Data.Fin.Permutation.Components.html#1079" class="Function">PC.reverse</a> <a id="8483" href="Function.html#1097" class="Function">id</a><a id="8485" class="Symbol">)</a> <a id="8487" href="Function.html#1920" class="Function Operator">$</a>
                             <a id="8518" href="Data.Graph.Acyclic.html#6791" class="Function">preds</a> <a id="8524" href="Data.Graph.Acyclic.html#8348" class="Bound">g</a> <a id="8526" href="Data.Graph.Acyclic.html#8383" class="Bound">i</a><a id="8527" class="Symbol">)</a>
           <a id="8540" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="8542" href="Data.Graph.Acyclic.html#8385" class="Bound">g&#39;</a><a id="8544" class="Symbol">)</a>
        <a id="8554" href="Data.Graph.Acyclic.html#2170" class="InductiveConstructor">∅</a> <a id="8556" href="Data.Graph.Acyclic.html#8348" class="Bound">g</a>

<a id="8559" class="Keyword">private</a>

  <a id="test-reverse"></a><a id="8570" href="Data.Graph.Acyclic.html#8570" class="Function">test-reverse</a> <a id="8583" class="Symbol">:</a> <a id="8585" href="Data.Graph.Acyclic.html#8240" class="Function">reverse</a> <a id="8593" class="Symbol">(</a><a id="8594" href="Data.Graph.Acyclic.html#8240" class="Function">reverse</a> <a id="8602" href="Data.Graph.Acyclic.html#2304" class="Function">example</a><a id="8609" class="Symbol">)</a> <a id="8611" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="8613" href="Data.Graph.Acyclic.html#2304" class="Function">example</a>
  <a id="8623" href="Data.Graph.Acyclic.html#8570" class="Function">test-reverse</a> <a id="8636" class="Symbol">=</a> <a id="8638" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a>

<a id="8646" class="Comment">------------------------------------------------------------------------</a>
<a id="8719" class="Comment">-- Views</a>

<a id="8729" class="Comment">-- Expands the subgraph induced by a given node into a tree (thus</a>
<a id="8795" class="Comment">-- losing all sharing).</a>

<a id="8820" class="Keyword">data</a> <a id="Tree"></a><a id="8825" href="Data.Graph.Acyclic.html#8825" class="Datatype">Tree</a> <a id="8830" class="Symbol">{</a><a id="8831" href="Data.Graph.Acyclic.html#8831" class="Bound">ℓ</a> <a id="8833" href="Data.Graph.Acyclic.html#8833" class="Bound">e</a><a id="8834" class="Symbol">}</a> <a id="8836" class="Symbol">(</a><a id="8837" href="Data.Graph.Acyclic.html#8837" class="Bound">N</a> <a id="8839" class="Symbol">:</a> <a id="8841" class="PrimitiveType">Set</a> <a id="8845" href="Data.Graph.Acyclic.html#8831" class="Bound">ℓ</a><a id="8846" class="Symbol">)</a> <a id="8848" class="Symbol">(</a><a id="8849" href="Data.Graph.Acyclic.html#8849" class="Bound">E</a> <a id="8851" class="Symbol">:</a> <a id="8853" class="PrimitiveType">Set</a> <a id="8857" href="Data.Graph.Acyclic.html#8833" class="Bound">e</a><a id="8858" class="Symbol">)</a> <a id="8860" class="Symbol">:</a> <a id="8862" class="PrimitiveType">Set</a> <a id="8866" class="Symbol">(</a><a id="8867" href="Data.Graph.Acyclic.html#8831" class="Bound">ℓ</a> <a id="8869" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="8871" href="Data.Graph.Acyclic.html#8833" class="Bound">e</a><a id="8872" class="Symbol">)</a> <a id="8874" class="Keyword">where</a>
  <a id="Tree.node"></a><a id="8882" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="8887" class="Symbol">:</a> <a id="8889" class="Symbol">(</a><a id="8890" href="Data.Graph.Acyclic.html#8890" class="Bound">label</a> <a id="8896" class="Symbol">:</a> <a id="8898" href="Data.Graph.Acyclic.html#8837" class="Bound">N</a><a id="8899" class="Symbol">)</a> <a id="8901" class="Symbol">(</a><a id="8902" href="Data.Graph.Acyclic.html#8902" class="Bound">successors</a> <a id="8913" class="Symbol">:</a> <a id="8915" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="8920" class="Symbol">(</a><a id="8921" href="Data.Graph.Acyclic.html#8849" class="Bound">E</a> <a id="8923" href="Data.Product.html#1382" class="Function Operator">×</a> <a id="8925" href="Data.Graph.Acyclic.html#8825" class="Datatype">Tree</a> <a id="8930" href="Data.Graph.Acyclic.html#8837" class="Bound">N</a> <a id="8932" href="Data.Graph.Acyclic.html#8849" class="Bound">E</a><a id="8933" class="Symbol">))</a> <a id="8936" class="Symbol">→</a> <a id="8938" href="Data.Graph.Acyclic.html#8825" class="Datatype">Tree</a> <a id="8943" href="Data.Graph.Acyclic.html#8837" class="Bound">N</a> <a id="8945" href="Data.Graph.Acyclic.html#8849" class="Bound">E</a>

<a id="8948" class="Keyword">module</a> <a id="8955" href="Data.Graph.Acyclic.html#8955" class="Module">_</a> <a id="8957" class="Symbol">{</a><a id="8958" href="Data.Graph.Acyclic.html#8958" class="Bound">ℓ</a> <a id="8960" href="Data.Graph.Acyclic.html#8960" class="Bound">e</a><a id="8961" class="Symbol">}</a> <a id="8963" class="Symbol">{</a><a id="8964" href="Data.Graph.Acyclic.html#8964" class="Bound">N</a> <a id="8966" class="Symbol">:</a> <a id="8968" class="PrimitiveType">Set</a> <a id="8972" href="Data.Graph.Acyclic.html#8958" class="Bound">ℓ</a><a id="8973" class="Symbol">}</a> <a id="8975" class="Symbol">{</a><a id="8976" href="Data.Graph.Acyclic.html#8976" class="Bound">E</a> <a id="8978" class="Symbol">:</a> <a id="8980" class="PrimitiveType">Set</a> <a id="8984" href="Data.Graph.Acyclic.html#8960" class="Bound">e</a><a id="8985" class="Symbol">}</a> <a id="8987" class="Keyword">where</a>

  <a id="8996" href="Data.Graph.Acyclic.html#8996" class="Function">toTree</a> <a id="9003" class="Symbol">:</a> <a id="9005" class="Symbol">∀</a> <a id="9007" class="Symbol">{</a><a id="9008" href="Data.Graph.Acyclic.html#9008" class="Bound">n</a><a id="9009" class="Symbol">}</a> <a id="9011" class="Symbol">→</a> <a id="9013" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="9019" href="Data.Graph.Acyclic.html#8964" class="Bound">N</a> <a id="9021" href="Data.Graph.Acyclic.html#8976" class="Bound">E</a> <a id="9023" href="Data.Graph.Acyclic.html#9008" class="Bound">n</a> <a id="9025" class="Symbol">→</a> <a id="9027" href="Data.Fin.Base.html#944" class="Datatype">Fin</a> <a id="9031" href="Data.Graph.Acyclic.html#9008" class="Bound">n</a> <a id="9033" class="Symbol">→</a> <a id="9035" href="Data.Graph.Acyclic.html#8825" class="Datatype">Tree</a> <a id="9040" href="Data.Graph.Acyclic.html#8964" class="Bound">N</a> <a id="9042" href="Data.Graph.Acyclic.html#8976" class="Bound">E</a>
  <a id="9046" href="Data.Graph.Acyclic.html#8996" class="Function">toTree</a> <a id="9053" href="Data.Graph.Acyclic.html#9053" class="Bound">g</a> <a id="9055" href="Data.Graph.Acyclic.html#9055" class="Bound">i</a> <a id="9057" class="Symbol">=</a> <a id="9059" href="Induction.WellFounded.html#2225" class="Function">&lt;′-rec</a> <a id="9066" href="Data.Graph.Acyclic.html#9104" class="Function">Pred</a> <a id="9071" href="Data.Graph.Acyclic.html#9151" class="Function">expand</a> <a id="9078" class="Symbol">_</a> <a id="9080" class="Symbol">(</a><a id="9081" href="Data.Graph.Acyclic.html#9053" class="Bound">g</a> <a id="9083" href="Data.Graph.Acyclic.html#5055" class="Function Operator">[</a> <a id="9085" href="Data.Graph.Acyclic.html#9055" class="Bound">i</a> <a id="9087" href="Data.Graph.Acyclic.html#5055" class="Function Operator">]</a><a id="9088" class="Symbol">)</a>
    <a id="9094" class="Keyword">where</a>
    <a id="9104" href="Data.Graph.Acyclic.html#9104" class="Function">Pred</a> <a id="9109" class="Symbol">=</a> <a id="9111" class="Symbol">λ</a> <a id="9113" href="Data.Graph.Acyclic.html#9113" class="Bound">n</a> <a id="9115" class="Symbol">→</a> <a id="9117" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="9123" href="Data.Graph.Acyclic.html#8964" class="Bound">N</a> <a id="9125" href="Data.Graph.Acyclic.html#8976" class="Bound">E</a> <a id="9127" class="Symbol">(</a><a id="9128" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="9132" href="Data.Graph.Acyclic.html#9113" class="Bound">n</a><a id="9133" class="Symbol">)</a> <a id="9135" class="Symbol">→</a> <a id="9137" href="Data.Graph.Acyclic.html#8825" class="Datatype">Tree</a> <a id="9142" href="Data.Graph.Acyclic.html#8964" class="Bound">N</a> <a id="9144" href="Data.Graph.Acyclic.html#8976" class="Bound">E</a>

    <a id="9151" href="Data.Graph.Acyclic.html#9151" class="Function">expand</a> <a id="9158" class="Symbol">:</a> <a id="9160" class="Symbol">(</a><a id="9161" href="Data.Graph.Acyclic.html#9161" class="Bound">n</a> <a id="9163" class="Symbol">:</a> <a id="9165" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="9166" class="Symbol">)</a> <a id="9168" class="Symbol">→</a> <a id="9170" href="Induction.Nat.html#1511" class="Function">&lt;′-Rec</a> <a id="9177" href="Data.Graph.Acyclic.html#9104" class="Function">Pred</a> <a id="9182" href="Data.Graph.Acyclic.html#9161" class="Bound">n</a> <a id="9184" class="Symbol">→</a> <a id="9186" href="Data.Graph.Acyclic.html#9104" class="Function">Pred</a> <a id="9191" href="Data.Graph.Acyclic.html#9161" class="Bound">n</a>
    <a id="9197" href="Data.Graph.Acyclic.html#9151" class="Function">expand</a> <a id="9204" href="Data.Graph.Acyclic.html#9204" class="Bound">n</a> <a id="9206" href="Data.Graph.Acyclic.html#9206" class="Bound">rec</a> <a id="9210" class="Symbol">(</a><a id="9211" href="Data.Graph.Acyclic.html#9211" class="Bound">c</a> <a id="9213" href="Data.Graph.Acyclic.html#2196" class="InductiveConstructor Operator">&amp;</a> <a id="9215" href="Data.Graph.Acyclic.html#9215" class="Bound">g</a><a id="9216" class="Symbol">)</a> <a id="9218" class="Symbol">=</a>
      <a id="9226" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="9231" class="Symbol">(</a><a id="9232" href="Data.Graph.Acyclic.html#1583" class="Field">label</a> <a id="9238" href="Data.Graph.Acyclic.html#9211" class="Bound">c</a><a id="9239" class="Symbol">)</a>
           <a id="9252" class="Symbol">(</a><a id="9253" href="Data.List.Base.html#1161" class="Function">List.map</a>
              <a id="9276" class="Symbol">(</a><a id="9277" href="Data.Product.html#2183" class="Function">Prod.map</a> <a id="9286" href="Function.html#1097" class="Function">id</a> <a id="9289" class="Symbol">(λ</a> <a id="9292" href="Data.Graph.Acyclic.html#9292" class="Bound">i</a> <a id="9294" class="Symbol">→</a> <a id="9296" href="Data.Graph.Acyclic.html#9206" class="Bound">rec</a> <a id="9300" class="Symbol">(</a><a id="9301" href="Data.Graph.Acyclic.html#9204" class="Bound">n</a> <a id="9303" href="Data.Fin.Base.html#4748" class="Function Operator">-</a> <a id="9305" href="Data.Fin.Base.html#997" class="InductiveConstructor">suc</a> <a id="9309" href="Data.Graph.Acyclic.html#9292" class="Bound">i</a><a id="9310" class="Symbol">)</a> <a id="9312" class="Symbol">(</a><a id="9313" href="Data.Graph.Acyclic.html#1261" class="Function">lemma</a> <a id="9319" href="Data.Graph.Acyclic.html#9204" class="Bound">n</a> <a id="9321" href="Data.Graph.Acyclic.html#9292" class="Bound">i</a><a id="9322" class="Symbol">)</a> <a id="9324" class="Symbol">(</a><a id="9325" href="Data.Graph.Acyclic.html#9215" class="Bound">g</a> <a id="9327" href="Data.Graph.Acyclic.html#5055" class="Function Operator">[</a> <a id="9329" href="Data.Graph.Acyclic.html#9292" class="Bound">i</a> <a id="9331" href="Data.Graph.Acyclic.html#5055" class="Function Operator">]</a><a id="9332" class="Symbol">)))</a>
              <a id="9350" class="Symbol">(</a><a id="9351" href="Data.Graph.Acyclic.html#1605" class="Field">successors</a> <a id="9362" href="Data.Graph.Acyclic.html#9211" class="Bound">c</a><a id="9363" class="Symbol">))</a>

<a id="9367" class="Comment">-- Performs the toTree expansion once for each node.</a>

  <a id="9423" href="Data.Graph.Acyclic.html#9423" class="Function">toForest</a> <a id="9432" class="Symbol">:</a> <a id="9434" class="Symbol">∀</a> <a id="9436" class="Symbol">{</a><a id="9437" href="Data.Graph.Acyclic.html#9437" class="Bound">n</a><a id="9438" class="Symbol">}</a> <a id="9440" class="Symbol">→</a> <a id="9442" href="Data.Graph.Acyclic.html#2102" class="Datatype">Graph</a> <a id="9448" href="Data.Graph.Acyclic.html#8964" class="Bound">N</a> <a id="9450" href="Data.Graph.Acyclic.html#8976" class="Bound">E</a> <a id="9452" href="Data.Graph.Acyclic.html#9437" class="Bound">n</a> <a id="9454" class="Symbol">→</a> <a id="9456" href="Data.Vec.html#766" class="Datatype">Vec</a> <a id="9460" class="Symbol">(</a><a id="9461" href="Data.Graph.Acyclic.html#8825" class="Datatype">Tree</a> <a id="9466" href="Data.Graph.Acyclic.html#8964" class="Bound">N</a> <a id="9468" href="Data.Graph.Acyclic.html#8976" class="Bound">E</a><a id="9469" class="Symbol">)</a> <a id="9471" href="Data.Graph.Acyclic.html#9437" class="Bound">n</a>
  <a id="9475" href="Data.Graph.Acyclic.html#9423" class="Function">toForest</a> <a id="9484" href="Data.Graph.Acyclic.html#9484" class="Bound">g</a> <a id="9486" class="Symbol">=</a> <a id="9488" href="Data.Vec.html#2125" class="Function">Vec.map</a> <a id="9496" class="Symbol">(</a><a id="9497" href="Data.Graph.Acyclic.html#8996" class="Function">toTree</a> <a id="9504" href="Data.Graph.Acyclic.html#9484" class="Bound">g</a><a id="9505" class="Symbol">)</a> <a id="9507" class="Symbol">(</a><a id="9508" href="Data.Vec.html#5723" class="Function">Vec.allFin</a> <a id="9519" class="Symbol">_)</a>

<a id="9523" class="Keyword">private</a>

  <a id="test-toForest"></a><a id="9534" href="Data.Graph.Acyclic.html#9534" class="Function">test-toForest</a> <a id="9548" class="Symbol">:</a> <a id="9550" href="Data.Graph.Acyclic.html#9423" class="Function">toForest</a> <a id="9559" href="Data.Graph.Acyclic.html#2304" class="Function">example</a> <a id="9567" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a>
                    <a id="9589" class="Keyword">let</a> <a id="9593" href="Data.Graph.Acyclic.html#9593" class="Bound">n3</a> <a id="9596" class="Symbol">=</a> <a id="9598" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="9603" class="Number">3</a> <a id="9605" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="9608" class="Keyword">in</a>
                    <a id="9631" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="9636" class="Number">0</a> <a id="9638" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="9641" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a>
                    <a id="9663" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="9668" class="Number">1</a> <a id="9670" class="Symbol">((</a><a id="9672" class="Number">10</a> <a id="9675" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9677" href="Data.Graph.Acyclic.html#9593" class="Bound">n3</a><a id="9679" class="Symbol">)</a> <a id="9681" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="9683" class="Symbol">(</a><a id="9684" class="Number">11</a> <a id="9687" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9689" href="Data.Graph.Acyclic.html#9593" class="Bound">n3</a><a id="9691" class="Symbol">)</a> <a id="9693" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="9695" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="9697" class="Symbol">)</a> <a id="9699" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a>
                    <a id="9721" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="9726" class="Number">2</a> <a id="9728" class="Symbol">((</a><a id="9730" class="Number">12</a> <a id="9733" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9735" href="Data.Graph.Acyclic.html#9593" class="Bound">n3</a><a id="9737" class="Symbol">)</a> <a id="9739" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="9741" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a><a id="9743" class="Symbol">)</a> <a id="9745" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a>
                    <a id="9767" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="9772" class="Number">3</a> <a id="9774" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="9777" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a>
                    <a id="9799" href="Data.Graph.Acyclic.html#8882" class="InductiveConstructor">node</a> <a id="9804" class="Number">4</a> <a id="9806" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="9809" href="Data.Vec.html#825" class="InductiveConstructor Operator">∷</a>
                    <a id="9831" href="Data.Vec.html#806" class="InductiveConstructor">[]</a>
  <a id="9836" href="Data.Graph.Acyclic.html#9534" class="Function">test-toForest</a> <a id="9850" class="Symbol">=</a> <a id="9852" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a>
</pre></body></html>