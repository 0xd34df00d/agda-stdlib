<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Musical.M.Indexed</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Indexed M-types (the dual of indexed W-types aka Petersson-Synek</a>
<a id="174" class="Comment">-- trees).</a>
<a id="185" class="Comment">------------------------------------------------------------------------</a>

<a id="259" class="Keyword">module</a> <a id="266" href="Codata.Musical.M.Indexed.html" class="Module">Codata.Musical.M.Indexed</a> <a id="291" class="Keyword">where</a>

<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Level.html" class="Module">Level</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Coinduction.html" class="Module">Coinduction</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Data.Product.html" class="Module">Data.Product</a>
<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Data.Container.Indexed.Core.html" class="Module">Data.Container.Indexed.Core</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Function.html" class="Module">Function</a>
<a id="426" class="Keyword">open</a> <a id="431" class="Keyword">import</a> <a id="438" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="454" class="Comment">-- The family of indexed M-types.</a>

<a id="489" class="Keyword">module</a> <a id="496" href="Codata.Musical.M.Indexed.html#496" class="Module">_</a> <a id="498" class="Symbol">{</a><a id="499" href="Codata.Musical.M.Indexed.html#499" class="Bound">ℓ</a> <a id="501" href="Codata.Musical.M.Indexed.html#501" class="Bound">c</a> <a id="503" href="Codata.Musical.M.Indexed.html#503" class="Bound">r</a><a id="504" class="Symbol">}</a> <a id="506" class="Symbol">{</a><a id="507" href="Codata.Musical.M.Indexed.html#507" class="Bound">O</a> <a id="509" class="Symbol">:</a> <a id="511" class="PrimitiveType">Set</a> <a id="515" href="Codata.Musical.M.Indexed.html#499" class="Bound">ℓ</a><a id="516" class="Symbol">}</a> <a id="518" class="Symbol">(</a><a id="519" href="Codata.Musical.M.Indexed.html#519" class="Bound">C</a> <a id="521" class="Symbol">:</a> <a id="523" href="Data.Container.Indexed.Core.html#342" class="Record">Container</a> <a id="533" href="Codata.Musical.M.Indexed.html#507" class="Bound">O</a> <a id="535" href="Codata.Musical.M.Indexed.html#507" class="Bound">O</a> <a id="537" href="Codata.Musical.M.Indexed.html#501" class="Bound">c</a> <a id="539" href="Codata.Musical.M.Indexed.html#503" class="Bound">r</a><a id="540" class="Symbol">)</a> <a id="542" class="Keyword">where</a>

  <a id="551" class="Keyword">data</a> <a id="556" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a> <a id="558" class="Symbol">(</a><a id="559" href="Codata.Musical.M.Indexed.html#559" class="Bound">o</a> <a id="561" class="Symbol">:</a> <a id="563" href="Codata.Musical.M.Indexed.html#507" class="Bound">O</a><a id="564" class="Symbol">)</a> <a id="566" class="Symbol">:</a> <a id="568" class="PrimitiveType">Set</a> <a id="572" class="Symbol">(</a><a id="573" href="Codata.Musical.M.Indexed.html#499" class="Bound">ℓ</a> <a id="575" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="577" href="Codata.Musical.M.Indexed.html#501" class="Bound">c</a> <a id="579" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="581" href="Codata.Musical.M.Indexed.html#503" class="Bound">r</a><a id="582" class="Symbol">)</a> <a id="584" class="Keyword">where</a>
    <a id="594" href="Codata.Musical.M.Indexed.html#594" class="InductiveConstructor">inf</a> <a id="598" class="Symbol">:</a> <a id="600" href="Data.Container.Indexed.Core.html#661" class="Function Operator">⟦</a> <a id="602" href="Codata.Musical.M.Indexed.html#519" class="Bound">C</a> <a id="604" href="Data.Container.Indexed.Core.html#661" class="Function Operator">⟧</a> <a id="606" class="Symbol">(</a><a id="607" href="Agda.Builtin.Coinduction.html#96" class="Record">∞</a> <a id="609" href="Function.html#759" class="Function Operator">∘</a> <a id="611" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a><a id="612" class="Symbol">)</a> <a id="614" href="Codata.Musical.M.Indexed.html#559" class="Bound">o</a> <a id="616" class="Symbol">→</a> <a id="618" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a> <a id="620" href="Codata.Musical.M.Indexed.html#559" class="Bound">o</a>

  <a id="625" class="Keyword">open</a> <a id="630" href="Data.Container.Indexed.Core.html#342" class="Module">Container</a> <a id="640" href="Codata.Musical.M.Indexed.html#519" class="Bound">C</a>

  <a id="645" class="Comment">-- Projections.</a>

  <a id="664" href="Codata.Musical.M.Indexed.html#664" class="Function">head</a> <a id="669" class="Symbol">:</a> <a id="671" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a> <a id="673" href="Relation.Unary.html#1453" class="Function Operator">⊆</a> <a id="675" href="Data.Container.Indexed.Core.html#481" class="Field">Command</a>
  <a id="685" href="Codata.Musical.M.Indexed.html#664" class="Function">head</a> <a id="690" class="Symbol">(</a><a id="691" href="Codata.Musical.M.Indexed.html#594" class="InductiveConstructor">inf</a> <a id="695" class="Symbol">(</a><a id="696" href="Codata.Musical.M.Indexed.html#696" class="Bound">c</a> <a id="698" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="700" class="Symbol">_))</a> <a id="704" class="Symbol">=</a> <a id="706" href="Codata.Musical.M.Indexed.html#696" class="Bound">c</a>

  <a id="711" href="Codata.Musical.M.Indexed.html#711" class="Function">tail</a> <a id="716" class="Symbol">:</a> <a id="718" class="Symbol">∀</a> <a id="720" class="Symbol">{</a><a id="721" href="Codata.Musical.M.Indexed.html#721" class="Bound">o</a><a id="722" class="Symbol">}</a> <a id="724" class="Symbol">(</a><a id="725" href="Codata.Musical.M.Indexed.html#725" class="Bound">m</a> <a id="727" class="Symbol">:</a> <a id="729" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a> <a id="731" href="Codata.Musical.M.Indexed.html#721" class="Bound">o</a><a id="732" class="Symbol">)</a> <a id="734" class="Symbol">(</a><a id="735" href="Codata.Musical.M.Indexed.html#735" class="Bound">r</a> <a id="737" class="Symbol">:</a> <a id="739" href="Data.Container.Indexed.Core.html#512" class="Field">Response</a> <a id="748" class="Symbol">(</a><a id="749" href="Codata.Musical.M.Indexed.html#664" class="Function">head</a> <a id="754" href="Codata.Musical.M.Indexed.html#725" class="Bound">m</a><a id="755" class="Symbol">))</a> <a id="758" class="Symbol">→</a> <a id="760" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a> <a id="762" class="Symbol">(</a><a id="763" href="Data.Container.Indexed.Core.html#553" class="Field">next</a> <a id="768" class="Symbol">(</a><a id="769" href="Codata.Musical.M.Indexed.html#664" class="Function">head</a> <a id="774" href="Codata.Musical.M.Indexed.html#725" class="Bound">m</a><a id="775" class="Symbol">)</a> <a id="777" href="Codata.Musical.M.Indexed.html#735" class="Bound">r</a><a id="778" class="Symbol">)</a>
  <a id="782" href="Codata.Musical.M.Indexed.html#711" class="Function">tail</a> <a id="787" class="Symbol">(</a><a id="788" href="Codata.Musical.M.Indexed.html#594" class="InductiveConstructor">inf</a> <a id="792" class="Symbol">(_</a> <a id="795" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="797" href="Codata.Musical.M.Indexed.html#797" class="Bound">k</a><a id="798" class="Symbol">))</a> <a id="801" href="Codata.Musical.M.Indexed.html#801" class="Bound">r</a> <a id="803" class="Symbol">=</a> <a id="805" href="Agda.Builtin.Coinduction.html#164" class="Field">♭</a> <a id="807" class="Symbol">(</a><a id="808" href="Codata.Musical.M.Indexed.html#797" class="Bound">k</a> <a id="810" href="Codata.Musical.M.Indexed.html#801" class="Bound">r</a><a id="811" class="Symbol">)</a>

  <a id="816" href="Codata.Musical.M.Indexed.html#816" class="Function">force</a> <a id="822" class="Symbol">:</a> <a id="824" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a> <a id="826" href="Relation.Unary.html#1453" class="Function Operator">⊆</a> <a id="828" href="Data.Container.Indexed.Core.html#661" class="Function Operator">⟦</a> <a id="830" href="Codata.Musical.M.Indexed.html#519" class="Bound">C</a> <a id="832" href="Data.Container.Indexed.Core.html#661" class="Function Operator">⟧</a> <a id="834" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a>
  <a id="838" href="Codata.Musical.M.Indexed.html#816" class="Function">force</a> <a id="844" class="Symbol">(</a><a id="845" href="Codata.Musical.M.Indexed.html#594" class="InductiveConstructor">inf</a> <a id="849" class="Symbol">(</a><a id="850" href="Codata.Musical.M.Indexed.html#850" class="Bound">c</a> <a id="852" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="854" href="Codata.Musical.M.Indexed.html#854" class="Bound">k</a><a id="855" class="Symbol">))</a> <a id="858" class="Symbol">=</a> <a id="860" href="Codata.Musical.M.Indexed.html#850" class="Bound">c</a> <a id="862" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="864" class="Symbol">λ</a> <a id="866" href="Codata.Musical.M.Indexed.html#866" class="Bound">r</a> <a id="868" class="Symbol">→</a> <a id="870" href="Agda.Builtin.Coinduction.html#164" class="Field">♭</a> <a id="872" class="Symbol">(</a><a id="873" href="Codata.Musical.M.Indexed.html#854" class="Bound">k</a> <a id="875" href="Codata.Musical.M.Indexed.html#866" class="Bound">r</a><a id="876" class="Symbol">)</a>

  <a id="881" class="Comment">-- Coiteration.</a>

  <a id="900" href="Codata.Musical.M.Indexed.html#900" class="Function">coit</a> <a id="905" class="Symbol">:</a> <a id="907" class="Symbol">∀</a> <a id="909" class="Symbol">{</a><a id="910" href="Codata.Musical.M.Indexed.html#910" class="Bound">ℓ</a><a id="911" class="Symbol">}</a> <a id="913" class="Symbol">{</a><a id="914" href="Codata.Musical.M.Indexed.html#914" class="Bound">X</a> <a id="916" class="Symbol">:</a> <a id="918" href="Relation.Unary.html#560" class="Function">Pred</a> <a id="923" href="Codata.Musical.M.Indexed.html#507" class="Bound">O</a> <a id="925" href="Codata.Musical.M.Indexed.html#910" class="Bound">ℓ</a><a id="926" class="Symbol">}</a> <a id="928" class="Symbol">→</a> <a id="930" href="Codata.Musical.M.Indexed.html#914" class="Bound">X</a> <a id="932" href="Relation.Unary.html#1453" class="Function Operator">⊆</a> <a id="934" href="Data.Container.Indexed.Core.html#661" class="Function Operator">⟦</a> <a id="936" href="Codata.Musical.M.Indexed.html#519" class="Bound">C</a> <a id="938" href="Data.Container.Indexed.Core.html#661" class="Function Operator">⟧</a> <a id="940" href="Codata.Musical.M.Indexed.html#914" class="Bound">X</a> <a id="942" class="Symbol">→</a> <a id="944" href="Codata.Musical.M.Indexed.html#914" class="Bound">X</a> <a id="946" href="Relation.Unary.html#1453" class="Function Operator">⊆</a> <a id="948" href="Codata.Musical.M.Indexed.html#556" class="Datatype">M</a>
  <a id="952" href="Codata.Musical.M.Indexed.html#900" class="Function">coit</a> <a id="957" href="Codata.Musical.M.Indexed.html#957" class="Bound">ψ</a> <a id="959" href="Codata.Musical.M.Indexed.html#959" class="Bound">x</a> <a id="961" class="Symbol">=</a> <a id="963" href="Codata.Musical.M.Indexed.html#594" class="InductiveConstructor">inf</a> <a id="967" class="Symbol">(</a><a id="968" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="974" href="Codata.Musical.M.Indexed.html#1022" class="Function">cs</a> <a id="977" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="979" class="Symbol">λ</a> <a id="981" href="Codata.Musical.M.Indexed.html#981" class="Bound">r</a> <a id="983" class="Symbol">→</a> <a id="985" href="Agda.Builtin.Coinduction.html#129" class="CoinductiveConstructor Operator">♯</a> <a id="987" href="Codata.Musical.M.Indexed.html#900" class="Function">coit</a> <a id="992" href="Codata.Musical.M.Indexed.html#957" class="Bound">ψ</a> <a id="994" class="Symbol">(</a><a id="995" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="1001" href="Codata.Musical.M.Indexed.html#1022" class="Function">cs</a> <a id="1004" href="Codata.Musical.M.Indexed.html#981" class="Bound">r</a><a id="1005" class="Symbol">))</a>
    <a id="1012" class="Keyword">where</a>
    <a id="1022" href="Codata.Musical.M.Indexed.html#1022" class="Function">cs</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Codata.Musical.M.Indexed.html#957" class="Bound">ψ</a> <a id="1029" href="Codata.Musical.M.Indexed.html#959" class="Bound">x</a>
</pre></body></html>