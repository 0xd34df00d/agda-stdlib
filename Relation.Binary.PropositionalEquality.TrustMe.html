<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Binary.PropositionalEquality.TrustMe</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- An equality postulate which evaluates</a>
<a id="147" class="Comment">------------------------------------------------------------------------</a>

<a id="221" class="Keyword">module</a> <a id="228" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a> <a id="274" class="Keyword">where</a>

<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a> <a id="314" class="Keyword">using</a> <a id="320" class="Symbol">(</a><a id="321" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="324" class="Symbol">;</a> <a id="326" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="330" class="Symbol">)</a>

<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Agda.Builtin.TrustMe.html" class="Module">Agda.Builtin.TrustMe</a>

<a id="367" class="Comment">-- trustMe {x = x} {y = y} evaluates to refl if x and y are</a>
<a id="427" class="Comment">-- definitionally equal.</a>
<a id="452" class="Comment">--</a>
<a id="455" class="Comment">-- For an example of the use of trustMe, see Data.String.Unsafe._≟_.</a>

<a id="trustMe"></a><a id="525" href="Relation.Binary.PropositionalEquality.TrustMe.html#525" class="Function">trustMe</a> <a id="533" class="Symbol">:</a> <a id="535" class="Symbol">∀</a> <a id="537" class="Symbol">{</a><a id="538" href="Relation.Binary.PropositionalEquality.TrustMe.html#538" class="Bound">a</a><a id="539" class="Symbol">}</a> <a id="541" class="Symbol">{</a><a id="542" href="Relation.Binary.PropositionalEquality.TrustMe.html#542" class="Bound">A</a> <a id="544" class="Symbol">:</a> <a id="546" class="PrimitiveType">Set</a> <a id="550" href="Relation.Binary.PropositionalEquality.TrustMe.html#538" class="Bound">a</a><a id="551" class="Symbol">}</a> <a id="553" class="Symbol">{</a><a id="554" href="Relation.Binary.PropositionalEquality.TrustMe.html#554" class="Bound">x</a> <a id="556" href="Relation.Binary.PropositionalEquality.TrustMe.html#556" class="Bound">y</a> <a id="558" class="Symbol">:</a> <a id="560" href="Relation.Binary.PropositionalEquality.TrustMe.html#542" class="Bound">A</a><a id="561" class="Symbol">}</a> <a id="563" class="Symbol">→</a> <a id="565" href="Relation.Binary.PropositionalEquality.TrustMe.html#554" class="Bound">x</a> <a id="567" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="569" href="Relation.Binary.PropositionalEquality.TrustMe.html#556" class="Bound">y</a>
<a id="571" href="Relation.Binary.PropositionalEquality.TrustMe.html#525" class="Function">trustMe</a> <a id="579" class="Symbol">=</a> <a id="581" href="Agda.Builtin.TrustMe.html#110" class="Primitive">primTrustMe</a>

<a id="594" class="Comment">-- &quot;Erases&quot; a proof. The original proof is not inspected. The</a>
<a id="656" class="Comment">-- resulting proof reduces to refl if the two sides are definitionally</a>
<a id="727" class="Comment">-- equal. Note that checking for definitional equality can be slow.</a>

<a id="erase"></a><a id="796" href="Relation.Binary.PropositionalEquality.TrustMe.html#796" class="Function">erase</a> <a id="802" class="Symbol">:</a> <a id="804" class="Symbol">∀</a> <a id="806" class="Symbol">{</a><a id="807" href="Relation.Binary.PropositionalEquality.TrustMe.html#807" class="Bound">a</a><a id="808" class="Symbol">}</a> <a id="810" class="Symbol">{</a><a id="811" href="Relation.Binary.PropositionalEquality.TrustMe.html#811" class="Bound">A</a> <a id="813" class="Symbol">:</a> <a id="815" class="PrimitiveType">Set</a> <a id="819" href="Relation.Binary.PropositionalEquality.TrustMe.html#807" class="Bound">a</a><a id="820" class="Symbol">}</a> <a id="822" class="Symbol">{</a><a id="823" href="Relation.Binary.PropositionalEquality.TrustMe.html#823" class="Bound">x</a> <a id="825" href="Relation.Binary.PropositionalEquality.TrustMe.html#825" class="Bound">y</a> <a id="827" class="Symbol">:</a> <a id="829" href="Relation.Binary.PropositionalEquality.TrustMe.html#811" class="Bound">A</a><a id="830" class="Symbol">}</a> <a id="832" class="Symbol">→</a> <a id="834" href="Relation.Binary.PropositionalEquality.TrustMe.html#823" class="Bound">x</a> <a id="836" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="838" href="Relation.Binary.PropositionalEquality.TrustMe.html#825" class="Bound">y</a> <a id="840" class="Symbol">→</a> <a id="842" href="Relation.Binary.PropositionalEquality.TrustMe.html#823" class="Bound">x</a> <a id="844" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="846" href="Relation.Binary.PropositionalEquality.TrustMe.html#825" class="Bound">y</a>
<a id="848" href="Relation.Binary.PropositionalEquality.TrustMe.html#796" class="Function">erase</a> <a id="854" class="Symbol">_</a> <a id="856" class="Symbol">=</a> <a id="858" href="Relation.Binary.PropositionalEquality.TrustMe.html#525" class="Function">trustMe</a>

<a id="867" class="Comment">-- A &quot;postulate with a reduction&quot;: postulate[ a ↦ b ] a evaluates to b,</a>
<a id="939" class="Comment">-- while postulate[ a ↦ b ] a&#39; gets stuck if a&#39; is not definitionally</a>
<a id="1009" class="Comment">-- equal to a. This can be used to define a postulate of type (x : A) → B x</a>
<a id="1085" class="Comment">-- by only specifying the behaviour at B t for some t : A. Introduced in</a>
<a id="1158" class="Comment">--</a>
<a id="1161" class="Comment">--   Alan Jeffrey, Univalence via Agda&#39;s primTrustMe again</a>
<a id="1220" class="Comment">--   23 January 2015</a>
<a id="1241" class="Comment">--   https://lists.chalmers.se/pipermail/agda/2015/007418.html</a>

<a id="postulate[_↦_]"></a><a id="1305" href="Relation.Binary.PropositionalEquality.TrustMe.html#1305" class="Function Operator">postulate[_↦_]</a> <a id="1320" class="Symbol">:</a> <a id="1322" class="Symbol">∀</a> <a id="1324" class="Symbol">{</a><a id="1325" href="Relation.Binary.PropositionalEquality.TrustMe.html#1325" class="Bound">a</a> <a id="1327" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Bound">b</a><a id="1328" class="Symbol">}</a> <a id="1330" class="Symbol">{</a><a id="1331" href="Relation.Binary.PropositionalEquality.TrustMe.html#1331" class="Bound">A</a> <a id="1333" class="Symbol">:</a> <a id="1335" class="PrimitiveType">Set</a> <a id="1339" href="Relation.Binary.PropositionalEquality.TrustMe.html#1325" class="Bound">a</a><a id="1340" class="Symbol">}{</a><a id="1342" href="Relation.Binary.PropositionalEquality.TrustMe.html#1342" class="Bound">B</a> <a id="1344" class="Symbol">:</a> <a id="1346" href="Relation.Binary.PropositionalEquality.TrustMe.html#1331" class="Bound">A</a> <a id="1348" class="Symbol">→</a> <a id="1350" class="PrimitiveType">Set</a> <a id="1354" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Bound">b</a><a id="1355" class="Symbol">}</a> <a id="1357" class="Symbol">→</a>
                  <a id="1377" class="Symbol">(</a><a id="1378" href="Relation.Binary.PropositionalEquality.TrustMe.html#1378" class="Bound">t</a> <a id="1380" class="Symbol">:</a> <a id="1382" href="Relation.Binary.PropositionalEquality.TrustMe.html#1331" class="Bound">A</a><a id="1383" class="Symbol">)</a> <a id="1385" class="Symbol">→</a> <a id="1387" href="Relation.Binary.PropositionalEquality.TrustMe.html#1342" class="Bound">B</a> <a id="1389" href="Relation.Binary.PropositionalEquality.TrustMe.html#1378" class="Bound">t</a> <a id="1391" class="Symbol">→</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Relation.Binary.PropositionalEquality.TrustMe.html#1394" class="Bound">x</a> <a id="1396" class="Symbol">:</a> <a id="1398" href="Relation.Binary.PropositionalEquality.TrustMe.html#1331" class="Bound">A</a><a id="1399" class="Symbol">)</a> <a id="1401" class="Symbol">→</a> <a id="1403" href="Relation.Binary.PropositionalEquality.TrustMe.html#1342" class="Bound">B</a> <a id="1405" href="Relation.Binary.PropositionalEquality.TrustMe.html#1394" class="Bound">x</a>
<a id="1407" href="Relation.Binary.PropositionalEquality.TrustMe.html#1305" class="Function Operator">postulate[</a> <a id="1418" href="Relation.Binary.PropositionalEquality.TrustMe.html#1418" class="Bound">a</a> <a id="1420" href="Relation.Binary.PropositionalEquality.TrustMe.html#1305" class="Function Operator">↦</a> <a id="1422" href="Relation.Binary.PropositionalEquality.TrustMe.html#1422" class="Bound">b</a> <a id="1424" href="Relation.Binary.PropositionalEquality.TrustMe.html#1305" class="Function Operator">]</a> <a id="1426" href="Relation.Binary.PropositionalEquality.TrustMe.html#1426" class="Bound">a&#39;</a> <a id="1429" class="Keyword">with</a> <a id="1434" href="Relation.Binary.PropositionalEquality.TrustMe.html#525" class="Function">trustMe</a> <a id="1442" class="Symbol">{</a><a id="1443" class="Argument">x</a> <a id="1445" class="Symbol">=</a> <a id="1447" href="Relation.Binary.PropositionalEquality.TrustMe.html#1418" class="Bound">a</a><a id="1448" class="Symbol">}</a> <a id="1450" class="Symbol">{</a><a id="1451" href="Relation.Binary.PropositionalEquality.TrustMe.html#1426" class="Bound">a&#39;</a><a id="1453" class="Symbol">}</a>
<a id="1455" href="Relation.Binary.PropositionalEquality.TrustMe.html#1305" class="Function Operator">postulate[</a> <a id="1466" href="Relation.Binary.PropositionalEquality.TrustMe.html#1466" class="Bound">a</a> <a id="1468" href="Relation.Binary.PropositionalEquality.TrustMe.html#1305" class="Function Operator">↦</a> <a id="1470" href="Relation.Binary.PropositionalEquality.TrustMe.html#1470" class="Bound">b</a> <a id="1472" href="Relation.Binary.PropositionalEquality.TrustMe.html#1305" class="Function Operator">]</a> <a id="1474" class="DottedPattern Symbol">.</a><a id="1475" href="Relation.Binary.PropositionalEquality.TrustMe.html#1466" class="DottedPattern Bound">a</a> <a id="1477" class="Symbol">|</a> <a id="1479" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1484" class="Symbol">=</a> <a id="1486" href="Relation.Binary.PropositionalEquality.TrustMe.html#1470" class="Bound">b</a>
</pre></body></html>