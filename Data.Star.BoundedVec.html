<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Star.BoundedVec</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bounded vectors (inefficient implementation)</a>
<a id="154" class="Comment">------------------------------------------------------------------------</a>

<a id="228" class="Comment">-- Vectors of a specified maximum length.</a>

<a id="271" class="Symbol">{-#</a> <a id="275" class="Keyword">OPTIONS</a> <a id="283" class="Option">--with-K</a> <a id="292" class="Symbol">#-}</a>

<a id="297" class="Keyword">module</a> <a id="304" href="Data.Star.BoundedVec.html" class="Module">Data.Star.BoundedVec</a> <a id="325" class="Keyword">where</a>

<a id="332" class="Keyword">import</a> <a id="339" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="355" class="Symbol">as</a> <a id="358" class="Module">Maybe</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Data.Star.Nat.html" class="Module">Data.Star.Nat</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Data.Star.Decoration.html" class="Module">Data.Star.Decoration</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Star.Pointer.html" class="Module">Data.Star.Pointer</a>
<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="Data.Star.List.html" class="Module">Data.Star.List</a> <a id="480" class="Keyword">using</a> <a id="486" class="Symbol">(</a><a id="487" href="Data.Star.List.html#553" class="Function">List</a><a id="491" class="Symbol">)</a>
<a id="493" class="Keyword">open</a> <a id="498" class="Keyword">import</a> <a id="505" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Function.html" class="Module">Function</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="564" class="Keyword">open</a> <a id="569" class="Keyword">import</a> <a id="576" href="Relation.Binary.Consequences.html" class="Module">Relation.Binary.Consequences</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Construct.Closure.ReflexiveTransitive</a>

<a id="672" class="Comment">------------------------------------------------------------------------</a>
<a id="745" class="Comment">-- The type</a>

<a id="758" class="Comment">-- Finite sets decorated with elements (note the use of suc).</a>

<a id="BoundedVec"></a><a id="821" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="832" class="Symbol">:</a> <a id="834" class="PrimitiveType">Set</a> <a id="838" class="Symbol">→</a> <a id="840" href="Data.Star.Nat.html#528" class="Function">ℕ</a> <a id="842" class="Symbol">→</a> <a id="844" class="PrimitiveType">Set</a>
<a id="848" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="859" href="Data.Star.BoundedVec.html#859" class="Bound">a</a> <a id="861" href="Data.Star.BoundedVec.html#861" class="Bound">n</a> <a id="863" class="Symbol">=</a> <a id="865" href="Data.Star.Pointer.html#1305" class="Function">Any</a> <a id="869" class="Symbol">(λ</a> <a id="872" href="Data.Star.BoundedVec.html#872" class="Bound">_</a> <a id="874" class="Symbol">→</a> <a id="876" href="Data.Star.BoundedVec.html#859" class="Bound">a</a><a id="877" class="Symbol">)</a> <a id="879" class="Symbol">(λ</a> <a id="882" href="Data.Star.BoundedVec.html#882" class="Bound">_</a> <a id="884" class="Symbol">→</a> <a id="886" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="887" class="Symbol">)</a> <a id="889" class="Symbol">(</a><a id="890" href="Data.Star.Nat.html#602" class="Function">suc</a> <a id="894" href="Data.Star.BoundedVec.html#861" class="Bound">n</a><a id="895" class="Symbol">)</a>

<a id="[]"></a><a id="898" href="Data.Star.BoundedVec.html#898" class="Function">[]</a> <a id="901" class="Symbol">:</a> <a id="903" class="Symbol">∀</a> <a id="905" class="Symbol">{</a><a id="906" href="Data.Star.BoundedVec.html#906" class="Bound">a</a> <a id="908" href="Data.Star.BoundedVec.html#908" class="Bound">n</a><a id="909" class="Symbol">}</a> <a id="911" class="Symbol">→</a> <a id="913" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="924" href="Data.Star.BoundedVec.html#906" class="Bound">a</a> <a id="926" href="Data.Star.BoundedVec.html#908" class="Bound">n</a>
<a id="928" href="Data.Star.BoundedVec.html#898" class="Function">[]</a> <a id="931" class="Symbol">=</a> <a id="933" href="Data.Star.Pointer.html#1559" class="Function">this</a> <a id="938" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a>

<a id="942" class="Keyword">infixr</a> <a id="949" class="Number">5</a> <a id="951" href="Data.Star.BoundedVec.html#956" class="Function Operator">_∷_</a>

<a id="_∷_"></a><a id="956" href="Data.Star.BoundedVec.html#956" class="Function Operator">_∷_</a> <a id="960" class="Symbol">:</a> <a id="962" class="Symbol">∀</a> <a id="964" class="Symbol">{</a><a id="965" href="Data.Star.BoundedVec.html#965" class="Bound">a</a> <a id="967" href="Data.Star.BoundedVec.html#967" class="Bound">n</a><a id="968" class="Symbol">}</a> <a id="970" class="Symbol">→</a> <a id="972" href="Data.Star.BoundedVec.html#965" class="Bound">a</a> <a id="974" class="Symbol">→</a> <a id="976" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="987" href="Data.Star.BoundedVec.html#965" class="Bound">a</a> <a id="989" href="Data.Star.BoundedVec.html#967" class="Bound">n</a> <a id="991" class="Symbol">→</a> <a id="993" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="1004" href="Data.Star.BoundedVec.html#965" class="Bound">a</a> <a id="1006" class="Symbol">(</a><a id="1007" href="Data.Star.Nat.html#602" class="Function">suc</a> <a id="1011" href="Data.Star.BoundedVec.html#967" class="Bound">n</a><a id="1012" class="Symbol">)</a>
<a id="1014" href="Data.Star.BoundedVec.html#956" class="Function Operator">_∷_</a> <a id="1018" class="Symbol">=</a> <a id="1020" href="Data.Star.Pointer.html#1665" class="Function">that</a>

<a id="1026" class="Comment">------------------------------------------------------------------------</a>
<a id="1099" class="Comment">-- Increasing the bound</a>

<a id="1124" class="Comment">-- Note that this operation is linear in the length of the list.</a>

<a id="↑"></a><a id="1190" href="Data.Star.BoundedVec.html#1190" class="Function">↑</a> <a id="1192" class="Symbol">:</a> <a id="1194" class="Symbol">∀</a> <a id="1196" class="Symbol">{</a><a id="1197" href="Data.Star.BoundedVec.html#1197" class="Bound">a</a> <a id="1199" href="Data.Star.BoundedVec.html#1199" class="Bound">n</a><a id="1200" class="Symbol">}</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="1215" href="Data.Star.BoundedVec.html#1197" class="Bound">a</a> <a id="1217" href="Data.Star.BoundedVec.html#1199" class="Bound">n</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="1232" href="Data.Star.BoundedVec.html#1197" class="Bound">a</a> <a id="1234" class="Symbol">(</a><a id="1235" href="Data.Star.Nat.html#602" class="Function">suc</a> <a id="1239" href="Data.Star.BoundedVec.html#1199" class="Bound">n</a><a id="1240" class="Symbol">)</a>
<a id="1242" href="Data.Star.BoundedVec.html#1190" class="Function">↑</a> <a id="1244" class="Symbol">{</a><a id="1245" href="Data.Star.BoundedVec.html#1245" class="Bound">a</a><a id="1246" class="Symbol">}</a> <a id="1248" class="Symbol">=</a> <a id="1250" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1518" class="Function">gmap</a> <a id="1255" href="Data.Star.BoundedVec.html#1274" class="Function">inc</a> <a id="1259" href="Data.Star.BoundedVec.html#1312" class="Function">lift</a>
  <a id="1266" class="Keyword">where</a>
  <a id="1274" href="Data.Star.BoundedVec.html#1274" class="Function">inc</a> <a id="1278" class="Symbol">=</a> <a id="1280" href="Data.Maybe.Base.html#2132" class="Function">Maybe.map</a> <a id="1290" class="Symbol">(</a><a id="1291" href="Relation.Binary.Consequences.html#5468" class="Function">map-NonEmpty</a> <a id="1304" href="Data.Star.Nat.html#602" class="Function">suc</a><a id="1307" class="Symbol">)</a>

  <a id="1312" href="Data.Star.BoundedVec.html#1312" class="Function">lift</a> <a id="1317" class="Symbol">:</a> <a id="1319" href="Data.Star.Pointer.html#647" class="Datatype">Pointer</a> <a id="1327" class="Symbol">(λ</a> <a id="1330" href="Data.Star.BoundedVec.html#1330" class="Bound">_</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="Data.Star.BoundedVec.html#1245" class="Bound">a</a><a id="1335" class="Symbol">)</a> <a id="1337" class="Symbol">(λ</a> <a id="1340" href="Data.Star.BoundedVec.html#1340" class="Bound">_</a> <a id="1342" class="Symbol">→</a> <a id="1344" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="1345" class="Symbol">)</a> <a id="1347" href="Relation.Binary.Core.html#1423" class="Function Operator">=[</a> <a id="1350" href="Data.Star.BoundedVec.html#1274" class="Function">inc</a> <a id="1354" href="Relation.Binary.Core.html#1423" class="Function Operator">]⇒</a>
         <a id="1366" href="Data.Star.Pointer.html#647" class="Datatype">Pointer</a> <a id="1374" class="Symbol">(λ</a> <a id="1377" href="Data.Star.BoundedVec.html#1377" class="Bound">_</a> <a id="1379" class="Symbol">→</a> <a id="1381" href="Data.Star.BoundedVec.html#1245" class="Bound">a</a><a id="1382" class="Symbol">)</a> <a id="1384" class="Symbol">(λ</a> <a id="1387" href="Data.Star.BoundedVec.html#1387" class="Bound">_</a> <a id="1389" class="Symbol">→</a> <a id="1391" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="1392" class="Symbol">)</a>
  <a id="1396" href="Data.Star.BoundedVec.html#1312" class="Function">lift</a> <a id="1401" class="Symbol">(</a><a id="1402" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="1407" href="Data.Star.BoundedVec.html#1407" class="Bound">x</a><a id="1408" class="Symbol">)</a> <a id="1410" class="Symbol">=</a> <a id="1412" href="Data.Star.Pointer.html#791" class="InductiveConstructor">step</a> <a id="1417" href="Data.Star.BoundedVec.html#1407" class="Bound">x</a>
  <a id="1421" href="Data.Star.BoundedVec.html#1312" class="Function">lift</a> <a id="1426" class="Symbol">(</a><a id="1427" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="1432" class="Symbol">_)</a> <a id="1435" class="Symbol">=</a> <a id="1437" href="Data.Star.Pointer.html#954" class="InductiveConstructor">done</a> <a id="1442" class="Symbol">_</a>

<a id="1445" class="Comment">------------------------------------------------------------------------</a>
<a id="1518" class="Comment">-- Conversions</a>

<a id="fromList"></a><a id="1534" href="Data.Star.BoundedVec.html#1534" class="Function">fromList</a> <a id="1543" class="Symbol">:</a> <a id="1545" class="Symbol">∀</a> <a id="1547" class="Symbol">{</a><a id="1548" href="Data.Star.BoundedVec.html#1548" class="Bound">a</a><a id="1549" class="Symbol">}</a> <a id="1551" class="Symbol">→</a> <a id="1553" class="Symbol">(</a><a id="1554" href="Data.Star.BoundedVec.html#1554" class="Bound">xs</a> <a id="1557" class="Symbol">:</a> <a id="1559" href="Data.Star.List.html#553" class="Function">List</a> <a id="1564" href="Data.Star.BoundedVec.html#1548" class="Bound">a</a><a id="1565" class="Symbol">)</a> <a id="1567" class="Symbol">→</a> <a id="1569" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="1580" href="Data.Star.BoundedVec.html#1548" class="Bound">a</a> <a id="1582" class="Symbol">(</a><a id="1583" href="Data.Star.Nat.html#658" class="Function">length</a> <a id="1590" href="Data.Star.BoundedVec.html#1554" class="Bound">xs</a><a id="1592" class="Symbol">)</a>
<a id="1594" href="Data.Star.BoundedVec.html#1534" class="Function">fromList</a> <a id="1603" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#539" class="InductiveConstructor">ε</a>        <a id="1612" class="Symbol">=</a> <a id="1614" href="Data.Star.BoundedVec.html#898" class="Function">[]</a>
<a id="1617" href="Data.Star.BoundedVec.html#1534" class="Function">fromList</a> <a id="1626" class="Symbol">(</a><a id="1627" href="Data.Star.BoundedVec.html#1627" class="Bound">x</a> <a id="1629" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#566" class="InductiveConstructor Operator">◅</a> <a id="1631" href="Data.Star.BoundedVec.html#1631" class="Bound">xs</a><a id="1633" class="Symbol">)</a> <a id="1635" class="Symbol">=</a> <a id="1637" href="Data.Star.BoundedVec.html#1627" class="Bound">x</a> <a id="1639" href="Data.Star.BoundedVec.html#956" class="Function Operator">∷</a> <a id="1641" href="Data.Star.BoundedVec.html#1534" class="Function">fromList</a> <a id="1650" href="Data.Star.BoundedVec.html#1631" class="Bound">xs</a>

<a id="toList"></a><a id="1654" href="Data.Star.BoundedVec.html#1654" class="Function">toList</a> <a id="1661" class="Symbol">:</a> <a id="1663" class="Symbol">∀</a> <a id="1665" class="Symbol">{</a><a id="1666" href="Data.Star.BoundedVec.html#1666" class="Bound">a</a> <a id="1668" href="Data.Star.BoundedVec.html#1668" class="Bound">n</a><a id="1669" class="Symbol">}</a> <a id="1671" class="Symbol">→</a> <a id="1673" href="Data.Star.BoundedVec.html#821" class="Function">BoundedVec</a> <a id="1684" href="Data.Star.BoundedVec.html#1666" class="Bound">a</a> <a id="1686" href="Data.Star.BoundedVec.html#1668" class="Bound">n</a> <a id="1688" class="Symbol">→</a> <a id="1690" href="Data.Star.List.html#553" class="Function">List</a> <a id="1695" href="Data.Star.BoundedVec.html#1666" class="Bound">a</a>
<a id="1697" href="Data.Star.BoundedVec.html#1654" class="Function">toList</a> <a id="1704" href="Data.Star.BoundedVec.html#1704" class="Bound">xs</a> <a id="1707" class="Symbol">=</a> <a id="1709" href="Relation.Binary.Construct.Closure.ReflexiveTransitive.html#1518" class="Function">gmap</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Function.html#1138" class="Function">const</a> <a id="1721" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="1723" class="Symbol">)</a> <a id="1725" href="Data.Star.Decoration.html#1296" class="Function">decoration</a> <a id="1736" class="Symbol">(</a><a id="1737" href="Data.Star.Pointer.html#2919" class="Function">init</a> <a id="1742" href="Data.Star.BoundedVec.html#1704" class="Bound">xs</a><a id="1744" class="Symbol">)</a>
</pre></body></html>