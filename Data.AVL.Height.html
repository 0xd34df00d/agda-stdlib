<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.AVL.Height</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Types and functions which are used to keep track of height</a>
<a id="168" class="Comment">-- invariants in AVL Trees</a>
<a id="195" class="Comment">------------------------------------------------------------------------</a>

<a id="269" class="Symbol">{-#</a> <a id="273" class="Keyword">OPTIONS</a> <a id="281" class="Option">--without-K</a> <a id="293" class="Symbol">#-}</a>

<a id="298" class="Keyword">module</a> <a id="305" href="Data.AVL.Height.html" class="Module">Data.AVL.Height</a> <a id="321" class="Keyword">where</a>

<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="354" class="Keyword">import</a> <a id="361" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="370" class="Symbol">as</a> <a id="373" class="Module">Fin</a>

<a id="ℕ₂"></a><a id="378" href="Data.AVL.Height.html#378" class="Function">ℕ₂</a> <a id="381" class="Symbol">=</a> <a id="383" href="Data.Fin.Base.html#944" class="Datatype">Fin.Fin</a> <a id="391" class="Number">2</a>
<a id="393" class="Keyword">pattern</a> <a id="0#"></a><a id="401" href="Data.AVL.Height.html#401" class="InductiveConstructor">0#</a> <a id="404" class="Symbol">=</a> <a id="406" href="Data.Fin.Base.html#966" class="InductiveConstructor">Fin.zero</a>
<a id="415" class="Keyword">pattern</a> <a id="1#"></a><a id="423" href="Data.AVL.Height.html#423" class="InductiveConstructor">1#</a> <a id="426" class="Symbol">=</a> <a id="428" href="Data.Fin.Base.html#997" class="InductiveConstructor">Fin.suc</a> <a id="436" href="Data.Fin.Base.html#966" class="InductiveConstructor">Fin.zero</a>
<a id="445" class="Keyword">pattern</a> <a id="##"></a><a id="453" href="Data.AVL.Height.html#453" class="InductiveConstructor">##</a> <a id="456" class="Symbol">=</a> <a id="458" href="Data.Fin.Base.html#997" class="InductiveConstructor">Fin.suc</a> <a id="466" class="Symbol">(</a><a id="467" href="Data.Fin.Base.html#997" class="InductiveConstructor">Fin.suc</a> <a id="475" class="Symbol">())</a>

<a id="480" class="Comment">-- Addition.</a>

<a id="494" class="Keyword">infixl</a> <a id="501" class="Number">6</a> <a id="503" href="Data.AVL.Height.html#508" class="Function Operator">_⊕_</a>

<a id="_⊕_"></a><a id="508" href="Data.AVL.Height.html#508" class="Function Operator">_⊕_</a> <a id="512" class="Symbol">:</a> <a id="514" href="Data.AVL.Height.html#378" class="Function">ℕ₂</a> <a id="517" class="Symbol">→</a> <a id="519" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="521" class="Symbol">→</a> <a id="523" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
<a id="525" href="Data.AVL.Height.html#401" class="InductiveConstructor">0#</a> <a id="528" href="Data.AVL.Height.html#508" class="Function Operator">⊕</a> <a id="530" href="Data.AVL.Height.html#530" class="Bound">n</a> <a id="532" class="Symbol">=</a> <a id="534" href="Data.AVL.Height.html#530" class="Bound">n</a>
<a id="536" href="Data.AVL.Height.html#423" class="InductiveConstructor">1#</a> <a id="539" href="Data.AVL.Height.html#508" class="Function Operator">⊕</a> <a id="541" href="Data.AVL.Height.html#541" class="Bound">n</a> <a id="543" class="Symbol">=</a> <a id="545" class="Number">1</a> <a id="547" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="549" href="Data.AVL.Height.html#541" class="Bound">n</a>
<a id="551" href="Data.AVL.Height.html#453" class="InductiveConstructor">##</a> <a id="554" href="Data.AVL.Height.html#508" class="Function Operator">⊕</a> <a id="556" href="Data.AVL.Height.html#556" class="Bound">n</a>

<a id="559" class="Comment">-- pred[ i ⊕ n ] = pred (i ⊕ n).</a>

<a id="pred[_⊕_]"></a><a id="593" href="Data.AVL.Height.html#593" class="Function Operator">pred[_⊕_]</a> <a id="603" class="Symbol">:</a> <a id="605" href="Data.AVL.Height.html#378" class="Function">ℕ₂</a> <a id="608" class="Symbol">→</a> <a id="610" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="612" class="Symbol">→</a> <a id="614" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
<a id="616" href="Data.AVL.Height.html#593" class="Function Operator">pred[</a> <a id="622" href="Data.AVL.Height.html#622" class="Bound">i</a> <a id="624" href="Data.AVL.Height.html#593" class="Function Operator">⊕</a> <a id="626" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>  <a id="632" href="Data.AVL.Height.html#593" class="Function Operator">]</a> <a id="634" class="Symbol">=</a> <a id="636" class="Number">0</a>
<a id="638" href="Data.AVL.Height.html#593" class="Function Operator">pred[</a> <a id="644" href="Data.AVL.Height.html#644" class="Bound">i</a> <a id="646" href="Data.AVL.Height.html#593" class="Function Operator">⊕</a> <a id="648" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="652" href="Data.AVL.Height.html#652" class="Bound">n</a> <a id="654" href="Data.AVL.Height.html#593" class="Function Operator">]</a> <a id="656" class="Symbol">=</a> <a id="658" href="Data.AVL.Height.html#644" class="Bound">i</a> <a id="660" href="Data.AVL.Height.html#508" class="Function Operator">⊕</a> <a id="662" href="Data.AVL.Height.html#652" class="Bound">n</a>

<a id="665" class="Keyword">infix</a> <a id="671" class="Number">4</a> <a id="673" href="Data.AVL.Height.html#943" class="Datatype Operator">_∼_⊔_</a>

<a id="680" class="Comment">-- If i ∼ j ⊔ m, then the difference between i and j is at most 1,</a>
<a id="747" class="Comment">-- and the maximum of i and j is m. _∼_⊔_ is used to record the</a>
<a id="811" class="Comment">-- balance factor of the AVL trees, and also to ensure that the</a>
<a id="875" class="Comment">-- absolute value of the balance factor is never more than 1.</a>

<a id="938" class="Keyword">data</a> <a id="_∼_⊔_"></a><a id="943" href="Data.AVL.Height.html#943" class="Datatype Operator">_∼_⊔_</a> <a id="949" class="Symbol">:</a> <a id="951" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="953" class="Symbol">→</a> <a id="955" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="957" class="Symbol">→</a> <a id="959" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="961" class="Symbol">→</a> <a id="963" class="PrimitiveType">Set</a> <a id="967" class="Keyword">where</a>
  <a id="_∼_⊔_.∼+"></a><a id="975" href="Data.AVL.Height.html#975" class="InductiveConstructor">∼+</a> <a id="978" class="Symbol">:</a> <a id="980" class="Symbol">∀</a> <a id="982" class="Symbol">{</a><a id="983" href="Data.AVL.Height.html#983" class="Bound">n</a><a id="984" class="Symbol">}</a> <a id="986" class="Symbol">→</a>     <a id="992" href="Data.AVL.Height.html#983" class="Bound">n</a> <a id="994" href="Data.AVL.Height.html#943" class="Datatype Operator">∼</a> <a id="996" class="Number">1</a> <a id="998" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="1000" href="Data.AVL.Height.html#983" class="Bound">n</a> <a id="1002" href="Data.AVL.Height.html#943" class="Datatype Operator">⊔</a> <a id="1004" class="Number">1</a> <a id="1006" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="1008" href="Data.AVL.Height.html#983" class="Bound">n</a>
  <a id="_∼_⊔_.∼0"></a><a id="1012" href="Data.AVL.Height.html#1012" class="InductiveConstructor">∼0</a> <a id="1015" class="Symbol">:</a> <a id="1017" class="Symbol">∀</a> <a id="1019" class="Symbol">{</a><a id="1020" href="Data.AVL.Height.html#1020" class="Bound">n</a><a id="1021" class="Symbol">}</a> <a id="1023" class="Symbol">→</a>     <a id="1029" href="Data.AVL.Height.html#1020" class="Bound">n</a> <a id="1031" href="Data.AVL.Height.html#943" class="Datatype Operator">∼</a> <a id="1033" href="Data.AVL.Height.html#1020" class="Bound">n</a>     <a id="1039" href="Data.AVL.Height.html#943" class="Datatype Operator">⊔</a> <a id="1041" href="Data.AVL.Height.html#1020" class="Bound">n</a>
  <a id="_∼_⊔_.∼-"></a><a id="1045" href="Data.AVL.Height.html#1045" class="InductiveConstructor">∼-</a> <a id="1048" class="Symbol">:</a> <a id="1050" class="Symbol">∀</a> <a id="1052" class="Symbol">{</a><a id="1053" href="Data.AVL.Height.html#1053" class="Bound">n</a><a id="1054" class="Symbol">}</a> <a id="1056" class="Symbol">→</a> <a id="1058" class="Number">1</a> <a id="1060" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="1062" href="Data.AVL.Height.html#1053" class="Bound">n</a> <a id="1064" href="Data.AVL.Height.html#943" class="Datatype Operator">∼</a> <a id="1066" href="Data.AVL.Height.html#1053" class="Bound">n</a>     <a id="1072" href="Data.AVL.Height.html#943" class="Datatype Operator">⊔</a> <a id="1074" class="Number">1</a> <a id="1076" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="1078" href="Data.AVL.Height.html#1053" class="Bound">n</a>

<a id="1081" class="Comment">-- Some lemmas.</a>

<a id="max∼"></a><a id="1098" href="Data.AVL.Height.html#1098" class="Function">max∼</a> <a id="1103" class="Symbol">:</a> <a id="1105" class="Symbol">∀</a> <a id="1107" class="Symbol">{</a><a id="1108" href="Data.AVL.Height.html#1108" class="Bound">i</a> <a id="1110" href="Data.AVL.Height.html#1110" class="Bound">j</a> <a id="1112" href="Data.AVL.Height.html#1112" class="Bound">m</a><a id="1113" class="Symbol">}</a> <a id="1115" class="Symbol">→</a> <a id="1117" href="Data.AVL.Height.html#1108" class="Bound">i</a> <a id="1119" href="Data.AVL.Height.html#943" class="Datatype Operator">∼</a> <a id="1121" href="Data.AVL.Height.html#1110" class="Bound">j</a> <a id="1123" href="Data.AVL.Height.html#943" class="Datatype Operator">⊔</a> <a id="1125" href="Data.AVL.Height.html#1112" class="Bound">m</a> <a id="1127" class="Symbol">→</a> <a id="1129" href="Data.AVL.Height.html#1112" class="Bound">m</a> <a id="1131" href="Data.AVL.Height.html#943" class="Datatype Operator">∼</a> <a id="1133" href="Data.AVL.Height.html#1108" class="Bound">i</a> <a id="1135" href="Data.AVL.Height.html#943" class="Datatype Operator">⊔</a> <a id="1137" href="Data.AVL.Height.html#1112" class="Bound">m</a>
<a id="1139" href="Data.AVL.Height.html#1098" class="Function">max∼</a> <a id="1144" href="Data.AVL.Height.html#975" class="InductiveConstructor">∼+</a> <a id="1147" class="Symbol">=</a> <a id="1149" href="Data.AVL.Height.html#1045" class="InductiveConstructor">∼-</a>
<a id="1152" href="Data.AVL.Height.html#1098" class="Function">max∼</a> <a id="1157" href="Data.AVL.Height.html#1012" class="InductiveConstructor">∼0</a> <a id="1160" class="Symbol">=</a> <a id="1162" href="Data.AVL.Height.html#1012" class="InductiveConstructor">∼0</a>
<a id="1165" href="Data.AVL.Height.html#1098" class="Function">max∼</a> <a id="1170" href="Data.AVL.Height.html#1045" class="InductiveConstructor">∼-</a> <a id="1173" class="Symbol">=</a> <a id="1175" href="Data.AVL.Height.html#1012" class="InductiveConstructor">∼0</a>

<a id="∼max"></a><a id="1179" href="Data.AVL.Height.html#1179" class="Function">∼max</a> <a id="1184" class="Symbol">:</a> <a id="1186" class="Symbol">∀</a> <a id="1188" class="Symbol">{</a><a id="1189" href="Data.AVL.Height.html#1189" class="Bound">i</a> <a id="1191" href="Data.AVL.Height.html#1191" class="Bound">j</a> <a id="1193" href="Data.AVL.Height.html#1193" class="Bound">m</a><a id="1194" class="Symbol">}</a> <a id="1196" class="Symbol">→</a> <a id="1198" href="Data.AVL.Height.html#1189" class="Bound">i</a> <a id="1200" href="Data.AVL.Height.html#943" class="Datatype Operator">∼</a> <a id="1202" href="Data.AVL.Height.html#1191" class="Bound">j</a> <a id="1204" href="Data.AVL.Height.html#943" class="Datatype Operator">⊔</a> <a id="1206" href="Data.AVL.Height.html#1193" class="Bound">m</a> <a id="1208" class="Symbol">→</a> <a id="1210" href="Data.AVL.Height.html#1191" class="Bound">j</a> <a id="1212" href="Data.AVL.Height.html#943" class="Datatype Operator">∼</a> <a id="1214" href="Data.AVL.Height.html#1193" class="Bound">m</a> <a id="1216" href="Data.AVL.Height.html#943" class="Datatype Operator">⊔</a> <a id="1218" href="Data.AVL.Height.html#1193" class="Bound">m</a>
<a id="1220" href="Data.AVL.Height.html#1179" class="Function">∼max</a> <a id="1225" href="Data.AVL.Height.html#975" class="InductiveConstructor">∼+</a> <a id="1228" class="Symbol">=</a> <a id="1230" href="Data.AVL.Height.html#1012" class="InductiveConstructor">∼0</a>
<a id="1233" href="Data.AVL.Height.html#1179" class="Function">∼max</a> <a id="1238" href="Data.AVL.Height.html#1012" class="InductiveConstructor">∼0</a> <a id="1241" class="Symbol">=</a> <a id="1243" href="Data.AVL.Height.html#1012" class="InductiveConstructor">∼0</a>
<a id="1246" href="Data.AVL.Height.html#1179" class="Function">∼max</a> <a id="1251" href="Data.AVL.Height.html#1045" class="InductiveConstructor">∼-</a> <a id="1254" class="Symbol">=</a> <a id="1256" href="Data.AVL.Height.html#975" class="InductiveConstructor">∼+</a>

</pre></body></html>