<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.M.Bisimilarity</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bisimilarity for M-types</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Option">--without-K</a> <a id="232" class="Symbol">#-}</a>

<a id="237" class="Keyword">module</a> <a id="244" href="Codata.M.Bisimilarity.html" class="Module">Codata.M.Bisimilarity</a> <a id="266" class="Keyword">where</a>

<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Level.html" class="Module">Level</a>
<a id="291" class="Keyword">open</a> <a id="296" class="Keyword">import</a> <a id="303" href="Size.html" class="Module">Size</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Codata.Thunk.html" class="Module">Codata.Thunk</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Codata.M.html" class="Module">Codata.M</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Data.Container.Core.html" class="Module">Data.Container.Core</a>
<a id="386" class="Keyword">import</a> <a id="393" href="Data.Container.html" class="Module">Data.Container</a> <a id="408" class="Symbol">as</a> <a id="411" class="Module">C</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Data.Product.html" class="Module">Data.Product</a> <a id="438" class="Keyword">using</a> <a id="444" class="Symbol">(</a><a id="445" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a><a id="448" class="Symbol">)</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Function.html" class="Module">Function</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="499" class="Keyword">import</a> <a id="506" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="544" class="Symbol">as</a> <a id="547" class="Module">P</a>

<a id="550" class="Keyword">data</a> <a id="Bisim"></a><a id="555" href="Codata.M.Bisimilarity.html#555" class="Datatype">Bisim</a> <a id="561" class="Symbol">{</a><a id="562" href="Codata.M.Bisimilarity.html#562" class="Bound">s</a> <a id="564" href="Codata.M.Bisimilarity.html#564" class="Bound">p</a><a id="565" class="Symbol">}</a> <a id="567" class="Symbol">(</a><a id="568" href="Codata.M.Bisimilarity.html#568" class="Bound">C</a> <a id="570" class="Symbol">:</a> <a id="572" href="Data.Container.Core.html#415" class="Record">Container</a> <a id="582" href="Codata.M.Bisimilarity.html#562" class="Bound">s</a> <a id="584" href="Codata.M.Bisimilarity.html#564" class="Bound">p</a><a id="585" class="Symbol">)</a> <a id="587" class="Symbol">(</a><a id="588" href="Codata.M.Bisimilarity.html#588" class="Bound">i</a> <a id="590" class="Symbol">:</a> <a id="592" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a><a id="596" class="Symbol">)</a> <a id="598" class="Symbol">:</a> <a id="600" href="Relation.Binary.Core.html#969" class="Function">Rel</a> <a id="604" class="Symbol">(</a><a id="605" href="Codata.M.html#449" class="Datatype">M</a> <a id="607" href="Codata.M.Bisimilarity.html#568" class="Bound">C</a> <a id="609" href="Agda.Builtin.Size.html#210" class="Postulate">∞</a><a id="610" class="Symbol">)</a> <a id="612" class="Symbol">(</a><a id="613" href="Codata.M.Bisimilarity.html#562" class="Bound">s</a> <a id="615" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="617" href="Codata.M.Bisimilarity.html#564" class="Bound">p</a><a id="618" class="Symbol">)</a> <a id="620" class="Keyword">where</a>
  <a id="Bisim.inf"></a><a id="628" href="Codata.M.Bisimilarity.html#628" class="InductiveConstructor">inf</a> <a id="632" class="Symbol">:</a> <a id="634" class="Symbol">∀</a> <a id="636" class="Symbol">{</a><a id="637" href="Codata.M.Bisimilarity.html#637" class="Bound">t</a> <a id="639" href="Codata.M.Bisimilarity.html#639" class="Bound">u</a><a id="640" class="Symbol">}</a> <a id="642" class="Symbol">→</a> <a id="644" href="Data.Container.html#1217" class="Function">C.Eq</a> <a id="649" href="Codata.M.Bisimilarity.html#568" class="Bound">C</a> <a id="651" class="Symbol">(</a><a id="652" href="Codata.Thunk.html#728" class="Function">Thunk^R</a> <a id="660" class="Symbol">(</a><a id="661" href="Codata.M.Bisimilarity.html#555" class="Datatype">Bisim</a> <a id="667" href="Codata.M.Bisimilarity.html#568" class="Bound">C</a><a id="668" class="Symbol">)</a> <a id="670" href="Codata.M.Bisimilarity.html#588" class="Bound">i</a><a id="671" class="Symbol">)</a> <a id="673" href="Codata.M.Bisimilarity.html#637" class="Bound">t</a> <a id="675" href="Codata.M.Bisimilarity.html#639" class="Bound">u</a> <a id="677" class="Symbol">→</a> <a id="679" href="Codata.M.Bisimilarity.html#555" class="Datatype">Bisim</a> <a id="685" href="Codata.M.Bisimilarity.html#568" class="Bound">C</a> <a id="687" href="Codata.M.Bisimilarity.html#588" class="Bound">i</a> <a id="689" class="Symbol">(</a><a id="690" href="Codata.M.html#510" class="InductiveConstructor">inf</a> <a id="694" href="Codata.M.Bisimilarity.html#637" class="Bound">t</a><a id="695" class="Symbol">)</a> <a id="697" class="Symbol">(</a><a id="698" href="Codata.M.html#510" class="InductiveConstructor">inf</a> <a id="702" href="Codata.M.Bisimilarity.html#639" class="Bound">u</a><a id="703" class="Symbol">)</a>

<a id="706" class="Keyword">module</a> <a id="713" href="Codata.M.Bisimilarity.html#713" class="Module">_</a> <a id="715" class="Symbol">{</a><a id="716" href="Codata.M.Bisimilarity.html#716" class="Bound">s</a> <a id="718" href="Codata.M.Bisimilarity.html#718" class="Bound">p</a><a id="719" class="Symbol">}</a> <a id="721" class="Symbol">{</a><a id="722" href="Codata.M.Bisimilarity.html#722" class="Bound">C</a> <a id="724" class="Symbol">:</a> <a id="726" href="Data.Container.Core.html#415" class="Record">Container</a> <a id="736" href="Codata.M.Bisimilarity.html#716" class="Bound">s</a> <a id="738" href="Codata.M.Bisimilarity.html#718" class="Bound">p</a><a id="739" class="Symbol">}</a> <a id="741" class="Keyword">where</a>

  <a id="750" class="Comment">-- unfortunately the proofs are a lot nicer if we do not use the combinators</a>
  <a id="829" class="Comment">-- C.refl, C.sym and C.trans</a>

  <a id="861" href="Codata.M.Bisimilarity.html#861" class="Function">refl</a> <a id="866" class="Symbol">:</a> <a id="868" class="Symbol">∀</a> <a id="870" class="Symbol">{</a><a id="871" href="Codata.M.Bisimilarity.html#871" class="Bound">i</a><a id="872" class="Symbol">}</a> <a id="874" class="Symbol">→</a> <a id="876" href="Relation.Binary.Core.html#2096" class="Function">Reflexive</a> <a id="886" class="Symbol">(</a><a id="887" href="Codata.M.Bisimilarity.html#555" class="Datatype">Bisim</a> <a id="893" href="Codata.M.Bisimilarity.html#722" class="Bound">C</a> <a id="895" href="Codata.M.Bisimilarity.html#871" class="Bound">i</a><a id="896" class="Symbol">)</a>
  <a id="900" href="Codata.M.Bisimilarity.html#861" class="Function">refl</a> <a id="905" class="Symbol">{</a><a id="906" class="Argument">x</a> <a id="908" class="Symbol">=</a> <a id="910" href="Codata.M.html#510" class="InductiveConstructor">inf</a> <a id="914" href="Codata.M.Bisimilarity.html#914" class="Bound">t</a><a id="915" class="Symbol">}</a> <a id="917" class="Symbol">=</a> <a id="919" href="Codata.M.Bisimilarity.html#628" class="InductiveConstructor">inf</a> <a id="923" class="Symbol">(</a><a id="924" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="931" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="933" class="Symbol">λ</a> <a id="935" class="Keyword">where</a> <a id="941" href="Codata.M.Bisimilarity.html#941" class="Bound">p</a> <a id="943" class="Symbol">.</a><a id="944" href="Codata.Thunk.html#523" class="Field">force</a> <a id="950" class="Symbol">→</a> <a id="952" href="Codata.M.Bisimilarity.html#861" class="Function">refl</a><a id="956" class="Symbol">)</a>

  <a id="961" href="Codata.M.Bisimilarity.html#961" class="Function">sym</a> <a id="965" class="Symbol">:</a> <a id="967" class="Symbol">∀</a> <a id="969" class="Symbol">{</a><a id="970" href="Codata.M.Bisimilarity.html#970" class="Bound">i</a><a id="971" class="Symbol">}</a> <a id="973" class="Symbol">→</a> <a id="975" href="Relation.Binary.Core.html#2519" class="Function">Symmetric</a> <a id="985" class="Symbol">(</a><a id="986" href="Codata.M.Bisimilarity.html#555" class="Datatype">Bisim</a> <a id="992" href="Codata.M.Bisimilarity.html#722" class="Bound">C</a> <a id="994" href="Codata.M.Bisimilarity.html#970" class="Bound">i</a><a id="995" class="Symbol">)</a>
  <a id="999" href="Codata.M.Bisimilarity.html#961" class="Function">sym</a>  <a id="1004" class="Symbol">(</a><a id="1005" href="Codata.M.Bisimilarity.html#628" class="InductiveConstructor">inf</a> <a id="1009" class="Symbol">(</a><a id="1010" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1017" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1019" href="Codata.M.Bisimilarity.html#1019" class="Bound">f</a><a id="1020" class="Symbol">))</a> <a id="1023" class="Symbol">=</a> <a id="1025" href="Codata.M.Bisimilarity.html#628" class="InductiveConstructor">inf</a> <a id="1029" class="Symbol">(</a><a id="1030" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1037" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1039" class="Symbol">λ</a> <a id="1041" class="Keyword">where</a> <a id="1047" href="Codata.M.Bisimilarity.html#1047" class="Bound">p</a> <a id="1049" class="Symbol">.</a><a id="1050" href="Codata.Thunk.html#523" class="Field">force</a> <a id="1056" class="Symbol">→</a> <a id="1058" href="Codata.M.Bisimilarity.html#961" class="Function">sym</a> <a id="1062" class="Symbol">(</a><a id="1063" href="Codata.M.Bisimilarity.html#1019" class="Bound">f</a> <a id="1065" href="Codata.M.Bisimilarity.html#1047" class="Bound">p</a> <a id="1067" class="Symbol">.</a><a id="1068" href="Codata.Thunk.html#523" class="Field">force</a><a id="1073" class="Symbol">))</a>

  <a id="1079" href="Codata.M.Bisimilarity.html#1079" class="Function">trans</a> <a id="1085" class="Symbol">:</a> <a id="1087" class="Symbol">∀</a> <a id="1089" class="Symbol">{</a><a id="1090" href="Codata.M.Bisimilarity.html#1090" class="Bound">i</a><a id="1091" class="Symbol">}</a> <a id="1093" class="Symbol">→</a> <a id="1095" href="Relation.Binary.Core.html#2998" class="Function">Transitive</a> <a id="1106" class="Symbol">(</a><a id="1107" href="Codata.M.Bisimilarity.html#555" class="Datatype">Bisim</a> <a id="1113" href="Codata.M.Bisimilarity.html#722" class="Bound">C</a> <a id="1115" href="Codata.M.Bisimilarity.html#1090" class="Bound">i</a><a id="1116" class="Symbol">)</a>
  <a id="1120" href="Codata.M.Bisimilarity.html#1079" class="Function">trans</a> <a id="1126" class="Symbol">(</a><a id="1127" href="Codata.M.Bisimilarity.html#628" class="InductiveConstructor">inf</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1139" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1141" href="Codata.M.Bisimilarity.html#1141" class="Bound">f</a><a id="1142" class="Symbol">))</a> <a id="1145" class="Symbol">(</a><a id="1146" href="Codata.M.Bisimilarity.html#628" class="InductiveConstructor">inf</a> <a id="1150" class="Symbol">(</a><a id="1151" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1158" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1160" href="Codata.M.Bisimilarity.html#1160" class="Bound">g</a><a id="1161" class="Symbol">))</a> <a id="1164" class="Symbol">=</a>
    <a id="1170" href="Codata.M.Bisimilarity.html#628" class="InductiveConstructor">inf</a> <a id="1174" class="Symbol">(</a><a id="1175" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1182" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1184" class="Symbol">λ</a> <a id="1186" class="Keyword">where</a> <a id="1192" href="Codata.M.Bisimilarity.html#1192" class="Bound">p</a> <a id="1194" class="Symbol">.</a><a id="1195" href="Codata.Thunk.html#523" class="Field">force</a> <a id="1201" class="Symbol">→</a> <a id="1203" href="Codata.M.Bisimilarity.html#1079" class="Function">trans</a> <a id="1209" class="Symbol">(</a><a id="1210" href="Codata.M.Bisimilarity.html#1141" class="Bound">f</a> <a id="1212" href="Codata.M.Bisimilarity.html#1192" class="Bound">p</a> <a id="1214" class="Symbol">.</a><a id="1215" href="Codata.Thunk.html#523" class="Field">force</a><a id="1220" class="Symbol">)</a> <a id="1222" class="Symbol">(</a><a id="1223" href="Codata.M.Bisimilarity.html#1160" class="Bound">g</a> <a id="1225" href="Codata.M.Bisimilarity.html#1192" class="Bound">p</a> <a id="1227" class="Symbol">.</a><a id="1228" href="Codata.Thunk.html#523" class="Field">force</a><a id="1233" class="Symbol">))</a>

  <a id="1239" href="Codata.M.Bisimilarity.html#1239" class="Function">isEquivalence</a> <a id="1253" class="Symbol">:</a> <a id="1255" class="Symbol">∀</a> <a id="1257" class="Symbol">{</a><a id="1258" href="Codata.M.Bisimilarity.html#1258" class="Bound">i</a><a id="1259" class="Symbol">}</a> <a id="1261" class="Symbol">→</a> <a id="1263" href="Relation.Binary.Core.html#5519" class="Record">IsEquivalence</a> <a id="1277" class="Symbol">(</a><a id="1278" href="Codata.M.Bisimilarity.html#555" class="Datatype">Bisim</a> <a id="1284" href="Codata.M.Bisimilarity.html#722" class="Bound">C</a> <a id="1286" href="Codata.M.Bisimilarity.html#1258" class="Bound">i</a><a id="1287" class="Symbol">)</a>
  <a id="1291" href="Codata.M.Bisimilarity.html#1239" class="Function">isEquivalence</a> <a id="1305" class="Symbol">=</a> <a id="1307" class="Keyword">record</a>
    <a id="1318" class="Symbol">{</a> <a id="1320" class="Field">refl</a>  <a id="1326" class="Symbol">=</a> <a id="1328" href="Codata.M.Bisimilarity.html#861" class="Function">refl</a>
    <a id="1337" class="Symbol">;</a> <a id="1339" class="Field">sym</a>   <a id="1345" class="Symbol">=</a> <a id="1347" href="Codata.M.Bisimilarity.html#961" class="Function">sym</a>
    <a id="1355" class="Symbol">;</a> <a id="1357" class="Field">trans</a> <a id="1363" class="Symbol">=</a> <a id="1365" href="Codata.M.Bisimilarity.html#1079" class="Function">trans</a>
    <a id="1375" class="Symbol">}</a>

  <a id="1380" href="Codata.M.Bisimilarity.html#1380" class="Function">setoid</a> <a id="1387" class="Symbol">:</a> <a id="1389" class="Symbol">{</a><a id="1390" href="Codata.M.Bisimilarity.html#1390" class="Bound">i</a> <a id="1392" class="Symbol">:</a> <a id="1394" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a><a id="1398" class="Symbol">}</a> <a id="1400" class="Symbol">→</a> <a id="1402" href="Relation.Binary.html#1923" class="Record">Setoid</a> <a id="1409" class="Symbol">(</a><a id="1410" href="Codata.M.Bisimilarity.html#716" class="Bound">s</a> <a id="1412" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1414" href="Codata.M.Bisimilarity.html#718" class="Bound">p</a><a id="1415" class="Symbol">)</a> <a id="1417" class="Symbol">(</a><a id="1418" href="Codata.M.Bisimilarity.html#716" class="Bound">s</a> <a id="1420" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1422" href="Codata.M.Bisimilarity.html#718" class="Bound">p</a><a id="1423" class="Symbol">)</a>
  <a id="1427" href="Codata.M.Bisimilarity.html#1380" class="Function">setoid</a> <a id="1434" class="Symbol">{</a><a id="1435" href="Codata.M.Bisimilarity.html#1435" class="Bound">i</a><a id="1436" class="Symbol">}</a> <a id="1438" class="Symbol">=</a> <a id="1440" class="Keyword">record</a> <a id="1447" class="Symbol">{</a> <a id="1449" class="Field">isEquivalence</a> <a id="1463" class="Symbol">=</a> <a id="1465" href="Codata.M.Bisimilarity.html#1239" class="Function">isEquivalence</a> <a id="1479" class="Symbol">{</a><a id="1480" href="Codata.M.Bisimilarity.html#1435" class="Bound">i</a><a id="1481" class="Symbol">}</a> <a id="1483" class="Symbol">}</a>
</pre></body></html>