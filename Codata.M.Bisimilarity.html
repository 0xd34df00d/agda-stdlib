<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.M.Bisimilarity</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bisimilarity for M-types</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Option">--without-K</a> <a id="232" class="Option">--safe</a> <a id="239" class="Symbol">#-}</a>

<a id="244" class="Keyword">module</a> <a id="251" href="Codata.M.Bisimilarity.html" class="Module">Codata.M.Bisimilarity</a> <a id="273" class="Keyword">where</a>

<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Level.html" class="Module">Level</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Size.html" class="Module">Size</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Codata.Thunk.html" class="Module">Codata.Thunk</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Codata.M.html" class="Module">Codata.M</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Data.Container.Core.html" class="Module">Data.Container.Core</a>
<a id="393" class="Keyword">import</a> <a id="400" href="Data.Container.html" class="Module">Data.Container</a> <a id="415" class="Symbol">as</a> <a id="418" class="Module">C</a>
<a id="420" class="Keyword">open</a> <a id="425" class="Keyword">import</a> <a id="432" href="Data.Product.html" class="Module">Data.Product</a> <a id="445" class="Keyword">using</a> <a id="451" class="Symbol">(</a><a id="452" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a><a id="455" class="Symbol">)</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Function.html" class="Module">Function</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="506" class="Keyword">import</a> <a id="513" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="551" class="Symbol">as</a> <a id="554" class="Module">P</a>

<a id="557" class="Keyword">data</a> <a id="Bisim"></a><a id="562" href="Codata.M.Bisimilarity.html#562" class="Datatype">Bisim</a> <a id="568" class="Symbol">{</a><a id="569" href="Codata.M.Bisimilarity.html#569" class="Bound">s</a> <a id="571" href="Codata.M.Bisimilarity.html#571" class="Bound">p</a><a id="572" class="Symbol">}</a> <a id="574" class="Symbol">(</a><a id="575" href="Codata.M.Bisimilarity.html#575" class="Bound">C</a> <a id="577" class="Symbol">:</a> <a id="579" href="Data.Container.Core.html#422" class="Record">Container</a> <a id="589" href="Codata.M.Bisimilarity.html#569" class="Bound">s</a> <a id="591" href="Codata.M.Bisimilarity.html#571" class="Bound">p</a><a id="592" class="Symbol">)</a> <a id="594" class="Symbol">(</a><a id="595" href="Codata.M.Bisimilarity.html#595" class="Bound">i</a> <a id="597" class="Symbol">:</a> <a id="599" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a><a id="603" class="Symbol">)</a> <a id="605" class="Symbol">:</a> <a id="607" href="Relation.Binary.Core.html#976" class="Function">Rel</a> <a id="611" class="Symbol">(</a><a id="612" href="Codata.M.html#456" class="Datatype">M</a> <a id="614" href="Codata.M.Bisimilarity.html#575" class="Bound">C</a> <a id="616" href="Agda.Builtin.Size.html#210" class="Postulate">∞</a><a id="617" class="Symbol">)</a> <a id="619" class="Symbol">(</a><a id="620" href="Codata.M.Bisimilarity.html#569" class="Bound">s</a> <a id="622" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="624" href="Codata.M.Bisimilarity.html#571" class="Bound">p</a><a id="625" class="Symbol">)</a> <a id="627" class="Keyword">where</a>
  <a id="Bisim.inf"></a><a id="635" href="Codata.M.Bisimilarity.html#635" class="InductiveConstructor">inf</a> <a id="639" class="Symbol">:</a> <a id="641" class="Symbol">∀</a> <a id="643" class="Symbol">{</a><a id="644" href="Codata.M.Bisimilarity.html#644" class="Bound">t</a> <a id="646" href="Codata.M.Bisimilarity.html#646" class="Bound">u</a><a id="647" class="Symbol">}</a> <a id="649" class="Symbol">→</a> <a id="651" href="Data.Container.html#1224" class="Function">C.Eq</a> <a id="656" href="Codata.M.Bisimilarity.html#575" class="Bound">C</a> <a id="658" class="Symbol">(</a><a id="659" href="Codata.Thunk.html#735" class="Function">Thunk^R</a> <a id="667" class="Symbol">(</a><a id="668" href="Codata.M.Bisimilarity.html#562" class="Datatype">Bisim</a> <a id="674" href="Codata.M.Bisimilarity.html#575" class="Bound">C</a><a id="675" class="Symbol">)</a> <a id="677" href="Codata.M.Bisimilarity.html#595" class="Bound">i</a><a id="678" class="Symbol">)</a> <a id="680" href="Codata.M.Bisimilarity.html#644" class="Bound">t</a> <a id="682" href="Codata.M.Bisimilarity.html#646" class="Bound">u</a> <a id="684" class="Symbol">→</a> <a id="686" href="Codata.M.Bisimilarity.html#562" class="Datatype">Bisim</a> <a id="692" href="Codata.M.Bisimilarity.html#575" class="Bound">C</a> <a id="694" href="Codata.M.Bisimilarity.html#595" class="Bound">i</a> <a id="696" class="Symbol">(</a><a id="697" href="Codata.M.html#517" class="InductiveConstructor">inf</a> <a id="701" href="Codata.M.Bisimilarity.html#644" class="Bound">t</a><a id="702" class="Symbol">)</a> <a id="704" class="Symbol">(</a><a id="705" href="Codata.M.html#517" class="InductiveConstructor">inf</a> <a id="709" href="Codata.M.Bisimilarity.html#646" class="Bound">u</a><a id="710" class="Symbol">)</a>

<a id="713" class="Keyword">module</a> <a id="720" href="Codata.M.Bisimilarity.html#720" class="Module">_</a> <a id="722" class="Symbol">{</a><a id="723" href="Codata.M.Bisimilarity.html#723" class="Bound">s</a> <a id="725" href="Codata.M.Bisimilarity.html#725" class="Bound">p</a><a id="726" class="Symbol">}</a> <a id="728" class="Symbol">{</a><a id="729" href="Codata.M.Bisimilarity.html#729" class="Bound">C</a> <a id="731" class="Symbol">:</a> <a id="733" href="Data.Container.Core.html#422" class="Record">Container</a> <a id="743" href="Codata.M.Bisimilarity.html#723" class="Bound">s</a> <a id="745" href="Codata.M.Bisimilarity.html#725" class="Bound">p</a><a id="746" class="Symbol">}</a> <a id="748" class="Keyword">where</a>

  <a id="757" class="Comment">-- unfortunately the proofs are a lot nicer if we do not use the combinators</a>
  <a id="836" class="Comment">-- C.refl, C.sym and C.trans</a>

  <a id="868" href="Codata.M.Bisimilarity.html#868" class="Function">refl</a> <a id="873" class="Symbol">:</a> <a id="875" class="Symbol">∀</a> <a id="877" class="Symbol">{</a><a id="878" href="Codata.M.Bisimilarity.html#878" class="Bound">i</a><a id="879" class="Symbol">}</a> <a id="881" class="Symbol">→</a> <a id="883" href="Relation.Binary.Core.html#2103" class="Function">Reflexive</a> <a id="893" class="Symbol">(</a><a id="894" href="Codata.M.Bisimilarity.html#562" class="Datatype">Bisim</a> <a id="900" href="Codata.M.Bisimilarity.html#729" class="Bound">C</a> <a id="902" href="Codata.M.Bisimilarity.html#878" class="Bound">i</a><a id="903" class="Symbol">)</a>
  <a id="907" href="Codata.M.Bisimilarity.html#868" class="Function">refl</a> <a id="912" class="Symbol">{</a><a id="913" class="Argument">x</a> <a id="915" class="Symbol">=</a> <a id="917" href="Codata.M.html#517" class="InductiveConstructor">inf</a> <a id="921" href="Codata.M.Bisimilarity.html#921" class="Bound">t</a><a id="922" class="Symbol">}</a> <a id="924" class="Symbol">=</a> <a id="926" href="Codata.M.Bisimilarity.html#635" class="InductiveConstructor">inf</a> <a id="930" class="Symbol">(</a><a id="931" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="938" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="940" class="Symbol">λ</a> <a id="942" class="Keyword">where</a> <a id="948" href="Codata.M.Bisimilarity.html#948" class="Bound">p</a> <a id="950" class="Symbol">.</a><a id="951" href="Codata.Thunk.html#530" class="Field">force</a> <a id="957" class="Symbol">→</a> <a id="959" href="Codata.M.Bisimilarity.html#868" class="Function">refl</a><a id="963" class="Symbol">)</a>

  <a id="968" href="Codata.M.Bisimilarity.html#968" class="Function">sym</a> <a id="972" class="Symbol">:</a> <a id="974" class="Symbol">∀</a> <a id="976" class="Symbol">{</a><a id="977" href="Codata.M.Bisimilarity.html#977" class="Bound">i</a><a id="978" class="Symbol">}</a> <a id="980" class="Symbol">→</a> <a id="982" href="Relation.Binary.Core.html#2526" class="Function">Symmetric</a> <a id="992" class="Symbol">(</a><a id="993" href="Codata.M.Bisimilarity.html#562" class="Datatype">Bisim</a> <a id="999" href="Codata.M.Bisimilarity.html#729" class="Bound">C</a> <a id="1001" href="Codata.M.Bisimilarity.html#977" class="Bound">i</a><a id="1002" class="Symbol">)</a>
  <a id="1006" href="Codata.M.Bisimilarity.html#968" class="Function">sym</a>  <a id="1011" class="Symbol">(</a><a id="1012" href="Codata.M.Bisimilarity.html#635" class="InductiveConstructor">inf</a> <a id="1016" class="Symbol">(</a><a id="1017" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1024" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1026" href="Codata.M.Bisimilarity.html#1026" class="Bound">f</a><a id="1027" class="Symbol">))</a> <a id="1030" class="Symbol">=</a> <a id="1032" href="Codata.M.Bisimilarity.html#635" class="InductiveConstructor">inf</a> <a id="1036" class="Symbol">(</a><a id="1037" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1044" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1046" class="Symbol">λ</a> <a id="1048" class="Keyword">where</a> <a id="1054" href="Codata.M.Bisimilarity.html#1054" class="Bound">p</a> <a id="1056" class="Symbol">.</a><a id="1057" href="Codata.Thunk.html#530" class="Field">force</a> <a id="1063" class="Symbol">→</a> <a id="1065" href="Codata.M.Bisimilarity.html#968" class="Function">sym</a> <a id="1069" class="Symbol">(</a><a id="1070" href="Codata.M.Bisimilarity.html#1026" class="Bound">f</a> <a id="1072" href="Codata.M.Bisimilarity.html#1054" class="Bound">p</a> <a id="1074" class="Symbol">.</a><a id="1075" href="Codata.Thunk.html#530" class="Field">force</a><a id="1080" class="Symbol">))</a>

  <a id="1086" href="Codata.M.Bisimilarity.html#1086" class="Function">trans</a> <a id="1092" class="Symbol">:</a> <a id="1094" class="Symbol">∀</a> <a id="1096" class="Symbol">{</a><a id="1097" href="Codata.M.Bisimilarity.html#1097" class="Bound">i</a><a id="1098" class="Symbol">}</a> <a id="1100" class="Symbol">→</a> <a id="1102" href="Relation.Binary.Core.html#3005" class="Function">Transitive</a> <a id="1113" class="Symbol">(</a><a id="1114" href="Codata.M.Bisimilarity.html#562" class="Datatype">Bisim</a> <a id="1120" href="Codata.M.Bisimilarity.html#729" class="Bound">C</a> <a id="1122" href="Codata.M.Bisimilarity.html#1097" class="Bound">i</a><a id="1123" class="Symbol">)</a>
  <a id="1127" href="Codata.M.Bisimilarity.html#1086" class="Function">trans</a> <a id="1133" class="Symbol">(</a><a id="1134" href="Codata.M.Bisimilarity.html#635" class="InductiveConstructor">inf</a> <a id="1138" class="Symbol">(</a><a id="1139" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1146" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1148" href="Codata.M.Bisimilarity.html#1148" class="Bound">f</a><a id="1149" class="Symbol">))</a> <a id="1152" class="Symbol">(</a><a id="1153" href="Codata.M.Bisimilarity.html#635" class="InductiveConstructor">inf</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1165" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1167" href="Codata.M.Bisimilarity.html#1167" class="Bound">g</a><a id="1168" class="Symbol">))</a> <a id="1171" class="Symbol">=</a>
    <a id="1177" href="Codata.M.Bisimilarity.html#635" class="InductiveConstructor">inf</a> <a id="1181" class="Symbol">(</a><a id="1182" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1189" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1191" class="Symbol">λ</a> <a id="1193" class="Keyword">where</a> <a id="1199" href="Codata.M.Bisimilarity.html#1199" class="Bound">p</a> <a id="1201" class="Symbol">.</a><a id="1202" href="Codata.Thunk.html#530" class="Field">force</a> <a id="1208" class="Symbol">→</a> <a id="1210" href="Codata.M.Bisimilarity.html#1086" class="Function">trans</a> <a id="1216" class="Symbol">(</a><a id="1217" href="Codata.M.Bisimilarity.html#1148" class="Bound">f</a> <a id="1219" href="Codata.M.Bisimilarity.html#1199" class="Bound">p</a> <a id="1221" class="Symbol">.</a><a id="1222" href="Codata.Thunk.html#530" class="Field">force</a><a id="1227" class="Symbol">)</a> <a id="1229" class="Symbol">(</a><a id="1230" href="Codata.M.Bisimilarity.html#1167" class="Bound">g</a> <a id="1232" href="Codata.M.Bisimilarity.html#1199" class="Bound">p</a> <a id="1234" class="Symbol">.</a><a id="1235" href="Codata.Thunk.html#530" class="Field">force</a><a id="1240" class="Symbol">))</a>

  <a id="1246" href="Codata.M.Bisimilarity.html#1246" class="Function">isEquivalence</a> <a id="1260" class="Symbol">:</a> <a id="1262" class="Symbol">∀</a> <a id="1264" class="Symbol">{</a><a id="1265" href="Codata.M.Bisimilarity.html#1265" class="Bound">i</a><a id="1266" class="Symbol">}</a> <a id="1268" class="Symbol">→</a> <a id="1270" href="Relation.Binary.Core.html#5707" class="Record">IsEquivalence</a> <a id="1284" class="Symbol">(</a><a id="1285" href="Codata.M.Bisimilarity.html#562" class="Datatype">Bisim</a> <a id="1291" href="Codata.M.Bisimilarity.html#729" class="Bound">C</a> <a id="1293" href="Codata.M.Bisimilarity.html#1265" class="Bound">i</a><a id="1294" class="Symbol">)</a>
  <a id="1298" href="Codata.M.Bisimilarity.html#1246" class="Function">isEquivalence</a> <a id="1312" class="Symbol">=</a> <a id="1314" class="Keyword">record</a>
    <a id="1325" class="Symbol">{</a> <a id="1327" class="Field">refl</a>  <a id="1333" class="Symbol">=</a> <a id="1335" href="Codata.M.Bisimilarity.html#868" class="Function">refl</a>
    <a id="1344" class="Symbol">;</a> <a id="1346" class="Field">sym</a>   <a id="1352" class="Symbol">=</a> <a id="1354" href="Codata.M.Bisimilarity.html#968" class="Function">sym</a>
    <a id="1362" class="Symbol">;</a> <a id="1364" class="Field">trans</a> <a id="1370" class="Symbol">=</a> <a id="1372" href="Codata.M.Bisimilarity.html#1086" class="Function">trans</a>
    <a id="1382" class="Symbol">}</a>

  <a id="1387" href="Codata.M.Bisimilarity.html#1387" class="Function">setoid</a> <a id="1394" class="Symbol">:</a> <a id="1396" class="Symbol">{</a><a id="1397" href="Codata.M.Bisimilarity.html#1397" class="Bound">i</a> <a id="1399" class="Symbol">:</a> <a id="1401" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a><a id="1405" class="Symbol">}</a> <a id="1407" class="Symbol">→</a> <a id="1409" href="Relation.Binary.html#1930" class="Record">Setoid</a> <a id="1416" class="Symbol">(</a><a id="1417" href="Codata.M.Bisimilarity.html#723" class="Bound">s</a> <a id="1419" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1421" href="Codata.M.Bisimilarity.html#725" class="Bound">p</a><a id="1422" class="Symbol">)</a> <a id="1424" class="Symbol">(</a><a id="1425" href="Codata.M.Bisimilarity.html#723" class="Bound">s</a> <a id="1427" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1429" href="Codata.M.Bisimilarity.html#725" class="Bound">p</a><a id="1430" class="Symbol">)</a>
  <a id="1434" href="Codata.M.Bisimilarity.html#1387" class="Function">setoid</a> <a id="1441" class="Symbol">{</a><a id="1442" href="Codata.M.Bisimilarity.html#1442" class="Bound">i</a><a id="1443" class="Symbol">}</a> <a id="1445" class="Symbol">=</a> <a id="1447" class="Keyword">record</a> <a id="1454" class="Symbol">{</a> <a id="1456" class="Field">isEquivalence</a> <a id="1470" class="Symbol">=</a> <a id="1472" href="Codata.M.Bisimilarity.html#1246" class="Function">isEquivalence</a> <a id="1486" class="Symbol">{</a><a id="1487" href="Codata.M.Bisimilarity.html#1442" class="Bound">i</a><a id="1488" class="Symbol">}</a> <a id="1490" class="Symbol">}</a>
</pre></body></html>