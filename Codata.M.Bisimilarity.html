<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.M.Bisimilarity</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bisimilarity for M-types</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Keyword">module</a> <a id="215" href="Codata.M.Bisimilarity.html" class="Module">Codata.M.Bisimilarity</a> <a id="237" class="Keyword">where</a>

<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="Level.html" class="Module">Level</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Size.html" class="Module">Size</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Codata.Thunk.html" class="Module">Codata.Thunk</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Codata.M.html" class="Module">Codata.M</a>
<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Data.Container.Core.html" class="Module">Data.Container.Core</a>
<a id="357" class="Keyword">import</a> <a id="364" href="Data.Container.html" class="Module">Data.Container</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">C</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.Product.html" class="Module">Data.Product</a> <a id="409" class="Keyword">using</a> <a id="415" class="Symbol">(</a><a id="416" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a><a id="419" class="Symbol">)</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Function.html" class="Module">Function</a>
<a id="442" class="Keyword">open</a> <a id="447" class="Keyword">import</a> <a id="454" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="470" class="Keyword">import</a> <a id="477" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="515" class="Symbol">as</a> <a id="518" class="Module">P</a>

<a id="521" class="Keyword">data</a> <a id="Bisim"></a><a id="526" href="Codata.M.Bisimilarity.html#526" class="Datatype">Bisim</a> <a id="532" class="Symbol">{</a><a id="533" href="Codata.M.Bisimilarity.html#533" class="Bound">s</a> <a id="535" href="Codata.M.Bisimilarity.html#535" class="Bound">p</a><a id="536" class="Symbol">}</a> <a id="538" class="Symbol">(</a><a id="539" href="Codata.M.Bisimilarity.html#539" class="Bound">C</a> <a id="541" class="Symbol">:</a> <a id="543" href="Data.Container.Core.html#386" class="Record">Container</a> <a id="553" href="Codata.M.Bisimilarity.html#533" class="Bound">s</a> <a id="555" href="Codata.M.Bisimilarity.html#535" class="Bound">p</a><a id="556" class="Symbol">)</a> <a id="558" class="Symbol">(</a><a id="559" href="Codata.M.Bisimilarity.html#559" class="Bound">i</a> <a id="561" class="Symbol">:</a> <a id="563" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a><a id="567" class="Symbol">)</a> <a id="569" class="Symbol">:</a> <a id="571" href="Relation.Binary.Core.html#940" class="Function">Rel</a> <a id="575" class="Symbol">(</a><a id="576" href="Codata.M.html#420" class="Datatype">M</a> <a id="578" href="Codata.M.Bisimilarity.html#539" class="Bound">C</a> <a id="580" href="Agda.Builtin.Size.html#210" class="Postulate">∞</a><a id="581" class="Symbol">)</a> <a id="583" class="Symbol">(</a><a id="584" href="Codata.M.Bisimilarity.html#533" class="Bound">s</a> <a id="586" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="588" href="Codata.M.Bisimilarity.html#535" class="Bound">p</a><a id="589" class="Symbol">)</a> <a id="591" class="Keyword">where</a>
  <a id="Bisim.inf"></a><a id="599" href="Codata.M.Bisimilarity.html#599" class="InductiveConstructor">inf</a> <a id="603" class="Symbol">:</a> <a id="605" class="Symbol">∀</a> <a id="607" class="Symbol">{</a><a id="608" href="Codata.M.Bisimilarity.html#608" class="Bound">t</a> <a id="610" href="Codata.M.Bisimilarity.html#610" class="Bound">u</a><a id="611" class="Symbol">}</a> <a id="613" class="Symbol">→</a> <a id="615" href="Data.Container.html#1188" class="Function">C.Eq</a> <a id="620" href="Codata.M.Bisimilarity.html#539" class="Bound">C</a> <a id="622" class="Symbol">(</a><a id="623" href="Codata.Thunk.html#699" class="Function">Thunk^R</a> <a id="631" class="Symbol">(</a><a id="632" href="Codata.M.Bisimilarity.html#526" class="Datatype">Bisim</a> <a id="638" href="Codata.M.Bisimilarity.html#539" class="Bound">C</a><a id="639" class="Symbol">)</a> <a id="641" href="Codata.M.Bisimilarity.html#559" class="Bound">i</a><a id="642" class="Symbol">)</a> <a id="644" href="Codata.M.Bisimilarity.html#608" class="Bound">t</a> <a id="646" href="Codata.M.Bisimilarity.html#610" class="Bound">u</a> <a id="648" class="Symbol">→</a> <a id="650" href="Codata.M.Bisimilarity.html#526" class="Datatype">Bisim</a> <a id="656" href="Codata.M.Bisimilarity.html#539" class="Bound">C</a> <a id="658" href="Codata.M.Bisimilarity.html#559" class="Bound">i</a> <a id="660" class="Symbol">(</a><a id="661" href="Codata.M.html#481" class="InductiveConstructor">inf</a> <a id="665" href="Codata.M.Bisimilarity.html#608" class="Bound">t</a><a id="666" class="Symbol">)</a> <a id="668" class="Symbol">(</a><a id="669" href="Codata.M.html#481" class="InductiveConstructor">inf</a> <a id="673" href="Codata.M.Bisimilarity.html#610" class="Bound">u</a><a id="674" class="Symbol">)</a>

<a id="677" class="Keyword">module</a> <a id="684" href="Codata.M.Bisimilarity.html#684" class="Module">_</a> <a id="686" class="Symbol">{</a><a id="687" href="Codata.M.Bisimilarity.html#687" class="Bound">s</a> <a id="689" href="Codata.M.Bisimilarity.html#689" class="Bound">p</a><a id="690" class="Symbol">}</a> <a id="692" class="Symbol">{</a><a id="693" href="Codata.M.Bisimilarity.html#693" class="Bound">C</a> <a id="695" class="Symbol">:</a> <a id="697" href="Data.Container.Core.html#386" class="Record">Container</a> <a id="707" href="Codata.M.Bisimilarity.html#687" class="Bound">s</a> <a id="709" href="Codata.M.Bisimilarity.html#689" class="Bound">p</a><a id="710" class="Symbol">}</a> <a id="712" class="Keyword">where</a>

  <a id="721" class="Comment">-- unfortunately the proofs are a lot nicer if we do not use the combinators</a>
  <a id="800" class="Comment">-- C.refl, C.sym and C.trans</a>

  <a id="832" href="Codata.M.Bisimilarity.html#832" class="Function">refl</a> <a id="837" class="Symbol">:</a> <a id="839" class="Symbol">∀</a> <a id="841" class="Symbol">{</a><a id="842" href="Codata.M.Bisimilarity.html#842" class="Bound">i</a><a id="843" class="Symbol">}</a> <a id="845" class="Symbol">→</a> <a id="847" href="Relation.Binary.Core.html#2067" class="Function">Reflexive</a> <a id="857" class="Symbol">(</a><a id="858" href="Codata.M.Bisimilarity.html#526" class="Datatype">Bisim</a> <a id="864" href="Codata.M.Bisimilarity.html#693" class="Bound">C</a> <a id="866" href="Codata.M.Bisimilarity.html#842" class="Bound">i</a><a id="867" class="Symbol">)</a>
  <a id="871" href="Codata.M.Bisimilarity.html#832" class="Function">refl</a> <a id="876" class="Symbol">{</a><a id="877" class="Argument">x</a> <a id="879" class="Symbol">=</a> <a id="881" href="Codata.M.html#481" class="InductiveConstructor">inf</a> <a id="885" href="Codata.M.Bisimilarity.html#885" class="Bound">t</a><a id="886" class="Symbol">}</a> <a id="888" class="Symbol">=</a> <a id="890" href="Codata.M.Bisimilarity.html#599" class="InductiveConstructor">inf</a> <a id="894" class="Symbol">(</a><a id="895" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="902" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="904" class="Symbol">λ</a> <a id="906" class="Keyword">where</a> <a id="912" href="Codata.M.Bisimilarity.html#912" class="Bound">p</a> <a id="914" class="Symbol">.</a><a id="915" href="Codata.Thunk.html#494" class="Field">force</a> <a id="921" class="Symbol">→</a> <a id="923" href="Codata.M.Bisimilarity.html#832" class="Function">refl</a><a id="927" class="Symbol">)</a>

  <a id="932" href="Codata.M.Bisimilarity.html#932" class="Function">sym</a> <a id="936" class="Symbol">:</a> <a id="938" class="Symbol">∀</a> <a id="940" class="Symbol">{</a><a id="941" href="Codata.M.Bisimilarity.html#941" class="Bound">i</a><a id="942" class="Symbol">}</a> <a id="944" class="Symbol">→</a> <a id="946" href="Relation.Binary.Core.html#2490" class="Function">Symmetric</a> <a id="956" class="Symbol">(</a><a id="957" href="Codata.M.Bisimilarity.html#526" class="Datatype">Bisim</a> <a id="963" href="Codata.M.Bisimilarity.html#693" class="Bound">C</a> <a id="965" href="Codata.M.Bisimilarity.html#941" class="Bound">i</a><a id="966" class="Symbol">)</a>
  <a id="970" href="Codata.M.Bisimilarity.html#932" class="Function">sym</a>  <a id="975" class="Symbol">(</a><a id="976" href="Codata.M.Bisimilarity.html#599" class="InductiveConstructor">inf</a> <a id="980" class="Symbol">(</a><a id="981" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="988" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="990" href="Codata.M.Bisimilarity.html#990" class="Bound">f</a><a id="991" class="Symbol">))</a> <a id="994" class="Symbol">=</a> <a id="996" href="Codata.M.Bisimilarity.html#599" class="InductiveConstructor">inf</a> <a id="1000" class="Symbol">(</a><a id="1001" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1008" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1010" class="Symbol">λ</a> <a id="1012" class="Keyword">where</a> <a id="1018" href="Codata.M.Bisimilarity.html#1018" class="Bound">p</a> <a id="1020" class="Symbol">.</a><a id="1021" href="Codata.Thunk.html#494" class="Field">force</a> <a id="1027" class="Symbol">→</a> <a id="1029" href="Codata.M.Bisimilarity.html#932" class="Function">sym</a> <a id="1033" class="Symbol">(</a><a id="1034" href="Codata.M.Bisimilarity.html#990" class="Bound">f</a> <a id="1036" href="Codata.M.Bisimilarity.html#1018" class="Bound">p</a> <a id="1038" class="Symbol">.</a><a id="1039" href="Codata.Thunk.html#494" class="Field">force</a><a id="1044" class="Symbol">))</a>

  <a id="1050" href="Codata.M.Bisimilarity.html#1050" class="Function">trans</a> <a id="1056" class="Symbol">:</a> <a id="1058" class="Symbol">∀</a> <a id="1060" class="Symbol">{</a><a id="1061" href="Codata.M.Bisimilarity.html#1061" class="Bound">i</a><a id="1062" class="Symbol">}</a> <a id="1064" class="Symbol">→</a> <a id="1066" href="Relation.Binary.Core.html#2969" class="Function">Transitive</a> <a id="1077" class="Symbol">(</a><a id="1078" href="Codata.M.Bisimilarity.html#526" class="Datatype">Bisim</a> <a id="1084" href="Codata.M.Bisimilarity.html#693" class="Bound">C</a> <a id="1086" href="Codata.M.Bisimilarity.html#1061" class="Bound">i</a><a id="1087" class="Symbol">)</a>
  <a id="1091" href="Codata.M.Bisimilarity.html#1050" class="Function">trans</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Codata.M.Bisimilarity.html#599" class="InductiveConstructor">inf</a> <a id="1102" class="Symbol">(</a><a id="1103" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1110" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1112" href="Codata.M.Bisimilarity.html#1112" class="Bound">f</a><a id="1113" class="Symbol">))</a> <a id="1116" class="Symbol">(</a><a id="1117" href="Codata.M.Bisimilarity.html#599" class="InductiveConstructor">inf</a> <a id="1121" class="Symbol">(</a><a id="1122" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1129" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1131" href="Codata.M.Bisimilarity.html#1131" class="Bound">g</a><a id="1132" class="Symbol">))</a> <a id="1135" class="Symbol">=</a>
    <a id="1141" href="Codata.M.Bisimilarity.html#599" class="InductiveConstructor">inf</a> <a id="1145" class="Symbol">(</a><a id="1146" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">P.refl</a> <a id="1153" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1155" class="Symbol">λ</a> <a id="1157" class="Keyword">where</a> <a id="1163" href="Codata.M.Bisimilarity.html#1163" class="Bound">p</a> <a id="1165" class="Symbol">.</a><a id="1166" href="Codata.Thunk.html#494" class="Field">force</a> <a id="1172" class="Symbol">→</a> <a id="1174" href="Codata.M.Bisimilarity.html#1050" class="Function">trans</a> <a id="1180" class="Symbol">(</a><a id="1181" href="Codata.M.Bisimilarity.html#1112" class="Bound">f</a> <a id="1183" href="Codata.M.Bisimilarity.html#1163" class="Bound">p</a> <a id="1185" class="Symbol">.</a><a id="1186" href="Codata.Thunk.html#494" class="Field">force</a><a id="1191" class="Symbol">)</a> <a id="1193" class="Symbol">(</a><a id="1194" href="Codata.M.Bisimilarity.html#1131" class="Bound">g</a> <a id="1196" href="Codata.M.Bisimilarity.html#1163" class="Bound">p</a> <a id="1198" class="Symbol">.</a><a id="1199" href="Codata.Thunk.html#494" class="Field">force</a><a id="1204" class="Symbol">))</a>

  <a id="1210" href="Codata.M.Bisimilarity.html#1210" class="Function">isEquivalence</a> <a id="1224" class="Symbol">:</a> <a id="1226" class="Symbol">∀</a> <a id="1228" class="Symbol">{</a><a id="1229" href="Codata.M.Bisimilarity.html#1229" class="Bound">i</a><a id="1230" class="Symbol">}</a> <a id="1232" class="Symbol">→</a> <a id="1234" href="Relation.Binary.Core.html#5490" class="Record">IsEquivalence</a> <a id="1248" class="Symbol">(</a><a id="1249" href="Codata.M.Bisimilarity.html#526" class="Datatype">Bisim</a> <a id="1255" href="Codata.M.Bisimilarity.html#693" class="Bound">C</a> <a id="1257" href="Codata.M.Bisimilarity.html#1229" class="Bound">i</a><a id="1258" class="Symbol">)</a>
  <a id="1262" href="Codata.M.Bisimilarity.html#1210" class="Function">isEquivalence</a> <a id="1276" class="Symbol">=</a> <a id="1278" class="Keyword">record</a>
    <a id="1289" class="Symbol">{</a> <a id="1291" class="Field">refl</a>  <a id="1297" class="Symbol">=</a> <a id="1299" href="Codata.M.Bisimilarity.html#832" class="Function">refl</a>
    <a id="1308" class="Symbol">;</a> <a id="1310" class="Field">sym</a>   <a id="1316" class="Symbol">=</a> <a id="1318" href="Codata.M.Bisimilarity.html#932" class="Function">sym</a>
    <a id="1326" class="Symbol">;</a> <a id="1328" class="Field">trans</a> <a id="1334" class="Symbol">=</a> <a id="1336" href="Codata.M.Bisimilarity.html#1050" class="Function">trans</a>
    <a id="1346" class="Symbol">}</a>

  <a id="1351" href="Codata.M.Bisimilarity.html#1351" class="Function">setoid</a> <a id="1358" class="Symbol">:</a> <a id="1360" class="Symbol">{</a><a id="1361" href="Codata.M.Bisimilarity.html#1361" class="Bound">i</a> <a id="1363" class="Symbol">:</a> <a id="1365" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a><a id="1369" class="Symbol">}</a> <a id="1371" class="Symbol">→</a> <a id="1373" href="Relation.Binary.html#1894" class="Record">Setoid</a> <a id="1380" class="Symbol">(</a><a id="1381" href="Codata.M.Bisimilarity.html#687" class="Bound">s</a> <a id="1383" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1385" href="Codata.M.Bisimilarity.html#689" class="Bound">p</a><a id="1386" class="Symbol">)</a> <a id="1388" class="Symbol">(</a><a id="1389" href="Codata.M.Bisimilarity.html#687" class="Bound">s</a> <a id="1391" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1393" href="Codata.M.Bisimilarity.html#689" class="Bound">p</a><a id="1394" class="Symbol">)</a>
  <a id="1398" href="Codata.M.Bisimilarity.html#1351" class="Function">setoid</a> <a id="1405" class="Symbol">{</a><a id="1406" href="Codata.M.Bisimilarity.html#1406" class="Bound">i</a><a id="1407" class="Symbol">}</a> <a id="1409" class="Symbol">=</a> <a id="1411" class="Keyword">record</a> <a id="1418" class="Symbol">{</a> <a id="1420" class="Field">isEquivalence</a> <a id="1434" class="Symbol">=</a> <a id="1436" href="Codata.M.Bisimilarity.html#1210" class="Function">isEquivalence</a> <a id="1450" class="Symbol">{</a><a id="1451" href="Codata.M.Bisimilarity.html#1406" class="Bound">i</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">}</a>
</pre></body></html>