<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.List.Countdown</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- A data structure which keeps track of an upper bound on the number</a>
<a id="176" class="Comment">-- of elements /not/ in a given list</a>
<a id="213" class="Comment">------------------------------------------------------------------------</a>

<a id="287" class="Keyword">import</a> <a id="294" href="Level.html" class="Module">Level</a>
<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Relation.Binary.html" class="Module">Relation.Binary</a>

<a id="329" class="Keyword">module</a> <a id="336" href="Data.List.Countdown.html" class="Module">Data.List.Countdown</a> <a id="356" class="Symbol">(</a><a id="357" href="Data.List.Countdown.html#357" class="Bound">D</a> <a id="359" class="Symbol">:</a> <a id="361" href="Relation.Binary.html#2977" class="Record">DecSetoid</a> <a id="371" href="Agda.Primitive.html#611" class="Primitive">Level.zero</a> <a id="382" href="Agda.Primitive.html#611" class="Primitive">Level.zero</a><a id="392" class="Symbol">)</a> <a id="394" class="Keyword">where</a>

<a id="401" class="Keyword">open</a> <a id="406" class="Keyword">import</a> <a id="413" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="445" class="Keyword">using</a> <a id="451" class="Symbol">(</a><a id="452" href="Data.Fin.html#923" class="Datatype">Fin</a><a id="455" class="Symbol">;</a> <a id="457" href="Data.Fin.html#945" class="InductiveConstructor">zero</a><a id="461" class="Symbol">;</a> <a id="463" href="Data.Fin.html#976" class="InductiveConstructor">suc</a><a id="466" class="Symbol">;</a> <a id="468" href="Data.Fin.html#4733" class="Function">punchOut</a><a id="476" class="Symbol">)</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a>
  <a id="512" class="Keyword">using</a> <a id="518" class="Symbol">(</a><a id="519" href="Data.Fin.Properties.html#1114" class="Function">suc-injective</a><a id="532" class="Symbol">;</a> <a id="534" href="Data.Fin.Properties.html#11015" class="Function">punchOut-injective</a><a id="552" class="Symbol">)</a>
<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="Function.html" class="Module">Function</a>
<a id="575" class="Keyword">open</a> <a id="580" class="Keyword">import</a> <a id="587" href="Function.Equality.html" class="Module">Function.Equality</a> <a id="605" class="Keyword">using</a> <a id="611" class="Symbol">(</a><a id="612" href="Function.Equality.html#681" class="Field Operator">_⟨$⟩_</a><a id="617" class="Symbol">)</a>
<a id="619" class="Keyword">open</a> <a id="624" class="Keyword">import</a> <a id="631" href="Function.Injection.html" class="Module">Function.Injection</a>
  <a id="652" class="Keyword">using</a> <a id="658" class="Symbol">(</a><a id="659" href="Function.Injection.html#793" class="Record">Injection</a><a id="668" class="Symbol">;</a> <a id="670" class="Keyword">module</a> <a id="677" href="Function.Injection.html#793" class="Module">Injection</a><a id="686" class="Symbol">)</a>
<a id="688" class="Keyword">open</a> <a id="693" class="Keyword">import</a> <a id="700" href="Data.List.html" class="Module">Data.List</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Data.List.Any.html" class="Module">Data.List.Any</a> <a id="736" class="Symbol">as</a> <a id="739" class="Module">Any</a> <a id="743" class="Keyword">using</a> <a id="749" class="Symbol">(</a><a id="750" href="Data.List.Any.html#748" class="InductiveConstructor">here</a><a id="754" class="Symbol">;</a> <a id="756" href="Data.List.Any.html#801" class="InductiveConstructor">there</a><a id="761" class="Symbol">)</a>
<a id="763" class="Keyword">open</a> <a id="768" class="Keyword">import</a> <a id="775" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="789" class="Keyword">using</a> <a id="795" class="Symbol">(</a><a id="796" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="797" class="Symbol">;</a> <a id="799" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="803" class="Symbol">;</a> <a id="805" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="808" class="Symbol">)</a>
<a id="810" class="Keyword">open</a> <a id="815" class="Keyword">import</a> <a id="822" href="Data.Product.html" class="Module">Data.Product</a>
<a id="835" class="Keyword">open</a> <a id="840" class="Keyword">import</a> <a id="847" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="856" class="Keyword">open</a> <a id="861" class="Keyword">import</a> <a id="868" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="885" class="Keyword">open</a> <a id="890" class="Keyword">import</a> <a id="897" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="935" class="Symbol">as</a> <a id="938" class="Module">PropEq</a>
  <a id="947" class="Keyword">using</a> <a id="953" class="Symbol">(</a><a id="954" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="957" class="Symbol">;</a> <a id="959" href="Relation.Binary.Core.html#4493" class="Function Operator">_≢_</a><a id="962" class="Symbol">;</a> <a id="964" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="968" class="Symbol">;</a> <a id="970" href="Relation.Binary.PropositionalEquality.html#981" class="Function">cong</a><a id="974" class="Symbol">)</a>
<a id="976" class="Keyword">open</a> <a id="981" href="Relation.Binary.PropositionalEquality.html#3767" class="Module">PropEq.≡-Reasoning</a>

<a id="1001" class="Keyword">private</a>
  <a id="1011" class="Keyword">open</a> <a id="1016" class="Keyword">module</a> <a id="1023" href="Data.List.Countdown.html#1023" class="Module">D</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Relation.Binary.html#2977" class="Module">DecSetoid</a> <a id="1037" href="Data.List.Countdown.html#357" class="Bound">D</a>
    <a id="1043" class="Keyword">hiding</a> <a id="1050" class="Symbol">(</a><a id="1051" href="Relation.Binary.Core.html#4934" class="Function">refl</a><a id="1055" class="Symbol">)</a> <a id="1057" class="Keyword">renaming</a> <a id="1066" class="Symbol">(</a><a id="1067" href="Relation.Binary.html#3043" class="Field">Carrier</a> <a id="1075" class="Symbol">to</a> <a id="1078" href="Relation.Binary.html#3043" class="Field">Elem</a><a id="1082" class="Symbol">)</a>
  <a id="1086" class="Keyword">open</a> <a id="1091" class="Keyword">import</a> <a id="1098" href="Data.List.Any.Membership.html" class="Module">Data.List.Any.Membership</a> <a id="1123" href="Relation.Binary.html#3201" class="Function">D.setoid</a>

<a id="1133" class="Comment">------------------------------------------------------------------------</a>
<a id="1206" class="Comment">-- Helper functions</a>

<a id="1227" class="Keyword">private</a>

  <a id="1238" href="Data.List.Countdown.html#1238" class="Function">drop-inj₂</a> <a id="1248" class="Symbol">:</a> <a id="1250" class="Symbol">∀</a> <a id="1252" class="Symbol">{</a><a id="1253" href="Data.List.Countdown.html#1253" class="Bound">A</a> <a id="1255" href="Data.List.Countdown.html#1255" class="Bound">B</a> <a id="1257" class="Symbol">:</a> <a id="1259" class="PrimitiveType">Set</a><a id="1262" class="Symbol">}</a> <a id="1264" class="Symbol">{</a><a id="1265" href="Data.List.Countdown.html#1265" class="Bound">x</a> <a id="1267" href="Data.List.Countdown.html#1267" class="Bound">y</a><a id="1268" class="Symbol">}</a> <a id="1270" class="Symbol">→</a>
              <a id="1286" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="1291" class="Symbol">{</a><a id="1292" class="Argument">A</a> <a id="1294" class="Symbol">=</a> <a id="1296" href="Data.List.Countdown.html#1253" class="Bound">A</a><a id="1297" class="Symbol">}</a> <a id="1299" class="Symbol">{</a><a id="1300" class="Argument">B</a> <a id="1302" class="Symbol">=</a> <a id="1304" href="Data.List.Countdown.html#1255" class="Bound">B</a><a id="1305" class="Symbol">}</a> <a id="1307" href="Data.List.Countdown.html#1265" class="Bound">x</a> <a id="1309" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1311" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="1316" href="Data.List.Countdown.html#1267" class="Bound">y</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="Data.List.Countdown.html#1265" class="Bound">x</a> <a id="1322" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1324" href="Data.List.Countdown.html#1267" class="Bound">y</a>
  <a id="1328" href="Data.List.Countdown.html#1238" class="Function">drop-inj₂</a> <a id="1338" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1343" class="Symbol">=</a> <a id="1345" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="1353" class="Comment">-- The /first/ occurrence of x in xs.</a>

  <a id="1394" href="Data.List.Countdown.html#1394" class="Function">first-occurrence</a> <a id="1411" class="Symbol">:</a> <a id="1413" class="Symbol">∀</a> <a id="1415" class="Symbol">{</a><a id="1416" href="Data.List.Countdown.html#1416" class="Bound">xs</a><a id="1418" class="Symbol">}</a> <a id="1420" href="Data.List.Countdown.html#1420" class="Bound">x</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Data.List.Countdown.html#1420" class="Bound">x</a> <a id="1426" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="1428" href="Data.List.Countdown.html#1416" class="Bound">xs</a> <a id="1431" class="Symbol">→</a> <a id="1433" href="Data.List.Countdown.html#1420" class="Bound">x</a> <a id="1435" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="1437" href="Data.List.Countdown.html#1416" class="Bound">xs</a>
  <a id="1442" href="Data.List.Countdown.html#1394" class="Function">first-occurrence</a> <a id="1459" href="Data.List.Countdown.html#1459" class="Bound">x</a> <a id="1461" class="Symbol">(</a><a id="1462" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="1467" href="Data.List.Countdown.html#1467" class="Bound">x≈y</a><a id="1470" class="Symbol">)</a>           <a id="1482" class="Symbol">=</a> <a id="1484" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="1489" href="Data.List.Countdown.html#1467" class="Bound">x≈y</a>
  <a id="1495" href="Data.List.Countdown.html#1394" class="Function">first-occurrence</a> <a id="1512" href="Data.List.Countdown.html#1512" class="Bound">x</a> <a id="1514" class="Symbol">(</a><a id="1515" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="1521" class="Symbol">{</a><a id="1522" class="Argument">x</a> <a id="1524" class="Symbol">=</a> <a id="1526" href="Data.List.Countdown.html#1526" class="Bound">y</a><a id="1527" class="Symbol">}</a> <a id="1529" href="Data.List.Countdown.html#1529" class="Bound">x∈xs</a><a id="1533" class="Symbol">)</a> <a id="1535" class="Keyword">with</a> <a id="1540" href="Data.List.Countdown.html#1512" class="Bound">x</a> <a id="1542" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="1544" href="Data.List.Countdown.html#1526" class="Bound">y</a>
  <a id="1548" class="Symbol">...</a> <a id="1552" class="Symbol">|</a> <a id="1554" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="1558" href="Data.List.Countdown.html#1558" class="Bound">x≈y</a> <a id="1562" class="Symbol">=</a> <a id="1564" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="1569" href="Data.List.Countdown.html#1558" class="Bound">x≈y</a>
  <a id="1575" class="Symbol">...</a> <a id="1579" class="Symbol">|</a> <a id="1581" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="1585" class="Symbol">_</a>   <a id="1589" class="Symbol">=</a> <a id="1591" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="1597" href="Function.html#1870" class="Function Operator">$</a> <a id="1599" href="Data.List.Countdown.html#1394" class="Function">first-occurrence</a> <a id="1616" class="Bound">x</a> <a id="1618" class="Bound">x∈xs</a>

  <a id="1626" class="Comment">-- The index of the first occurrence of x in xs.</a>

  <a id="1678" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="1690" class="Symbol">:</a> <a id="1692" class="Symbol">∀</a> <a id="1694" class="Symbol">{</a><a id="1695" href="Data.List.Countdown.html#1695" class="Bound">xs</a><a id="1697" class="Symbol">}</a> <a id="1699" href="Data.List.Countdown.html#1699" class="Bound">x</a> <a id="1701" class="Symbol">→</a> <a id="1703" href="Data.List.Countdown.html#1699" class="Bound">x</a> <a id="1705" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="1707" href="Data.List.Countdown.html#1695" class="Bound">xs</a> <a id="1710" class="Symbol">→</a> <a id="1712" href="Data.Fin.html#923" class="Datatype">Fin</a> <a id="1716" class="Symbol">(</a><a id="1717" href="Data.List.Base.html#2884" class="Function">length</a> <a id="1724" href="Data.List.Countdown.html#1695" class="Bound">xs</a><a id="1726" class="Symbol">)</a>
  <a id="1730" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="1742" href="Data.List.Countdown.html#1742" class="Bound">x</a> <a id="1744" href="Data.List.Countdown.html#1744" class="Bound">x∈xs</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="Data.List.Any.html#1512" class="Function">Any.index</a> <a id="1761" href="Function.html#1870" class="Function Operator">$</a> <a id="1763" href="Data.List.Countdown.html#1394" class="Function">first-occurrence</a> <a id="1780" href="Data.List.Countdown.html#1742" class="Bound">x</a> <a id="1782" href="Data.List.Countdown.html#1744" class="Bound">x∈xs</a>

  <a id="1790" class="Comment">-- first-index preserves equality of its first argument.</a>

  <a id="1850" href="Data.List.Countdown.html#1850" class="Function">first-index-cong</a> <a id="1867" class="Symbol">:</a> <a id="1869" class="Symbol">∀</a> <a id="1871" class="Symbol">{</a><a id="1872" href="Data.List.Countdown.html#1872" class="Bound">x₁</a> <a id="1875" href="Data.List.Countdown.html#1875" class="Bound">x₂</a> <a id="1878" href="Data.List.Countdown.html#1878" class="Bound">xs</a><a id="1880" class="Symbol">}</a> <a id="1882" class="Symbol">(</a><a id="1883" href="Data.List.Countdown.html#1883" class="Bound">x₁∈xs</a> <a id="1889" class="Symbol">:</a> <a id="1891" href="Data.List.Countdown.html#1872" class="Bound">x₁</a> <a id="1894" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="1896" href="Data.List.Countdown.html#1878" class="Bound">xs</a><a id="1898" class="Symbol">)</a> <a id="1900" class="Symbol">(</a><a id="1901" href="Data.List.Countdown.html#1901" class="Bound">x₂∈xs</a> <a id="1907" class="Symbol">:</a> <a id="1909" href="Data.List.Countdown.html#1875" class="Bound">x₂</a> <a id="1912" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="1914" href="Data.List.Countdown.html#1878" class="Bound">xs</a><a id="1916" class="Symbol">)</a> <a id="1918" class="Symbol">→</a>
                     <a id="1941" href="Data.List.Countdown.html#1872" class="Bound">x₁</a> <a id="1944" href="Relation.Binary.html#3072" class="Field Operator">≈</a> <a id="1946" href="Data.List.Countdown.html#1875" class="Bound">x₂</a> <a id="1949" class="Symbol">→</a> <a id="1951" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="1963" href="Data.List.Countdown.html#1872" class="Bound">x₁</a> <a id="1966" href="Data.List.Countdown.html#1883" class="Bound">x₁∈xs</a> <a id="1972" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1974" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="1986" href="Data.List.Countdown.html#1875" class="Bound">x₂</a> <a id="1989" href="Data.List.Countdown.html#1901" class="Bound">x₂∈xs</a>
  <a id="1997" href="Data.List.Countdown.html#1850" class="Function">first-index-cong</a> <a id="2014" class="Symbol">{</a><a id="2015" href="Data.List.Countdown.html#2015" class="Bound">x₁</a><a id="2017" class="Symbol">}</a> <a id="2019" class="Symbol">{</a><a id="2020" href="Data.List.Countdown.html#2020" class="Bound">x₂</a><a id="2022" class="Symbol">}</a> <a id="2024" href="Data.List.Countdown.html#2024" class="Bound">x₁∈xs</a> <a id="2030" href="Data.List.Countdown.html#2030" class="Bound">x₂∈xs</a> <a id="2036" href="Data.List.Countdown.html#2036" class="Bound">x₁≈x₂</a> <a id="2042" class="Symbol">=</a> <a id="2044" href="Data.List.Countdown.html#2077" class="Function">helper</a> <a id="2051" href="Data.List.Countdown.html#2024" class="Bound">x₁∈xs</a> <a id="2057" href="Data.List.Countdown.html#2030" class="Bound">x₂∈xs</a>
    <a id="2067" class="Keyword">where</a>
    <a id="2077" href="Data.List.Countdown.html#2077" class="Function">helper</a> <a id="2084" class="Symbol">:</a> <a id="2086" class="Symbol">∀</a> <a id="2088" class="Symbol">{</a><a id="2089" href="Data.List.Countdown.html#2089" class="Bound">xs</a><a id="2091" class="Symbol">}</a> <a id="2093" class="Symbol">(</a><a id="2094" href="Data.List.Countdown.html#2094" class="Bound">x₁∈xs</a> <a id="2100" class="Symbol">:</a> <a id="2102" href="Data.List.Countdown.html#2015" class="Bound">x₁</a> <a id="2105" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="2107" href="Data.List.Countdown.html#2089" class="Bound">xs</a><a id="2109" class="Symbol">)</a> <a id="2111" class="Symbol">(</a><a id="2112" href="Data.List.Countdown.html#2112" class="Bound">x₂∈xs</a> <a id="2118" class="Symbol">:</a> <a id="2120" href="Data.List.Countdown.html#2020" class="Bound">x₂</a> <a id="2123" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="2125" href="Data.List.Countdown.html#2089" class="Bound">xs</a><a id="2127" class="Symbol">)</a> <a id="2129" class="Symbol">→</a>
             <a id="2144" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="2156" href="Data.List.Countdown.html#2015" class="Bound">x₁</a> <a id="2159" href="Data.List.Countdown.html#2094" class="Bound">x₁∈xs</a> <a id="2165" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2167" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="2179" href="Data.List.Countdown.html#2020" class="Bound">x₂</a> <a id="2182" href="Data.List.Countdown.html#2112" class="Bound">x₂∈xs</a>
    <a id="2192" href="Data.List.Countdown.html#2077" class="Function">helper</a> <a id="2199" class="Symbol">(</a><a id="2200" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2205" href="Data.List.Countdown.html#2205" class="Bound">x₁≈x</a><a id="2209" class="Symbol">)</a> <a id="2211" class="Symbol">(</a><a id="2212" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2217" href="Data.List.Countdown.html#2217" class="Bound">x₂≈x</a><a id="2221" class="Symbol">)</a>           <a id="2233" class="Symbol">=</a> <a id="2235" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
    <a id="2244" href="Data.List.Countdown.html#2077" class="Function">helper</a> <a id="2251" class="Symbol">(</a><a id="2252" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2257" href="Data.List.Countdown.html#2257" class="Bound">x₁≈x</a><a id="2261" class="Symbol">)</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2270" class="Symbol">{</a><a id="2271" class="Argument">x</a> <a id="2273" class="Symbol">=</a> <a id="2275" href="Data.List.Countdown.html#2275" class="Bound">x</a><a id="2276" class="Symbol">}</a> <a id="2278" href="Data.List.Countdown.html#2278" class="Bound">x₂∈xs</a><a id="2283" class="Symbol">)</a> <a id="2285" class="Keyword">with</a> <a id="2290" href="Data.List.Countdown.html#2020" class="Bound">x₂</a> <a id="2293" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="2295" href="Data.List.Countdown.html#2275" class="Bound">x</a>
    <a id="2301" class="Symbol">...</a> <a id="2305" class="Symbol">|</a> <a id="2307" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="2311" href="Data.List.Countdown.html#2311" class="Bound">x₂≈x</a> <a id="2316" class="Symbol">=</a> <a id="2318" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
    <a id="2327" class="Symbol">...</a> <a id="2331" class="Symbol">|</a> <a id="2333" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="2337" href="Data.List.Countdown.html#2337" class="Bound">x₂≉x</a> <a id="2342" class="Symbol">=</a> <a id="2344" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="2351" class="Symbol">(</a><a id="2352" href="Data.List.Countdown.html#2337" class="Bound">x₂≉x</a> <a id="2357" class="Symbol">(</a><a id="2358" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="2364" class="Symbol">(</a><a id="2365" href="Relation.Binary.Core.html#4960" class="Function">sym</a> <a id="2369" href="Data.List.Countdown.html#2036" class="Bound">x₁≈x₂</a><a id="2374" class="Symbol">)</a> <a id="2376" class="Bound">x₁≈x</a><a id="2380" class="Symbol">))</a>
    <a id="2387" href="Data.List.Countdown.html#2077" class="Function">helper</a> <a id="2394" class="Symbol">(</a><a id="2395" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2401" class="Symbol">{</a><a id="2402" class="Argument">x</a> <a id="2404" class="Symbol">=</a> <a id="2406" href="Data.List.Countdown.html#2406" class="Bound">x</a><a id="2407" class="Symbol">}</a> <a id="2409" href="Data.List.Countdown.html#2409" class="Bound">x₁∈xs</a><a id="2414" class="Symbol">)</a> <a id="2416" class="Symbol">(</a><a id="2417" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="2422" href="Data.List.Countdown.html#2422" class="Bound">x₂≈x</a><a id="2426" class="Symbol">)</a> <a id="2428" class="Keyword">with</a> <a id="2433" href="Data.List.Countdown.html#2015" class="Bound">x₁</a> <a id="2436" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="2438" href="Data.List.Countdown.html#2406" class="Bound">x</a>
    <a id="2444" class="Symbol">...</a> <a id="2448" class="Symbol">|</a> <a id="2450" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="2454" href="Data.List.Countdown.html#2454" class="Bound">x₁≈x</a> <a id="2459" class="Symbol">=</a> <a id="2461" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
    <a id="2470" class="Symbol">...</a> <a id="2474" class="Symbol">|</a> <a id="2476" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="2480" href="Data.List.Countdown.html#2480" class="Bound">x₁≉x</a> <a id="2485" class="Symbol">=</a> <a id="2487" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="2494" class="Symbol">(</a><a id="2495" href="Data.List.Countdown.html#2480" class="Bound">x₁≉x</a> <a id="2500" class="Symbol">(</a><a id="2501" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="2507" href="Data.List.Countdown.html#2036" class="Bound">x₁≈x₂</a> <a id="2513" class="Bound">x₂≈x</a><a id="2517" class="Symbol">))</a>
    <a id="2524" href="Data.List.Countdown.html#2077" class="Function">helper</a> <a id="2531" class="Symbol">(</a><a id="2532" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2538" class="Symbol">{</a><a id="2539" class="Argument">x</a> <a id="2541" class="Symbol">=</a> <a id="2543" href="Data.List.Countdown.html#2543" class="Bound">x</a><a id="2544" class="Symbol">}</a> <a id="2546" href="Data.List.Countdown.html#2546" class="Bound">x₁∈xs</a><a id="2551" class="Symbol">)</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="2560" href="Data.List.Countdown.html#2560" class="Bound">x₂∈xs</a><a id="2565" class="Symbol">)</a> <a id="2567" class="Keyword">with</a> <a id="2572" href="Data.List.Countdown.html#2015" class="Bound">x₁</a> <a id="2575" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="2577" href="Data.List.Countdown.html#2543" class="Bound">x</a> <a id="2579" class="Symbol">|</a> <a id="2581" href="Data.List.Countdown.html#2020" class="Bound">x₂</a> <a id="2584" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="2586" href="Data.List.Countdown.html#2543" class="Bound">x</a>
    <a id="2592" class="Symbol">...</a> <a id="2596" class="Symbol">|</a> <a id="2598" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="2602" href="Data.List.Countdown.html#2602" class="Bound">x₁≈x</a> <a id="2607" class="Symbol">|</a> <a id="2609" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="2613" href="Data.List.Countdown.html#2613" class="Bound">x₂≈x</a> <a id="2618" class="Symbol">=</a> <a id="2620" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
    <a id="2629" class="Symbol">...</a> <a id="2633" class="Symbol">|</a> <a id="2635" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="2639" href="Data.List.Countdown.html#2639" class="Bound">x₁≈x</a> <a id="2644" class="Symbol">|</a> <a id="2646" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="2650" href="Data.List.Countdown.html#2650" class="Bound">x₂≉x</a> <a id="2655" class="Symbol">=</a> <a id="2657" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="2664" class="Symbol">(</a><a id="2665" href="Data.List.Countdown.html#2650" class="Bound">x₂≉x</a> <a id="2670" class="Symbol">(</a><a id="2671" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="2677" class="Symbol">(</a><a id="2678" href="Relation.Binary.Core.html#4960" class="Function">sym</a> <a id="2682" href="Data.List.Countdown.html#2036" class="Bound">x₁≈x₂</a><a id="2687" class="Symbol">)</a> <a id="2689" href="Data.List.Countdown.html#2639" class="Bound">x₁≈x</a><a id="2693" class="Symbol">))</a>
    <a id="2700" class="Symbol">...</a> <a id="2704" class="Symbol">|</a> <a id="2706" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="2710" href="Data.List.Countdown.html#2710" class="Bound">x₁≉x</a> <a id="2715" class="Symbol">|</a> <a id="2717" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="2721" href="Data.List.Countdown.html#2721" class="Bound">x₂≈x</a> <a id="2726" class="Symbol">=</a> <a id="2728" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="2735" class="Symbol">(</a><a id="2736" href="Data.List.Countdown.html#2710" class="Bound">x₁≉x</a> <a id="2741" class="Symbol">(</a><a id="2742" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="2748" href="Data.List.Countdown.html#2036" class="Bound">x₁≈x₂</a> <a id="2754" href="Data.List.Countdown.html#2721" class="Bound">x₂≈x</a><a id="2758" class="Symbol">))</a>
    <a id="2765" class="Symbol">...</a> <a id="2769" class="Symbol">|</a> <a id="2771" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="2775" href="Data.List.Countdown.html#2775" class="Bound">x₁≉x</a> <a id="2780" class="Symbol">|</a> <a id="2782" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="2786" href="Data.List.Countdown.html#2786" class="Bound">x₂≉x</a> <a id="2791" class="Symbol">=</a> <a id="2793" href="Relation.Binary.PropositionalEquality.html#981" class="Function">cong</a> <a id="2798" href="Data.Fin.html#976" class="InductiveConstructor">suc</a> <a id="2802" href="Function.html#1870" class="Function Operator">$</a> <a id="2804" href="Data.List.Countdown.html#2077" class="Function">helper</a> <a id="2811" class="Bound">x₁∈xs</a> <a id="2817" class="Bound">x₂∈xs</a>

  <a id="2826" class="Comment">-- first-index is injective in its first argument.</a>

  <a id="2880" href="Data.List.Countdown.html#2880" class="Function">first-index-injective</a>
    <a id="2906" class="Symbol">:</a> <a id="2908" class="Symbol">∀</a> <a id="2910" class="Symbol">{</a><a id="2911" href="Data.List.Countdown.html#2911" class="Bound">x₁</a> <a id="2914" href="Data.List.Countdown.html#2914" class="Bound">x₂</a> <a id="2917" href="Data.List.Countdown.html#2917" class="Bound">xs</a><a id="2919" class="Symbol">}</a> <a id="2921" class="Symbol">(</a><a id="2922" href="Data.List.Countdown.html#2922" class="Bound">x₁∈xs</a> <a id="2928" class="Symbol">:</a> <a id="2930" href="Data.List.Countdown.html#2911" class="Bound">x₁</a> <a id="2933" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="2935" href="Data.List.Countdown.html#2917" class="Bound">xs</a><a id="2937" class="Symbol">)</a> <a id="2939" class="Symbol">(</a><a id="2940" href="Data.List.Countdown.html#2940" class="Bound">x₂∈xs</a> <a id="2946" class="Symbol">:</a> <a id="2948" href="Data.List.Countdown.html#2914" class="Bound">x₂</a> <a id="2951" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="2953" href="Data.List.Countdown.html#2917" class="Bound">xs</a><a id="2955" class="Symbol">)</a> <a id="2957" class="Symbol">→</a>
      <a id="2965" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="2977" href="Data.List.Countdown.html#2911" class="Bound">x₁</a> <a id="2980" href="Data.List.Countdown.html#2922" class="Bound">x₁∈xs</a> <a id="2986" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2988" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="3000" href="Data.List.Countdown.html#2914" class="Bound">x₂</a> <a id="3003" href="Data.List.Countdown.html#2940" class="Bound">x₂∈xs</a> <a id="3009" class="Symbol">→</a> <a id="3011" href="Data.List.Countdown.html#2911" class="Bound">x₁</a> <a id="3014" href="Relation.Binary.html#3072" class="Field Operator">≈</a> <a id="3016" href="Data.List.Countdown.html#2914" class="Bound">x₂</a>
  <a id="3021" href="Data.List.Countdown.html#2880" class="Function">first-index-injective</a> <a id="3043" class="Symbol">{</a><a id="3044" href="Data.List.Countdown.html#3044" class="Bound">x₁</a><a id="3046" class="Symbol">}</a> <a id="3048" class="Symbol">{</a><a id="3049" href="Data.List.Countdown.html#3049" class="Bound">x₂</a><a id="3051" class="Symbol">}</a> <a id="3053" class="Symbol">=</a> <a id="3055" href="Data.List.Countdown.html#3076" class="Function">helper</a>
    <a id="3066" class="Keyword">where</a>
    <a id="3076" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3083" class="Symbol">:</a> <a id="3085" class="Symbol">∀</a> <a id="3087" class="Symbol">{</a><a id="3088" href="Data.List.Countdown.html#3088" class="Bound">xs</a><a id="3090" class="Symbol">}</a> <a id="3092" class="Symbol">(</a><a id="3093" href="Data.List.Countdown.html#3093" class="Bound">x₁∈xs</a> <a id="3099" class="Symbol">:</a> <a id="3101" href="Data.List.Countdown.html#3044" class="Bound">x₁</a> <a id="3104" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="3106" href="Data.List.Countdown.html#3088" class="Bound">xs</a><a id="3108" class="Symbol">)</a> <a id="3110" class="Symbol">(</a><a id="3111" href="Data.List.Countdown.html#3111" class="Bound">x₂∈xs</a> <a id="3117" class="Symbol">:</a> <a id="3119" href="Data.List.Countdown.html#3049" class="Bound">x₂</a> <a id="3122" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="3124" href="Data.List.Countdown.html#3088" class="Bound">xs</a><a id="3126" class="Symbol">)</a> <a id="3128" class="Symbol">→</a>
             <a id="3143" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="3155" href="Data.List.Countdown.html#3044" class="Bound">x₁</a> <a id="3158" href="Data.List.Countdown.html#3093" class="Bound">x₁∈xs</a> <a id="3164" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="3166" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="3178" href="Data.List.Countdown.html#3049" class="Bound">x₂</a> <a id="3181" href="Data.List.Countdown.html#3111" class="Bound">x₂∈xs</a> <a id="3187" class="Symbol">→</a> <a id="3189" href="Data.List.Countdown.html#3044" class="Bound">x₁</a> <a id="3192" href="Relation.Binary.html#3072" class="Field Operator">≈</a> <a id="3194" href="Data.List.Countdown.html#3049" class="Bound">x₂</a>
    <a id="3201" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3208" class="Symbol">(</a><a id="3209" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3214" href="Data.List.Countdown.html#3214" class="Bound">x₁≈x</a><a id="3218" class="Symbol">)</a> <a id="3220" class="Symbol">(</a><a id="3221" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3226" href="Data.List.Countdown.html#3226" class="Bound">x₂≈x</a><a id="3230" class="Symbol">)</a>             <a id="3244" class="Symbol">_</a>  <a id="3247" class="Symbol">=</a> <a id="3249" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="3255" href="Data.List.Countdown.html#3214" class="Bound">x₁≈x</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Relation.Binary.Core.html#4960" class="Function">sym</a> <a id="3265" href="Data.List.Countdown.html#3226" class="Bound">x₂≈x</a><a id="3269" class="Symbol">)</a>
    <a id="3275" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3282" class="Symbol">(</a><a id="3283" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3288" href="Data.List.Countdown.html#3288" class="Bound">x₁≈x</a><a id="3292" class="Symbol">)</a> <a id="3294" class="Symbol">(</a><a id="3295" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3301" class="Symbol">{</a><a id="3302" class="Argument">x</a> <a id="3304" class="Symbol">=</a> <a id="3306" href="Data.List.Countdown.html#3306" class="Bound">x</a><a id="3307" class="Symbol">}</a> <a id="3309" href="Data.List.Countdown.html#3309" class="Bound">x₂∈xs</a><a id="3314" class="Symbol">)</a>   <a id="3318" class="Symbol">_</a>  <a id="3321" class="Keyword">with</a> <a id="3326" href="Data.List.Countdown.html#3049" class="Bound">x₂</a> <a id="3329" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="3331" href="Data.List.Countdown.html#3306" class="Bound">x</a>
    <a id="3337" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3344" class="Symbol">(</a><a id="3345" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3350" href="Data.List.Countdown.html#3350" class="Bound">x₁≈x</a><a id="3354" class="Symbol">)</a> <a id="3356" class="Symbol">(</a><a id="3357" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3363" class="Symbol">{</a><a id="3364" class="Argument">x</a> <a id="3366" class="Symbol">=</a> <a id="3368" href="Data.List.Countdown.html#3368" class="Bound">x</a><a id="3369" class="Symbol">}</a> <a id="3371" href="Data.List.Countdown.html#3371" class="Bound">x₂∈xs</a><a id="3376" class="Symbol">)</a>   <a id="3380" class="Symbol">_</a>  <a id="3383" class="Symbol">|</a> <a id="3385" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="3389" href="Data.List.Countdown.html#3389" class="Bound">x₂≈x</a> <a id="3394" class="Symbol">=</a> <a id="3396" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="3402" href="Data.List.Countdown.html#3350" class="Bound">x₁≈x</a> <a id="3407" class="Symbol">(</a><a id="3408" href="Relation.Binary.Core.html#4960" class="Function">sym</a> <a id="3412" href="Data.List.Countdown.html#3389" class="Bound">x₂≈x</a><a id="3416" class="Symbol">)</a>
    <a id="3422" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3429" class="Symbol">(</a><a id="3430" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3435" href="Data.List.Countdown.html#3435" class="Bound">x₁≈x</a><a id="3439" class="Symbol">)</a> <a id="3441" class="Symbol">(</a><a id="3442" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3448" class="Symbol">{</a><a id="3449" class="Argument">x</a> <a id="3451" class="Symbol">=</a> <a id="3453" href="Data.List.Countdown.html#3453" class="Bound">x</a><a id="3454" class="Symbol">}</a> <a id="3456" href="Data.List.Countdown.html#3456" class="Bound">x₂∈xs</a><a id="3461" class="Symbol">)</a>   <a id="3465" class="Symbol">()</a> <a id="3468" class="Symbol">|</a> <a id="3470" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="3474" href="Data.List.Countdown.html#3474" class="Bound">x₂≉x</a>
    <a id="3483" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3490" class="Symbol">(</a><a id="3491" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3497" class="Symbol">{</a><a id="3498" class="Argument">x</a> <a id="3500" class="Symbol">=</a> <a id="3502" href="Data.List.Countdown.html#3502" class="Bound">x</a><a id="3503" class="Symbol">}</a> <a id="3505" href="Data.List.Countdown.html#3505" class="Bound">x₁∈xs</a><a id="3510" class="Symbol">)</a> <a id="3512" class="Symbol">(</a><a id="3513" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3518" href="Data.List.Countdown.html#3518" class="Bound">x₂≈x</a><a id="3522" class="Symbol">)</a>   <a id="3526" class="Symbol">_</a>  <a id="3529" class="Keyword">with</a> <a id="3534" href="Data.List.Countdown.html#3044" class="Bound">x₁</a> <a id="3537" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="3539" href="Data.List.Countdown.html#3502" class="Bound">x</a>
    <a id="3545" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3552" class="Symbol">(</a><a id="3553" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3559" class="Symbol">{</a><a id="3560" class="Argument">x</a> <a id="3562" class="Symbol">=</a> <a id="3564" href="Data.List.Countdown.html#3564" class="Bound">x</a><a id="3565" class="Symbol">}</a> <a id="3567" href="Data.List.Countdown.html#3567" class="Bound">x₁∈xs</a><a id="3572" class="Symbol">)</a> <a id="3574" class="Symbol">(</a><a id="3575" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3580" href="Data.List.Countdown.html#3580" class="Bound">x₂≈x</a><a id="3584" class="Symbol">)</a>   <a id="3588" class="Symbol">_</a>  <a id="3591" class="Symbol">|</a> <a id="3593" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="3597" href="Data.List.Countdown.html#3597" class="Bound">x₁≈x</a> <a id="3602" class="Symbol">=</a> <a id="3604" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="3610" href="Data.List.Countdown.html#3597" class="Bound">x₁≈x</a> <a id="3615" class="Symbol">(</a><a id="3616" href="Relation.Binary.Core.html#4960" class="Function">sym</a> <a id="3620" href="Data.List.Countdown.html#3580" class="Bound">x₂≈x</a><a id="3624" class="Symbol">)</a>
    <a id="3630" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3637" class="Symbol">(</a><a id="3638" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3644" class="Symbol">{</a><a id="3645" class="Argument">x</a> <a id="3647" class="Symbol">=</a> <a id="3649" href="Data.List.Countdown.html#3649" class="Bound">x</a><a id="3650" class="Symbol">}</a> <a id="3652" href="Data.List.Countdown.html#3652" class="Bound">x₁∈xs</a><a id="3657" class="Symbol">)</a> <a id="3659" class="Symbol">(</a><a id="3660" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="3665" href="Data.List.Countdown.html#3665" class="Bound">x₂≈x</a><a id="3669" class="Symbol">)</a>   <a id="3673" class="Symbol">()</a> <a id="3676" class="Symbol">|</a> <a id="3678" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="3682" href="Data.List.Countdown.html#3682" class="Bound">x₁≉x</a>
    <a id="3691" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3698" class="Symbol">(</a><a id="3699" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3705" class="Symbol">{</a><a id="3706" class="Argument">x</a> <a id="3708" class="Symbol">=</a> <a id="3710" href="Data.List.Countdown.html#3710" class="Bound">x</a><a id="3711" class="Symbol">}</a> <a id="3713" href="Data.List.Countdown.html#3713" class="Bound">x₁∈xs</a><a id="3718" class="Symbol">)</a> <a id="3720" class="Symbol">(</a><a id="3721" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3727" href="Data.List.Countdown.html#3727" class="Bound">x₂∈xs</a><a id="3732" class="Symbol">)</a> <a id="3734" class="Symbol">_</a>  <a id="3737" class="Keyword">with</a> <a id="3742" href="Data.List.Countdown.html#3044" class="Bound">x₁</a> <a id="3745" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="3747" href="Data.List.Countdown.html#3710" class="Bound">x</a> <a id="3749" class="Symbol">|</a> <a id="3751" href="Data.List.Countdown.html#3049" class="Bound">x₂</a> <a id="3754" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="3756" href="Data.List.Countdown.html#3710" class="Bound">x</a>
    <a id="3762" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3769" class="Symbol">(</a><a id="3770" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3776" class="Symbol">{</a><a id="3777" class="Argument">x</a> <a id="3779" class="Symbol">=</a> <a id="3781" href="Data.List.Countdown.html#3781" class="Bound">x</a><a id="3782" class="Symbol">}</a> <a id="3784" href="Data.List.Countdown.html#3784" class="Bound">x₁∈xs</a><a id="3789" class="Symbol">)</a> <a id="3791" class="Symbol">(</a><a id="3792" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3798" href="Data.List.Countdown.html#3798" class="Bound">x₂∈xs</a><a id="3803" class="Symbol">)</a> <a id="3805" class="Symbol">_</a>  <a id="3808" class="Symbol">|</a> <a id="3810" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="3814" href="Data.List.Countdown.html#3814" class="Bound">x₁≈x</a> <a id="3819" class="Symbol">|</a> <a id="3821" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="3825" href="Data.List.Countdown.html#3825" class="Bound">x₂≈x</a> <a id="3830" class="Symbol">=</a> <a id="3832" href="Relation.Binary.Core.html#4986" class="Function">trans</a> <a id="3838" href="Data.List.Countdown.html#3814" class="Bound">x₁≈x</a> <a id="3843" class="Symbol">(</a><a id="3844" href="Relation.Binary.Core.html#4960" class="Function">sym</a> <a id="3848" href="Data.List.Countdown.html#3825" class="Bound">x₂≈x</a><a id="3852" class="Symbol">)</a>
    <a id="3858" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3865" class="Symbol">(</a><a id="3866" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3872" class="Symbol">{</a><a id="3873" class="Argument">x</a> <a id="3875" class="Symbol">=</a> <a id="3877" href="Data.List.Countdown.html#3877" class="Bound">x</a><a id="3878" class="Symbol">}</a> <a id="3880" href="Data.List.Countdown.html#3880" class="Bound">x₁∈xs</a><a id="3885" class="Symbol">)</a> <a id="3887" class="Symbol">(</a><a id="3888" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3894" href="Data.List.Countdown.html#3894" class="Bound">x₂∈xs</a><a id="3899" class="Symbol">)</a> <a id="3901" class="Symbol">()</a> <a id="3904" class="Symbol">|</a> <a id="3906" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="3910" href="Data.List.Countdown.html#3910" class="Bound">x₁≈x</a> <a id="3915" class="Symbol">|</a> <a id="3917" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="3921" href="Data.List.Countdown.html#3921" class="Bound">x₂≉x</a>
    <a id="3930" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="3937" class="Symbol">(</a><a id="3938" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3944" class="Symbol">{</a><a id="3945" class="Argument">x</a> <a id="3947" class="Symbol">=</a> <a id="3949" href="Data.List.Countdown.html#3949" class="Bound">x</a><a id="3950" class="Symbol">}</a> <a id="3952" href="Data.List.Countdown.html#3952" class="Bound">x₁∈xs</a><a id="3957" class="Symbol">)</a> <a id="3959" class="Symbol">(</a><a id="3960" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="3966" href="Data.List.Countdown.html#3966" class="Bound">x₂∈xs</a><a id="3971" class="Symbol">)</a> <a id="3973" class="Symbol">()</a> <a id="3976" class="Symbol">|</a> <a id="3978" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="3982" href="Data.List.Countdown.html#3982" class="Bound">x₁≉x</a> <a id="3987" class="Symbol">|</a> <a id="3989" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="3993" href="Data.List.Countdown.html#3993" class="Bound">x₂≈x</a>
    <a id="4002" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="4009" class="Symbol">(</a><a id="4010" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="4016" class="Symbol">{</a><a id="4017" class="Argument">x</a> <a id="4019" class="Symbol">=</a> <a id="4021" href="Data.List.Countdown.html#4021" class="Bound">x</a><a id="4022" class="Symbol">}</a> <a id="4024" href="Data.List.Countdown.html#4024" class="Bound">x₁∈xs</a><a id="4029" class="Symbol">)</a> <a id="4031" class="Symbol">(</a><a id="4032" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="4038" href="Data.List.Countdown.html#4038" class="Bound">x₂∈xs</a><a id="4043" class="Symbol">)</a> <a id="4045" href="Data.List.Countdown.html#4045" class="Bound">eq</a> <a id="4048" class="Symbol">|</a> <a id="4050" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="4054" href="Data.List.Countdown.html#4054" class="Bound">x₁≉x</a> <a id="4059" class="Symbol">|</a> <a id="4061" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="4065" href="Data.List.Countdown.html#4065" class="Bound">x₂≉x</a> <a id="4070" class="Symbol">=</a>
      <a id="4078" href="Data.List.Countdown.html#3076" class="Function">helper</a> <a id="4085" href="Data.List.Countdown.html#4024" class="Bound">x₁∈xs</a> <a id="4091" href="Data.List.Countdown.html#4038" class="Bound">x₂∈xs</a> <a id="4097" class="Symbol">(</a><a id="4098" href="Data.Fin.Properties.html#1114" class="Function">suc-injective</a> <a id="4112" href="Data.List.Countdown.html#4045" class="Bound">eq</a><a id="4114" class="Symbol">)</a>

<a id="4117" class="Comment">------------------------------------------------------------------------</a>
<a id="4190" class="Comment">-- The countdown data structure</a>

<a id="4223" class="Comment">-- If counted ⊕ n is inhabited then there are at most n values of type</a>
<a id="4294" class="Comment">-- Elem which are not members of counted (up to _≈_). You can read the</a>
<a id="4365" class="Comment">-- symbol _⊕_ as partitioning Elem into two parts: counted and</a>
<a id="4428" class="Comment">-- uncounted.</a>

<a id="4443" class="Keyword">infix</a> <a id="4449" class="Number">4</a> <a id="4451" href="Data.List.Countdown.html#4463" class="Record Operator">_⊕_</a>

<a id="4456" class="Keyword">record</a> <a id="4463" href="Data.List.Countdown.html#4463" class="Record Operator">_⊕_</a> <a id="4467" class="Symbol">(</a><a id="4468" href="Data.List.Countdown.html#4468" class="Bound">counted</a> <a id="4476" class="Symbol">:</a> <a id="4478" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="4483" href="Relation.Binary.html#3043" class="Field">Elem</a><a id="4487" class="Symbol">)</a> <a id="4489" class="Symbol">(</a><a id="4490" href="Data.List.Countdown.html#4490" class="Bound">n</a> <a id="4492" class="Symbol">:</a> <a id="4494" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="4495" class="Symbol">)</a> <a id="4497" class="Symbol">:</a> <a id="4499" class="PrimitiveType">Set</a> <a id="4503" class="Keyword">where</a>
  <a id="4511" class="Keyword">field</a>
    <a id="4521" class="Comment">-- An element can be of two kinds:</a>
    <a id="4560" class="Comment">-- ⑴ It is provably in counted.</a>
    <a id="4596" class="Comment">-- ⑵ It is one of at most n elements which may or may not be in</a>
    <a id="4664" class="Comment">--   counted. The &quot;at most n&quot; part is guaranteed by the field</a>
    <a id="4730" class="Comment">--   &quot;injective&quot;.</a>

    <a id="4753" href="Data.List.Countdown.html#4753" class="Field">kind</a>      <a id="4763" class="Symbol">:</a> <a id="4765" class="Symbol">∀</a> <a id="4767" href="Data.List.Countdown.html#4767" class="Bound">x</a> <a id="4769" class="Symbol">→</a> <a id="4771" href="Data.List.Countdown.html#4767" class="Bound">x</a> <a id="4773" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="4775" href="Data.List.Countdown.html#4468" class="Bound">counted</a> <a id="4783" href="Data.Sum.html#508" class="Datatype Operator">⊎</a> <a id="4785" href="Data.Fin.html#923" class="Datatype">Fin</a> <a id="4789" href="Data.List.Countdown.html#4490" class="Bound">n</a>
    <a id="4795" href="Data.List.Countdown.html#4795" class="Field">injective</a> <a id="4805" class="Symbol">:</a> <a id="4807" class="Symbol">∀</a> <a id="4809" class="Symbol">{</a><a id="4810" href="Data.List.Countdown.html#4810" class="Bound">x</a> <a id="4812" href="Data.List.Countdown.html#4812" class="Bound">y</a> <a id="4814" href="Data.List.Countdown.html#4814" class="Bound">i</a><a id="4815" class="Symbol">}</a> <a id="4817" class="Symbol">→</a> <a id="4819" href="Data.List.Countdown.html#4753" class="Field">kind</a> <a id="4824" href="Data.List.Countdown.html#4810" class="Bound">x</a> <a id="4826" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4828" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="4833" href="Data.List.Countdown.html#4814" class="Bound">i</a> <a id="4835" class="Symbol">→</a> <a id="4837" href="Data.List.Countdown.html#4753" class="Field">kind</a> <a id="4842" href="Data.List.Countdown.html#4812" class="Bound">y</a> <a id="4844" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4846" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="4851" href="Data.List.Countdown.html#4814" class="Bound">i</a> <a id="4853" class="Symbol">→</a> <a id="4855" href="Data.List.Countdown.html#4810" class="Bound">x</a> <a id="4857" href="Relation.Binary.html#3072" class="Field Operator">≈</a> <a id="4859" href="Data.List.Countdown.html#4812" class="Bound">y</a>

<a id="4862" class="Comment">-- A countdown can be initialised by proving that Elem is finite.</a>

<a id="4929" href="Data.List.Countdown.html#4929" class="Function">empty</a> <a id="4935" class="Symbol">:</a> <a id="4937" class="Symbol">∀</a> <a id="4939" class="Symbol">{</a><a id="4940" href="Data.List.Countdown.html#4940" class="Bound">n</a><a id="4941" class="Symbol">}</a> <a id="4943" class="Symbol">→</a> <a id="4945" href="Function.Injection.html#793" class="Record">Injection</a> <a id="4955" href="Relation.Binary.html#3201" class="Function">D.setoid</a> <a id="4964" class="Symbol">(</a><a id="4965" href="Relation.Binary.PropositionalEquality.html#1365" class="Function">PropEq.setoid</a> <a id="4979" class="Symbol">(</a><a id="4980" href="Data.Fin.html#923" class="Datatype">Fin</a> <a id="4984" href="Data.List.Countdown.html#4940" class="Bound">n</a><a id="4985" class="Symbol">))</a> <a id="4988" class="Symbol">→</a> <a id="4990" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="4993" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="4995" href="Data.List.Countdown.html#4940" class="Bound">n</a>
<a id="4997" href="Data.List.Countdown.html#4929" class="Function">empty</a> <a id="5003" href="Data.List.Countdown.html#5003" class="Bound">inj</a> <a id="5007" class="Symbol">=</a>
  <a id="5011" class="Keyword">record</a> <a id="5018" class="Symbol">{</a> <a id="5020" class="Field">kind</a>      <a id="5030" class="Symbol">=</a> <a id="5032" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="5037" href="Function.html#748" class="Function Operator">∘</a> <a id="5039" href="Function.Equality.html#681" class="Field Operator">_⟨$⟩_</a> <a id="5045" href="Function.Injection.html#937" class="Field">to</a>
         <a id="5057" class="Symbol">;</a> <a id="5059" class="Field">injective</a> <a id="5069" class="Symbol">=</a> <a id="5071" class="Symbol">λ</a> <a id="5073" class="Symbol">{</a><a id="5074" href="Data.List.Countdown.html#5074" class="Bound">x</a><a id="5075" class="Symbol">}</a> <a id="5077" class="Symbol">{</a><a id="5078" href="Data.List.Countdown.html#5078" class="Bound">y</a><a id="5079" class="Symbol">}</a> <a id="5081" class="Symbol">{</a><a id="5082" href="Data.List.Countdown.html#5082" class="Bound">i</a><a id="5083" class="Symbol">}</a> <a id="5085" href="Data.List.Countdown.html#5085" class="Bound">eq₁</a> <a id="5089" href="Data.List.Countdown.html#5089" class="Bound">eq₂</a> <a id="5093" class="Symbol">→</a> <a id="5095" href="Function.Injection.html#963" class="Field">injective</a> <a id="5105" class="Symbol">(</a><a id="5106" href="Relation.Binary.PropositionalEquality.html#3868" class="Function Operator">begin</a>
             <a id="5125" href="Function.Injection.html#937" class="Field">to</a> <a id="5128" href="Function.Equality.html#681" class="Field Operator">⟨$⟩</a> <a id="5132" href="Data.List.Countdown.html#5074" class="Bound">x</a>  <a id="5135" href="Relation.Binary.PropositionalEquality.html#3985" class="Function Operator">≡⟨</a> <a id="5138" href="Data.List.Countdown.html#1238" class="Function">drop-inj₂</a> <a id="5148" href="Data.List.Countdown.html#5085" class="Bound">eq₁</a> <a id="5152" href="Relation.Binary.PropositionalEquality.html#3985" class="Function Operator">⟩</a>
             <a id="5167" href="Data.List.Countdown.html#5082" class="Bound">i</a>         <a id="5177" href="Relation.Binary.PropositionalEquality.html#3985" class="Function Operator">≡⟨</a> <a id="5180" href="Relation.Binary.PropositionalEquality.Core.html#565" class="Function">PropEq.sym</a> <a id="5191" href="Function.html#1870" class="Function Operator">$</a> <a id="5193" href="Data.List.Countdown.html#1238" class="Function">drop-inj₂</a> <a id="5203" href="Data.List.Countdown.html#5089" class="Bound">eq₂</a> <a id="5207" href="Relation.Binary.PropositionalEquality.html#3985" class="Function Operator">⟩</a>
             <a id="5222" href="Function.Injection.html#937" class="Field">to</a> <a id="5225" href="Function.Equality.html#681" class="Field Operator">⟨$⟩</a> <a id="5229" href="Data.List.Countdown.html#5078" class="Bound">y</a>  <a id="5232" href="Relation.Binary.PropositionalEquality.html#4166" class="Function Operator">∎</a><a id="5233" class="Symbol">)</a>
         <a id="5244" class="Symbol">}</a>
  <a id="5248" class="Keyword">where</a> <a id="5254" class="Keyword">open</a> <a id="5259" href="Function.Injection.html#793" class="Module">Injection</a> <a id="5269" href="Data.List.Countdown.html#5003" class="Bound">inj</a>

<a id="5274" class="Comment">-- A countdown can also be initialised by proving that Elem is finite.</a>

<a id="5346" href="Data.List.Countdown.html#5346" class="Function">emptyFromList</a> <a id="5360" class="Symbol">:</a> <a id="5362" class="Symbol">(</a><a id="5363" href="Data.List.Countdown.html#5363" class="Bound">counted</a> <a id="5371" class="Symbol">:</a> <a id="5373" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="5378" href="Relation.Binary.html#3043" class="Field">Elem</a><a id="5382" class="Symbol">)</a> <a id="5384" class="Symbol">→</a> <a id="5386" class="Symbol">(∀</a> <a id="5389" href="Data.List.Countdown.html#5389" class="Bound">x</a> <a id="5391" class="Symbol">→</a> <a id="5393" href="Data.List.Countdown.html#5389" class="Bound">x</a> <a id="5395" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="5397" href="Data.List.Countdown.html#5363" class="Bound">counted</a><a id="5404" class="Symbol">)</a> <a id="5406" class="Symbol">→</a>
                <a id="5424" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="5427" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="5429" href="Data.List.Base.html#2884" class="Function">length</a> <a id="5436" href="Data.List.Countdown.html#5363" class="Bound">counted</a>
<a id="5444" href="Data.List.Countdown.html#5346" class="Function">emptyFromList</a> <a id="5458" href="Data.List.Countdown.html#5458" class="Bound">counted</a> <a id="5466" href="Data.List.Countdown.html#5466" class="Bound">complete</a> <a id="5475" class="Symbol">=</a> <a id="5477" href="Data.List.Countdown.html#4929" class="Function">empty</a> <a id="5483" class="Keyword">record</a>
  <a id="5492" class="Symbol">{</a> <a id="5494" class="Field">to</a> <a id="5497" class="Symbol">=</a> <a id="5499" class="Keyword">record</a>
    <a id="5510" class="Symbol">{</a> <a id="5512" class="Field Operator">_⟨$⟩_</a> <a id="5518" class="Symbol">=</a> <a id="5520" class="Symbol">λ</a> <a id="5522" href="Data.List.Countdown.html#5522" class="Bound">x</a> <a id="5524" class="Symbol">→</a> <a id="5526" href="Data.List.Countdown.html#1678" class="Function">first-index</a> <a id="5538" href="Data.List.Countdown.html#5522" class="Bound">x</a> <a id="5540" class="Symbol">(</a><a id="5541" href="Data.List.Countdown.html#5466" class="Bound">complete</a> <a id="5550" href="Data.List.Countdown.html#5522" class="Bound">x</a><a id="5551" class="Symbol">)</a>
    <a id="5557" class="Symbol">;</a> <a id="5559" class="Field">cong</a>  <a id="5565" class="Symbol">=</a> <a id="5567" href="Data.List.Countdown.html#1850" class="Function">first-index-cong</a> <a id="5584" class="Symbol">(</a><a id="5585" href="Data.List.Countdown.html#5466" class="Bound">complete</a> <a id="5594" class="Symbol">_)</a> <a id="5597" class="Symbol">(</a><a id="5598" href="Data.List.Countdown.html#5466" class="Bound">complete</a> <a id="5607" class="Symbol">_)</a>
    <a id="5614" class="Symbol">}</a>
  <a id="5618" class="Symbol">;</a> <a id="5620" class="Field">injective</a> <a id="5630" class="Symbol">=</a> <a id="5632" href="Data.List.Countdown.html#2880" class="Function">first-index-injective</a> <a id="5654" class="Symbol">(</a><a id="5655" href="Data.List.Countdown.html#5466" class="Bound">complete</a> <a id="5664" class="Symbol">_)</a> <a id="5667" class="Symbol">(</a><a id="5668" href="Data.List.Countdown.html#5466" class="Bound">complete</a> <a id="5677" class="Symbol">_)</a>
  <a id="5682" class="Symbol">}</a>

<a id="5685" class="Comment">-- Finds out if an element has been counted yet.</a>

<a id="5735" href="Data.List.Countdown.html#5735" class="Function">lookup</a> <a id="5742" class="Symbol">:</a> <a id="5744" class="Symbol">∀</a> <a id="5746" class="Symbol">{</a><a id="5747" href="Data.List.Countdown.html#5747" class="Bound">counted</a> <a id="5755" href="Data.List.Countdown.html#5755" class="Bound">n</a><a id="5756" class="Symbol">}</a> <a id="5758" class="Symbol">→</a> <a id="5760" href="Data.List.Countdown.html#5747" class="Bound">counted</a> <a id="5768" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="5770" href="Data.List.Countdown.html#5755" class="Bound">n</a> <a id="5772" class="Symbol">→</a> <a id="5774" class="Symbol">∀</a> <a id="5776" href="Data.List.Countdown.html#5776" class="Bound">x</a> <a id="5778" class="Symbol">→</a> <a id="5780" href="Relation.Nullary.html#484" class="Datatype">Dec</a> <a id="5784" class="Symbol">(</a><a id="5785" href="Data.List.Countdown.html#5776" class="Bound">x</a> <a id="5787" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="5789" href="Data.List.Countdown.html#5747" class="Bound">counted</a><a id="5796" class="Symbol">)</a>
<a id="5798" href="Data.List.Countdown.html#5735" class="Function">lookup</a> <a id="5805" class="Symbol">{</a><a id="5806" href="Data.List.Countdown.html#5806" class="Bound">counted</a><a id="5813" class="Symbol">}</a> <a id="5815" class="Symbol">_</a> <a id="5817" href="Data.List.Countdown.html#5817" class="Bound">x</a> <a id="5819" class="Symbol">=</a> <a id="5821" href="Data.List.Any.html#1227" class="Function">Any.any</a> <a id="5829" class="Symbol">(</a><a id="5830" href="Relation.Binary.html#2896" class="Function Operator">_≟_</a> <a id="5834" href="Data.List.Countdown.html#5817" class="Bound">x</a><a id="5835" class="Symbol">)</a> <a id="5837" href="Data.List.Countdown.html#5806" class="Bound">counted</a>

<a id="5846" class="Comment">-- When no element remains to be counted all elements have been</a>
<a id="5910" class="Comment">-- counted.</a>

<a id="5923" href="Data.List.Countdown.html#5923" class="Function">lookup!</a> <a id="5931" class="Symbol">:</a> <a id="5933" class="Symbol">∀</a> <a id="5935" class="Symbol">{</a><a id="5936" href="Data.List.Countdown.html#5936" class="Bound">counted</a><a id="5943" class="Symbol">}</a> <a id="5945" class="Symbol">→</a> <a id="5947" href="Data.List.Countdown.html#5936" class="Bound">counted</a> <a id="5955" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="5957" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a> <a id="5962" class="Symbol">→</a> <a id="5964" class="Symbol">∀</a> <a id="5966" href="Data.List.Countdown.html#5966" class="Bound">x</a> <a id="5968" class="Symbol">→</a> <a id="5970" href="Data.List.Countdown.html#5966" class="Bound">x</a> <a id="5972" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="5974" href="Data.List.Countdown.html#5936" class="Bound">counted</a>
<a id="5982" href="Data.List.Countdown.html#5923" class="Function">lookup!</a> <a id="5990" href="Data.List.Countdown.html#5990" class="Bound">counted⊕0</a> <a id="6000" href="Data.List.Countdown.html#6000" class="Bound">x</a> <a id="6002" class="Keyword">with</a> <a id="6007" href="Data.List.Countdown.html#4753" class="Field">_⊕_.kind</a> <a id="6016" href="Data.List.Countdown.html#5990" class="Bound">counted⊕0</a> <a id="6026" href="Data.List.Countdown.html#6000" class="Bound">x</a>
<a id="6028" class="Symbol">...</a> <a id="6032" class="Symbol">|</a> <a id="6034" href="Data.Sum.html#564" class="InductiveConstructor">inj₁</a> <a id="6039" href="Data.List.Countdown.html#6039" class="Bound">x∈counted</a> <a id="6049" class="Symbol">=</a> <a id="6051" href="Data.List.Countdown.html#6039" class="Bound">x∈counted</a>
<a id="6061" class="Symbol">...</a> <a id="6065" class="Symbol">|</a> <a id="6067" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="6072" class="Symbol">()</a>

<a id="6076" class="Keyword">private</a>

  <a id="6087" class="Comment">-- A variant of lookup!.</a>

  <a id="6115" href="Data.List.Countdown.html#6115" class="Function">lookup‼</a> <a id="6123" class="Symbol">:</a> <a id="6125" class="Symbol">∀</a> <a id="6127" class="Symbol">{</a><a id="6128" href="Data.List.Countdown.html#6128" class="Bound">m</a> <a id="6130" href="Data.List.Countdown.html#6130" class="Bound">counted</a><a id="6137" class="Symbol">}</a> <a id="6139" class="Symbol">→</a>
            <a id="6153" href="Data.List.Countdown.html#6130" class="Bound">counted</a> <a id="6161" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="6163" href="Data.List.Countdown.html#6128" class="Bound">m</a> <a id="6165" class="Symbol">→</a> <a id="6167" class="Symbol">∀</a> <a id="6169" href="Data.List.Countdown.html#6169" class="Bound">x</a> <a id="6171" class="Symbol">→</a> <a id="6173" href="Data.List.Countdown.html#6169" class="Bound">x</a> <a id="6175" href="Data.List.Any.Membership.html#715" class="Function Operator">∉</a> <a id="6177" href="Data.List.Countdown.html#6130" class="Bound">counted</a> <a id="6185" class="Symbol">→</a> <a id="6187" href="Data.Product.html#857" class="Function">∃</a> <a id="6189" class="Symbol">λ</a> <a id="6191" href="Data.List.Countdown.html#6191" class="Bound">n</a> <a id="6193" class="Symbol">→</a> <a id="6195" href="Data.List.Countdown.html#6128" class="Bound">m</a> <a id="6197" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6199" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="6203" href="Data.List.Countdown.html#6191" class="Bound">n</a>
  <a id="6207" href="Data.List.Countdown.html#6115" class="Function">lookup‼</a> <a id="6215" class="Symbol">{</a><a id="6216" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="6220" href="Data.List.Countdown.html#6220" class="Bound">m</a><a id="6221" class="Symbol">}</a> <a id="6223" href="Data.List.Countdown.html#6223" class="Bound">counted⊕n</a> <a id="6233" href="Data.List.Countdown.html#6233" class="Bound">x</a> <a id="6235" href="Data.List.Countdown.html#6235" class="Bound">x∉counted</a> <a id="6245" class="Symbol">=</a> <a id="6247" class="Symbol">(</a><a id="6248" href="Data.List.Countdown.html#6220" class="Bound">m</a> <a id="6250" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="6252" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="6256" class="Symbol">)</a>
  <a id="6260" href="Data.List.Countdown.html#6115" class="Function">lookup‼</a> <a id="6268" class="Symbol">{</a><a id="6269" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="6273" class="Symbol">}</a>  <a id="6276" href="Data.List.Countdown.html#6276" class="Bound">counted⊕n</a> <a id="6286" href="Data.List.Countdown.html#6286" class="Bound">x</a> <a id="6288" href="Data.List.Countdown.html#6288" class="Bound">x∉counted</a> <a id="6298" class="Symbol">=</a>
    <a id="6304" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="6311" class="Symbol">(</a><a id="6312" href="Data.List.Countdown.html#6288" class="Bound">x∉counted</a> <a id="6322" href="Function.html#1870" class="Function Operator">$</a> <a id="6324" href="Data.List.Countdown.html#5923" class="Function">lookup!</a> <a id="6332" href="Data.List.Countdown.html#6276" class="Bound">counted⊕n</a> <a id="6342" href="Data.List.Countdown.html#6286" class="Bound">x</a><a id="6343" class="Symbol">)</a>

<a id="6346" class="Comment">-- Counts a previously uncounted element.</a>

<a id="6389" href="Data.List.Countdown.html#6389" class="Function">insert</a> <a id="6396" class="Symbol">:</a> <a id="6398" class="Symbol">∀</a> <a id="6400" class="Symbol">{</a><a id="6401" href="Data.List.Countdown.html#6401" class="Bound">counted</a> <a id="6409" href="Data.List.Countdown.html#6409" class="Bound">n</a><a id="6410" class="Symbol">}</a> <a id="6412" class="Symbol">→</a>
         <a id="6423" href="Data.List.Countdown.html#6401" class="Bound">counted</a> <a id="6431" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="6433" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="6437" href="Data.List.Countdown.html#6409" class="Bound">n</a> <a id="6439" class="Symbol">→</a> <a id="6441" class="Symbol">∀</a> <a id="6443" href="Data.List.Countdown.html#6443" class="Bound">x</a> <a id="6445" class="Symbol">→</a> <a id="6447" href="Data.List.Countdown.html#6443" class="Bound">x</a> <a id="6449" href="Data.List.Any.Membership.html#715" class="Function Operator">∉</a> <a id="6451" href="Data.List.Countdown.html#6401" class="Bound">counted</a> <a id="6459" class="Symbol">→</a> <a id="6461" href="Data.List.Countdown.html#6443" class="Bound">x</a> <a id="6463" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="6465" href="Data.List.Countdown.html#6401" class="Bound">counted</a> <a id="6473" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="6475" href="Data.List.Countdown.html#6409" class="Bound">n</a>
<a id="6477" href="Data.List.Countdown.html#6389" class="Function">insert</a> <a id="6484" class="Symbol">{</a><a id="6485" href="Data.List.Countdown.html#6485" class="Bound">counted</a><a id="6492" class="Symbol">}</a> <a id="6494" class="Symbol">{</a><a id="6495" href="Data.List.Countdown.html#6495" class="Bound">n</a><a id="6496" class="Symbol">}</a> <a id="6498" href="Data.List.Countdown.html#6498" class="Bound">counted⊕1+n</a> <a id="6510" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="6512" href="Data.List.Countdown.html#6512" class="Bound">x∉counted</a> <a id="6522" class="Symbol">=</a>
  <a id="6526" class="Keyword">record</a> <a id="6533" class="Symbol">{</a> <a id="6535" class="Field">kind</a> <a id="6540" class="Symbol">=</a> <a id="6542" href="Data.List.Countdown.html#6736" class="Function">kind′</a><a id="6547" class="Symbol">;</a> <a id="6549" class="Field">injective</a> <a id="6559" class="Symbol">=</a> <a id="6561" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="6565" class="Symbol">}</a>
  <a id="6569" class="Keyword">where</a>
  <a id="6577" class="Keyword">open</a> <a id="6582" href="Data.List.Countdown.html#4463" class="Module Operator">_⊕_</a> <a id="6586" href="Data.List.Countdown.html#6498" class="Bound">counted⊕1+n</a>

  <a id="6601" href="Data.List.Countdown.html#6601" class="Function">helper</a> <a id="6608" class="Symbol">:</a> <a id="6610" class="Symbol">∀</a> <a id="6612" href="Data.List.Countdown.html#6612" class="Bound">x</a> <a id="6614" href="Data.List.Countdown.html#6614" class="Bound">y</a> <a id="6616" href="Data.List.Countdown.html#6616" class="Bound">i</a> <a id="6618" class="Symbol">{</a><a id="6619" href="Data.List.Countdown.html#6619" class="Bound">j</a><a id="6620" class="Symbol">}</a> <a id="6622" class="Symbol">→</a>
           <a id="6635" href="Data.List.Countdown.html#4753" class="Function">kind</a> <a id="6640" href="Data.List.Countdown.html#6612" class="Bound">x</a> <a id="6642" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6644" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="6649" href="Data.List.Countdown.html#6616" class="Bound">i</a> <a id="6651" class="Symbol">→</a> <a id="6653" href="Data.List.Countdown.html#4753" class="Function">kind</a> <a id="6658" href="Data.List.Countdown.html#6614" class="Bound">y</a> <a id="6660" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6662" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="6667" href="Data.List.Countdown.html#6619" class="Bound">j</a> <a id="6669" class="Symbol">→</a> <a id="6671" href="Data.List.Countdown.html#6616" class="Bound">i</a> <a id="6673" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6675" href="Data.List.Countdown.html#6619" class="Bound">j</a> <a id="6677" class="Symbol">→</a> <a id="6679" href="Data.List.Countdown.html#6612" class="Bound">x</a> <a id="6681" href="Relation.Binary.html#3072" class="Field Operator">≈</a> <a id="6683" href="Data.List.Countdown.html#6614" class="Bound">y</a>
  <a id="6687" href="Data.List.Countdown.html#6601" class="Function">helper</a> <a id="6694" class="Symbol">_</a> <a id="6696" class="Symbol">_</a> <a id="6698" class="Symbol">_</a> <a id="6700" href="Data.List.Countdown.html#6700" class="Bound">eq₁</a> <a id="6704" href="Data.List.Countdown.html#6704" class="Bound">eq₂</a> <a id="6708" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="6713" class="Symbol">=</a> <a id="6715" href="Data.List.Countdown.html#4795" class="Function">injective</a> <a id="6725" href="Data.List.Countdown.html#6700" class="Bound">eq₁</a> <a id="6729" href="Data.List.Countdown.html#6704" class="Bound">eq₂</a>

  <a id="6736" href="Data.List.Countdown.html#6736" class="Function">kind′</a> <a id="6742" class="Symbol">:</a> <a id="6744" class="Symbol">∀</a> <a id="6746" href="Data.List.Countdown.html#6746" class="Bound">y</a> <a id="6748" class="Symbol">→</a> <a id="6750" href="Data.List.Countdown.html#6746" class="Bound">y</a> <a id="6752" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="6754" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="6756" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="6758" href="Data.List.Countdown.html#6485" class="Bound">counted</a> <a id="6766" href="Data.Sum.html#508" class="Datatype Operator">⊎</a> <a id="6768" href="Data.Fin.html#923" class="Datatype">Fin</a> <a id="6772" href="Data.List.Countdown.html#6495" class="Bound">n</a>
  <a id="6776" href="Data.List.Countdown.html#6736" class="Function">kind′</a>  <a id="6783" href="Data.List.Countdown.html#6783" class="Bound">y</a> <a id="6785" class="Keyword">with</a> <a id="6790" href="Data.List.Countdown.html#6783" class="Bound">y</a> <a id="6792" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="6794" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="6796" class="Symbol">|</a> <a id="6798" href="Data.List.Countdown.html#4753" class="Function">kind</a> <a id="6803" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="6805" class="Symbol">|</a> <a id="6807" href="Data.List.Countdown.html#4753" class="Function">kind</a> <a id="6812" href="Data.List.Countdown.html#6783" class="Bound">y</a> <a id="6814" class="Symbol">|</a> <a id="6816" href="Data.List.Countdown.html#6601" class="Function">helper</a> <a id="6823" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="6825" href="Data.List.Countdown.html#6783" class="Bound">y</a>
  <a id="6829" href="Data.List.Countdown.html#6736" class="Function">kind′</a>  <a id="6836" href="Data.List.Countdown.html#6836" class="Bound">y</a> <a id="6838" class="Symbol">|</a> <a id="6840" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="6844" href="Data.List.Countdown.html#6844" class="Bound">y≈x</a> <a id="6848" class="Symbol">|</a> <a id="6850" class="Symbol">_</a>              <a id="6865" class="Symbol">|</a> <a id="6867" class="Symbol">_</a>              <a id="6882" class="Symbol">|</a> <a id="6884" class="Symbol">_</a>   <a id="6888" class="Symbol">=</a> <a id="6890" href="Data.Sum.html#564" class="InductiveConstructor">inj₁</a> <a id="6895" class="Symbol">(</a><a id="6896" href="Data.List.Any.html#748" class="InductiveConstructor">here</a> <a id="6901" href="Data.List.Countdown.html#6844" class="Bound">y≈x</a><a id="6904" class="Symbol">)</a>
  <a id="6908" href="Data.List.Countdown.html#6736" class="CatchallClause Function">kind′</a><a id="6913" class="CatchallClause">  </a><a id="6915" href="Data.List.Countdown.html#6915" class="CatchallClause Bound">y</a><a id="6916" class="CatchallClause"> </a><a id="6917" class="CatchallClause Symbol">|</a><a id="6918" class="CatchallClause"> </a><a id="6919" class="CatchallClause Symbol">_</a><a id="6920" class="CatchallClause">       </a><a id="6927" class="CatchallClause Symbol">|</a><a id="6928" class="CatchallClause"> </a><a id="6929" href="Data.Sum.html#564" class="CatchallClause InductiveConstructor">inj₁</a><a id="6933" class="CatchallClause"> </a><a id="6934" href="Data.List.Countdown.html#6934" class="CatchallClause Bound">x∈counted</a><a id="6943" class="CatchallClause"> </a><a id="6944" class="CatchallClause Symbol">|</a><a id="6945" class="CatchallClause"> </a><a id="6946" class="CatchallClause Symbol">_</a><a id="6947" class="CatchallClause">              </a><a id="6961" class="CatchallClause Symbol">|</a><a id="6962" class="CatchallClause"> </a><a id="6963" class="CatchallClause Symbol">_</a>   <a id="6967" class="Symbol">=</a> <a id="6969" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="6976" class="Symbol">(</a><a id="6977" href="Data.List.Countdown.html#6512" class="Bound">x∉counted</a> <a id="6987" href="Data.List.Countdown.html#6934" class="Bound">x∈counted</a><a id="6996" class="Symbol">)</a>
  <a id="7000" href="Data.List.Countdown.html#6736" class="CatchallClause Function">kind′</a><a id="7005" class="CatchallClause">  </a><a id="7007" href="Data.List.Countdown.html#7007" class="CatchallClause Bound">y</a><a id="7008" class="CatchallClause"> </a><a id="7009" class="CatchallClause Symbol">|</a><a id="7010" class="CatchallClause"> </a><a id="7011" class="CatchallClause Symbol">_</a><a id="7012" class="CatchallClause">       </a><a id="7019" class="CatchallClause Symbol">|</a><a id="7020" class="CatchallClause"> </a><a id="7021" class="CatchallClause Symbol">_</a><a id="7022" class="CatchallClause">              </a><a id="7036" class="CatchallClause Symbol">|</a><a id="7037" class="CatchallClause"> </a><a id="7038" href="Data.Sum.html#564" class="CatchallClause InductiveConstructor">inj₁</a><a id="7042" class="CatchallClause"> </a><a id="7043" href="Data.List.Countdown.html#7043" class="CatchallClause Bound">y∈counted</a><a id="7052" class="CatchallClause"> </a><a id="7053" class="CatchallClause Symbol">|</a><a id="7054" class="CatchallClause"> </a><a id="7055" class="CatchallClause Symbol">_</a>   <a id="7059" class="Symbol">=</a> <a id="7061" href="Data.Sum.html#564" class="InductiveConstructor">inj₁</a> <a id="7066" class="Symbol">(</a><a id="7067" href="Data.List.Any.html#801" class="InductiveConstructor">there</a> <a id="7073" href="Data.List.Countdown.html#7043" class="Bound">y∈counted</a><a id="7082" class="Symbol">)</a>
  <a id="7086" href="Data.List.Countdown.html#6736" class="Function">kind′</a>  <a id="7093" href="Data.List.Countdown.html#7093" class="Bound">y</a> <a id="7095" class="Symbol">|</a> <a id="7097" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7101" href="Data.List.Countdown.html#7101" class="Bound">y≉x</a> <a id="7105" class="Symbol">|</a> <a id="7107" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7112" href="Data.List.Countdown.html#7112" class="Bound">i</a>         <a id="7122" class="Symbol">|</a> <a id="7124" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7129" href="Data.List.Countdown.html#7129" class="Bound">j</a>         <a id="7139" class="Symbol">|</a> <a id="7141" href="Data.List.Countdown.html#7141" class="Bound">hlp</a> <a id="7145" class="Symbol">=</a>
    <a id="7151" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7156" class="Symbol">(</a><a id="7157" href="Data.Fin.html#4733" class="Function">punchOut</a> <a id="7166" class="Symbol">(</a><a id="7167" href="Data.List.Countdown.html#7101" class="Bound">y≉x</a> <a id="7171" href="Function.html#748" class="Function Operator">∘</a> <a id="7173" href="Relation.Binary.Core.html#4960" class="Function">sym</a> <a id="7177" href="Function.html#748" class="Function Operator">∘</a> <a id="7179" href="Data.List.Countdown.html#7141" class="Bound">hlp</a> <a id="7183" class="Symbol">_</a> <a id="7185" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="7190" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="7194" class="Symbol">))</a>

  <a id="7200" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7204" class="Symbol">:</a> <a id="7206" class="Symbol">∀</a> <a id="7208" class="Symbol">{</a><a id="7209" href="Data.List.Countdown.html#7209" class="Bound">y</a> <a id="7211" href="Data.List.Countdown.html#7211" class="Bound">z</a> <a id="7213" href="Data.List.Countdown.html#7213" class="Bound">i</a><a id="7214" class="Symbol">}</a> <a id="7216" class="Symbol">→</a> <a id="7218" href="Data.List.Countdown.html#6736" class="Function">kind′</a> <a id="7224" href="Data.List.Countdown.html#7209" class="Bound">y</a> <a id="7226" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="7228" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7233" href="Data.List.Countdown.html#7213" class="Bound">i</a> <a id="7235" class="Symbol">→</a> <a id="7237" href="Data.List.Countdown.html#6736" class="Function">kind′</a> <a id="7243" href="Data.List.Countdown.html#7211" class="Bound">z</a> <a id="7245" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="7247" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7252" href="Data.List.Countdown.html#7213" class="Bound">i</a> <a id="7254" class="Symbol">→</a> <a id="7256" href="Data.List.Countdown.html#7209" class="Bound">y</a> <a id="7258" href="Relation.Binary.html#3072" class="Field Operator">≈</a> <a id="7260" href="Data.List.Countdown.html#7211" class="Bound">z</a>
  <a id="7264" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7268" class="Symbol">{</a><a id="7269" href="Data.List.Countdown.html#7269" class="Bound">y</a><a id="7270" class="Symbol">}</a> <a id="7272" class="Symbol">{</a><a id="7273" href="Data.List.Countdown.html#7273" class="Bound">z</a><a id="7274" class="Symbol">}</a> <a id="7276" href="Data.List.Countdown.html#7276" class="Bound">eq₁</a> <a id="7280" href="Data.List.Countdown.html#7280" class="Bound">eq₂</a> <a id="7284" class="Keyword">with</a> <a id="7289" href="Data.List.Countdown.html#7269" class="Bound">y</a> <a id="7291" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="7293" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="7295" class="Symbol">|</a> <a id="7297" href="Data.List.Countdown.html#7273" class="Bound">z</a> <a id="7299" href="Relation.Binary.html#2896" class="Function Operator">≟</a> <a id="7301" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="7303" class="Symbol">|</a> <a id="7305" href="Data.List.Countdown.html#4753" class="Function">kind</a> <a id="7310" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="7312" class="Symbol">|</a> <a id="7314" href="Data.List.Countdown.html#4753" class="Function">kind</a> <a id="7319" href="Data.List.Countdown.html#7269" class="Bound">y</a> <a id="7321" class="Symbol">|</a> <a id="7323" href="Data.List.Countdown.html#4753" class="Function">kind</a> <a id="7328" href="Data.List.Countdown.html#7273" class="Bound">z</a>
                         <a id="7355" class="Symbol">|</a> <a id="7357" href="Data.List.Countdown.html#6601" class="Function">helper</a> <a id="7364" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="7366" href="Data.List.Countdown.html#7269" class="Bound">y</a> <a id="7368" class="Symbol">|</a> <a id="7370" href="Data.List.Countdown.html#6601" class="Function">helper</a> <a id="7377" href="Data.List.Countdown.html#6510" class="Bound">x</a> <a id="7379" href="Data.List.Countdown.html#7273" class="Bound">z</a> <a id="7381" class="Symbol">|</a> <a id="7383" href="Data.List.Countdown.html#6601" class="Function">helper</a> <a id="7390" href="Data.List.Countdown.html#7269" class="Bound">y</a> <a id="7392" href="Data.List.Countdown.html#7273" class="Bound">z</a>
  <a id="7396" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7400" class="Symbol">()</a>  <a id="7404" class="Symbol">_</a>   <a id="7408" class="Symbol">|</a> <a id="7410" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="7414" class="Symbol">_</a> <a id="7416" class="Symbol">|</a> <a id="7418" class="Symbol">_</a>     <a id="7424" class="Symbol">|</a> <a id="7426" class="Symbol">_</a>              <a id="7441" class="Symbol">|</a> <a id="7443" class="Symbol">_</a>      <a id="7450" class="Symbol">|</a> <a id="7452" class="Symbol">_</a>      <a id="7459" class="Symbol">|</a> <a id="7461" class="Symbol">_</a> <a id="7463" class="Symbol">|</a> <a id="7465" class="Symbol">_</a> <a id="7467" class="Symbol">|</a> <a id="7469" class="Symbol">_</a>
  <a id="7473" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7477" class="Symbol">_</a>   <a id="7481" class="Symbol">()</a>  <a id="7485" class="Symbol">|</a> <a id="7487" class="Symbol">_</a>     <a id="7493" class="Symbol">|</a> <a id="7495" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="7499" class="Symbol">_</a> <a id="7501" class="Symbol">|</a> <a id="7503" class="Symbol">_</a>              <a id="7518" class="Symbol">|</a> <a id="7520" class="Symbol">_</a>      <a id="7527" class="Symbol">|</a> <a id="7529" class="Symbol">_</a>      <a id="7536" class="Symbol">|</a> <a id="7538" class="Symbol">_</a> <a id="7540" class="Symbol">|</a> <a id="7542" class="Symbol">_</a> <a id="7544" class="Symbol">|</a> <a id="7546" class="Symbol">_</a>
  <a id="7550" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7554" class="Symbol">_</a>   <a id="7558" class="Symbol">_</a>   <a id="7562" class="Symbol">|</a> <a id="7564" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7568" class="Symbol">_</a> <a id="7570" class="Symbol">|</a> <a id="7572" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7576" class="Symbol">_</a> <a id="7578" class="Symbol">|</a> <a id="7580" href="Data.Sum.html#564" class="InductiveConstructor">inj₁</a> <a id="7585" href="Data.List.Countdown.html#7585" class="Bound">x∈counted</a> <a id="7595" class="Symbol">|</a> <a id="7597" class="Symbol">_</a>      <a id="7604" class="Symbol">|</a> <a id="7606" class="Symbol">_</a>      <a id="7613" class="Symbol">|</a> <a id="7615" class="Symbol">_</a> <a id="7617" class="Symbol">|</a> <a id="7619" class="Symbol">_</a> <a id="7621" class="Symbol">|</a> <a id="7623" class="Symbol">_</a> <a id="7625" class="Symbol">=</a> <a id="7627" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="7634" class="Symbol">(</a><a id="7635" href="Data.List.Countdown.html#6512" class="Bound">x∉counted</a> <a id="7645" href="Data.List.Countdown.html#7585" class="Bound">x∈counted</a><a id="7654" class="Symbol">)</a>
  <a id="7658" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7662" class="Symbol">()</a>  <a id="7666" class="Symbol">_</a>   <a id="7670" class="Symbol">|</a> <a id="7672" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7676" class="Symbol">_</a> <a id="7678" class="Symbol">|</a> <a id="7680" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7684" class="Symbol">_</a> <a id="7686" class="Symbol">|</a> <a id="7688" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7693" class="Symbol">_</a>         <a id="7703" class="Symbol">|</a> <a id="7705" href="Data.Sum.html#564" class="InductiveConstructor">inj₁</a> <a id="7710" class="Symbol">_</a> <a id="7712" class="Symbol">|</a> <a id="7714" class="Symbol">_</a>      <a id="7721" class="Symbol">|</a> <a id="7723" class="Symbol">_</a> <a id="7725" class="Symbol">|</a> <a id="7727" class="Symbol">_</a> <a id="7729" class="Symbol">|</a> <a id="7731" class="Symbol">_</a>
  <a id="7735" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7739" class="Symbol">_</a>   <a id="7743" class="Symbol">()</a>  <a id="7747" class="Symbol">|</a> <a id="7749" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7753" class="Symbol">_</a> <a id="7755" class="Symbol">|</a> <a id="7757" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7761" class="Symbol">_</a> <a id="7763" class="Symbol">|</a> <a id="7765" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7770" class="Symbol">_</a>         <a id="7780" class="Symbol">|</a> <a id="7782" class="Symbol">_</a>      <a id="7789" class="Symbol">|</a> <a id="7791" href="Data.Sum.html#564" class="InductiveConstructor">inj₁</a> <a id="7796" class="Symbol">_</a> <a id="7798" class="Symbol">|</a> <a id="7800" class="Symbol">_</a> <a id="7802" class="Symbol">|</a> <a id="7804" class="Symbol">_</a> <a id="7806" class="Symbol">|</a> <a id="7808" class="Symbol">_</a>
  <a id="7812" href="Data.List.Countdown.html#7200" class="Function">inj</a> <a id="7816" href="Data.List.Countdown.html#7816" class="Bound">eq₁</a> <a id="7820" href="Data.List.Countdown.html#7820" class="Bound">eq₂</a> <a id="7824" class="Symbol">|</a> <a id="7826" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7830" class="Symbol">_</a> <a id="7832" class="Symbol">|</a> <a id="7834" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="7838" class="Symbol">_</a> <a id="7840" class="Symbol">|</a> <a id="7842" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7847" href="Data.List.Countdown.html#7847" class="Bound">i</a>         <a id="7857" class="Symbol">|</a> <a id="7859" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7864" class="Symbol">_</a> <a id="7866" class="Symbol">|</a> <a id="7868" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="7873" class="Symbol">_</a> <a id="7875" class="Symbol">|</a> <a id="7877" class="Symbol">_</a> <a id="7879" class="Symbol">|</a> <a id="7881" class="Symbol">_</a> <a id="7883" class="Symbol">|</a> <a id="7885" href="Data.List.Countdown.html#7885" class="Bound">hlp</a> <a id="7889" class="Symbol">=</a>
    <a id="7895" href="Data.List.Countdown.html#7885" class="Bound">hlp</a> <a id="7899" class="Symbol">_</a> <a id="7901" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="7906" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="7911" href="Function.html#1870" class="Function Operator">$</a>
      <a id="7919" href="Data.Fin.Properties.html#11015" class="Function">punchOut-injective</a> <a id="7938" class="Symbol">{</a><a id="7939" class="Argument">i</a> <a id="7941" class="Symbol">=</a> <a id="7943" href="Data.List.Countdown.html#7847" class="Bound">i</a><a id="7944" class="Symbol">}</a> <a id="7946" class="Symbol">_</a> <a id="7948" class="Symbol">_</a> <a id="7950" href="Function.html#1870" class="Function Operator">$</a>
        <a id="7960" class="Symbol">(</a><a id="7961" href="Relation.Binary.PropositionalEquality.Core.html#632" class="Function">PropEq.trans</a> <a id="7974" class="Symbol">(</a><a id="7975" href="Data.List.Countdown.html#1238" class="Function">drop-inj₂</a> <a id="7985" href="Data.List.Countdown.html#7816" class="Bound">eq₁</a><a id="7988" class="Symbol">)</a> <a id="7990" class="Symbol">(</a><a id="7991" href="Relation.Binary.PropositionalEquality.Core.html#565" class="Function">PropEq.sym</a> <a id="8002" class="Symbol">(</a><a id="8003" href="Data.List.Countdown.html#1238" class="Function">drop-inj₂</a> <a id="8013" href="Data.List.Countdown.html#7820" class="Bound">eq₂</a><a id="8016" class="Symbol">)))</a>

<a id="8021" class="Comment">-- Counts an element if it has not already been counted.</a>

<a id="8079" href="Data.List.Countdown.html#8079" class="Function">lookupOrInsert</a> <a id="8094" class="Symbol">:</a> <a id="8096" class="Symbol">∀</a> <a id="8098" class="Symbol">{</a><a id="8099" href="Data.List.Countdown.html#8099" class="Bound">counted</a> <a id="8107" href="Data.List.Countdown.html#8107" class="Bound">m</a><a id="8108" class="Symbol">}</a> <a id="8110" class="Symbol">→</a>
                 <a id="8129" href="Data.List.Countdown.html#8099" class="Bound">counted</a> <a id="8137" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="8139" href="Data.List.Countdown.html#8107" class="Bound">m</a> <a id="8141" class="Symbol">→</a>
                 <a id="8160" class="Symbol">∀</a> <a id="8162" href="Data.List.Countdown.html#8162" class="Bound">x</a> <a id="8164" class="Symbol">→</a> <a id="8166" href="Data.List.Countdown.html#8162" class="Bound">x</a> <a id="8168" href="Data.List.Any.Membership.html#665" class="Function Operator">∈</a> <a id="8170" href="Data.List.Countdown.html#8099" class="Bound">counted</a> <a id="8178" href="Data.Sum.html#508" class="Datatype Operator">⊎</a>
                       <a id="8203" href="Data.Product.html#857" class="Function">∃</a> <a id="8205" class="Symbol">λ</a> <a id="8207" href="Data.List.Countdown.html#8207" class="Bound">n</a> <a id="8209" class="Symbol">→</a> <a id="8211" href="Data.List.Countdown.html#8107" class="Bound">m</a> <a id="8213" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="8215" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="8219" href="Data.List.Countdown.html#8207" class="Bound">n</a> <a id="8221" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="8223" href="Data.List.Countdown.html#8162" class="Bound">x</a> <a id="8225" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="8227" href="Data.List.Countdown.html#8099" class="Bound">counted</a> <a id="8235" href="Data.List.Countdown.html#4463" class="Record Operator">⊕</a> <a id="8237" href="Data.List.Countdown.html#8207" class="Bound">n</a>
<a id="8239" href="Data.List.Countdown.html#8079" class="Function">lookupOrInsert</a> <a id="8254" href="Data.List.Countdown.html#8254" class="Bound">counted⊕n</a> <a id="8264" href="Data.List.Countdown.html#8264" class="Bound">x</a> <a id="8266" class="Keyword">with</a> <a id="8271" href="Data.List.Countdown.html#5735" class="Function">lookup</a> <a id="8278" href="Data.List.Countdown.html#8254" class="Bound">counted⊕n</a> <a id="8288" href="Data.List.Countdown.html#8264" class="Bound">x</a>
<a id="8290" class="Symbol">...</a> <a id="8294" class="Symbol">|</a> <a id="8296" href="Relation.Nullary.html#520" class="InductiveConstructor">yes</a> <a id="8300" href="Data.List.Countdown.html#8300" class="Bound">x∈counted</a> <a id="8310" class="Symbol">=</a> <a id="8312" href="Data.Sum.html#564" class="InductiveConstructor">inj₁</a> <a id="8317" href="Data.List.Countdown.html#8300" class="Bound">x∈counted</a>
<a id="8327" class="Symbol">...</a> <a id="8331" class="Symbol">|</a> <a id="8333" href="Relation.Nullary.html#547" class="InductiveConstructor">no</a>  <a id="8337" href="Data.List.Countdown.html#8337" class="Bound">x∉counted</a> <a id="8347" class="Keyword">with</a> <a id="8352" href="Data.List.Countdown.html#6115" class="Function">lookup‼</a> <a id="8360" class="Bound">counted⊕n</a> <a id="8370" class="Bound">x</a> <a id="8372" href="Data.List.Countdown.html#8337" class="Bound">x∉counted</a>
<a id="8382" class="Symbol">...</a>   <a id="8388" class="Symbol">|</a> <a id="8390" class="Symbol">(</a><a id="8391" href="Data.List.Countdown.html#8391" class="Bound">n</a> <a id="8393" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="8395" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="8399" class="Symbol">)</a> <a id="8401" class="Symbol">=</a> <a id="8403" href="Data.Sum.html#589" class="InductiveConstructor">inj₂</a> <a id="8408" class="Symbol">(</a><a id="8409" href="Data.List.Countdown.html#8391" class="Bound">n</a> <a id="8411" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="8413" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="8418" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="8420" href="Data.List.Countdown.html#6389" class="Function">insert</a> <a id="8427" class="Bound">counted⊕n</a> <a id="8437" class="Bound">x</a> <a id="8439" class="Bound">x∉counted</a><a id="8448" class="Symbol">)</a>
</pre></body></html>