<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.RingSolver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- A solver that uses reflection to automatically obtain and solve</a>
<a id="173" class="Comment">-- equations over rings.</a>
<a id="198" class="Comment">------------------------------------------------------------------------</a>

<a id="272" class="Symbol">{-#</a> <a id="276" class="Keyword">OPTIONS</a> <a id="284" class="Pragma">--without-K</a> <a id="296" class="Pragma">--safe</a> <a id="303" class="Symbol">#-}</a>

<a id="308" class="Keyword">module</a> <a id="315" href="Tactic.RingSolver.html" class="Module">Tactic.RingSolver</a> <a id="333" class="Keyword">where</a>

<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a>

<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="Algebra.html" class="Module">Algebra</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Fin.html" class="Module">Data.Fin</a>   <a id="420" class="Symbol">as</a> <a id="423" class="Module">Fin</a>   <a id="429" class="Keyword">using</a> <a id="435" class="Symbol">(</a><a id="436" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a><a id="439" class="Symbol">)</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Data.Vec.html" class="Module">Data.Vec</a>   <a id="464" class="Symbol">as</a> <a id="467" class="Module">Vec</a>   <a id="473" class="Keyword">using</a> <a id="479" class="Symbol">(</a><a id="480" href="Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="483" class="Symbol">;</a> <a id="485" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">_∷_</a><a id="488" class="Symbol">;</a> <a id="490" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="492" class="Symbol">)</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.List.html" class="Module">Data.List</a>  <a id="517" class="Symbol">as</a> <a id="520" class="Module">List</a>  <a id="526" class="Keyword">using</a> <a id="532" class="Symbol">(</a><a id="533" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="537" class="Symbol">;</a> <a id="539" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="542" class="Symbol">;</a> <a id="544" href="Data.List.Base.html#9701" class="InductiveConstructor">[]</a><a id="546" class="Symbol">)</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="576" class="Symbol">as</a> <a id="579" class="Module">Maybe</a> <a id="585" class="Keyword">using</a> <a id="591" class="Symbol">(</a><a id="592" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a><a id="597" class="Symbol">;</a> <a id="599" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a><a id="603" class="Symbol">;</a> <a id="605" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a><a id="612" class="Symbol">;</a> <a id="614" href="Data.Maybe.Base.html#1651" class="Function">fromMaybe</a><a id="623" class="Symbol">)</a>
<a id="625" class="Keyword">open</a> <a id="630" class="Keyword">import</a> <a id="637" href="Data.Nat.html" class="Module">Data.Nat</a>            <a id="657" class="Keyword">using</a> <a id="663" class="Symbol">(</a><a id="664" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="665" class="Symbol">;</a> <a id="667" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="670" class="Symbol">;</a> <a id="672" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="676" class="Symbol">;</a> <a id="678" href="Data.Nat.Base.html#884" class="Primitive Operator">_&lt;ᵇ_</a><a id="682" class="Symbol">)</a>
<a id="684" class="Keyword">open</a> <a id="689" class="Keyword">import</a> <a id="696" href="Data.Bool.html" class="Module">Data.Bool</a>           <a id="716" class="Keyword">using</a> <a id="722" class="Symbol">(</a><a id="723" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="727" class="Symbol">;</a> <a id="729" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="742" class="Symbol">;</a> <a id="744" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="748" class="Symbol">;</a> <a id="750" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="755" class="Symbol">)</a>
<a id="757" class="Keyword">open</a> <a id="762" class="Keyword">import</a> <a id="769" href="Data.Unit.html" class="Module">Data.Unit</a>           <a id="789" class="Keyword">using</a> <a id="795" class="Symbol">(</a><a id="796" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="797" class="Symbol">)</a>
<a id="799" class="Keyword">open</a> <a id="804" class="Keyword">import</a> <a id="811" href="Data.String.html" class="Module">Data.String</a>         <a id="831" class="Keyword">using</a> <a id="837" class="Symbol">(</a><a id="838" href="Agda.Builtin.String.html#274" class="Postulate">String</a><a id="844" class="Symbol">)</a>
<a id="846" class="Keyword">open</a> <a id="851" class="Keyword">import</a> <a id="858" href="Data.Product.html" class="Module">Data.Product</a>        <a id="878" class="Keyword">using</a> <a id="884" class="Symbol">(</a><a id="885" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="888" class="Symbol">)</a>
<a id="890" class="Keyword">open</a> <a id="895" class="Keyword">import</a> <a id="902" href="Function.html" class="Module">Function</a>
<a id="911" class="Keyword">open</a> <a id="916" class="Keyword">import</a> <a id="923" href="Reflection.TCMonadSyntax.html" class="Module">Reflection.TCMonadSyntax</a>

<a id="949" class="Keyword">open</a> <a id="954" class="Keyword">import</a> <a id="961" href="Tactic.RingSolver.NonReflective.html" class="Module">Tactic.RingSolver.NonReflective</a> <a id="993" class="Keyword">renaming</a> <a id="1002" class="Symbol">(</a><a id="1003" href="Tactic.RingSolver.NonReflective.html#2889" class="Function">solve</a> <a id="1009" class="Symbol">to</a> <a id="NonReflective.solve"></a><a id="1012" href="Tactic.RingSolver.html#1012" class="Function">solve-fn</a><a id="1020" class="Symbol">)</a>
<a id="1022" class="Keyword">open</a> <a id="1027" class="Keyword">import</a> <a id="1034" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html" class="Module">Tactic.RingSolver.Core.AlmostCommutativeRing</a>
<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Tactic.RingSolver.Core.NatSet.html" class="Module">Tactic.RingSolver.Core.NatSet</a> <a id="1121" class="Symbol">as</a> <a id="1124" class="Module">NatSet</a>
<a id="1131" class="Keyword">open</a> <a id="1136" class="Keyword">import</a> <a id="1143" href="Tactic.RingSolver.Core.ReflectionHelp.html" class="Module">Tactic.RingSolver.Core.ReflectionHelp</a>

<a id="1182" class="Keyword">open</a> <a id="1187" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1223" class="Module">AlmostCommutativeRing</a>

<a id="1210" class="Comment">------------------------------------------------------------------------</a>
<a id="1283" class="Comment">-- Processing</a>
<a id="1297" class="Comment">------------------------------------------------------------------------</a>

<a id="1371" class="Keyword">private</a>
  <a id="1381" class="Keyword">record</a> <a id="Ring⇓"></a><a id="1388" href="Tactic.RingSolver.html#1388" class="Record">Ring⇓</a> <a id="1394" class="Symbol">:</a> <a id="1396" class="PrimitiveType">Set</a> <a id="1400" class="Keyword">where</a>
    <a id="1410" class="Keyword">constructor</a> <a id="+⇒_*⇒_^⇒_-⇒_"></a><a id="1422" href="Tactic.RingSolver.html#1422" class="InductiveConstructor Operator">+⇒_*⇒_^⇒_-⇒_</a>
    <a id="1439" class="Keyword">field</a>
      <a id="Ring⇓.+′"></a><a id="1451" href="Tactic.RingSolver.html#1451" class="Field">+′</a> <a id="Ring⇓.*′"></a><a id="1454" href="Tactic.RingSolver.html#1454" class="Field">*′</a> <a id="Ring⇓.^′"></a><a id="1457" href="Tactic.RingSolver.html#1457" class="Field">^′</a> <a id="Ring⇓.-′"></a><a id="1460" href="Tactic.RingSolver.html#1460" class="Field">-′</a> <a id="1463" class="Symbol">:</a> <a id="1465" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="1471" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a>

  <a id="_∈Ring"></a><a id="1479" href="Tactic.RingSolver.html#1479" class="Function Operator">_∈Ring</a> <a id="1486" class="Symbol">:</a> <a id="1488" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="1493" class="Symbol">→</a> <a id="1495" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="1498" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
  <a id="1505" href="Tactic.RingSolver.html#1505" class="Bound">ring</a> <a id="1510" href="Tactic.RingSolver.html#1479" class="Function Operator">∈Ring</a> <a id="1516" class="Symbol">=</a> <a id="1518" href="Agda.Builtin.Reflection.html#7668" class="Postulate">checkType</a> <a id="1528" href="Tactic.RingSolver.html#1505" class="Bound">ring</a> <a id="1533" class="Symbol">(</a><a id="1534" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="1538" class="Symbol">(</a><a id="1539" class="Keyword">quote</a> <a id="1545" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1223" class="Record">AlmostCommutativeRing</a><a id="1566" class="Symbol">)</a> <a id="1568" class="Symbol">(</a><a id="1569" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a> <a id="1577" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="1581" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a> <a id="1589" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="1593" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1595" class="Symbol">))</a>

  <a id="vars"></a><a id="1601" href="Tactic.RingSolver.html#1601" class="Function">vars</a> <a id="1606" class="Symbol">:</a> <a id="1608" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="1613" class="Symbol">→</a> <a id="1615" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="1621" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a>
  <a id="1630" href="Tactic.RingSolver.html#1601" class="Function">vars</a> <a id="1635" class="Symbol">=</a> <a id="1637" href="Tactic.RingSolver.html#1657" class="Function">go</a> <a id="1640" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="1647" class="Keyword">where</a>
    <a id="1657" href="Tactic.RingSolver.html#1657" class="Function">go</a> <a id="1660" class="Symbol">:</a> <a id="1662" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a> <a id="1669" class="Symbol">→</a> <a id="1671" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="1676" class="Symbol">→</a> <a id="1678" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="1684" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a>
    <a id="1695" href="Tactic.RingSolver.html#1657" class="Function">go</a> <a id="1698" href="Tactic.RingSolver.html#1698" class="Bound">t</a> <a id="1700" class="Symbol">(</a><a id="1701" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="1705" class="Symbol">(</a><a id="1706" class="Keyword">quote</a> <a id="1712" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">List._∷_</a><a id="1720" class="Symbol">)</a> <a id="1722" class="Symbol">(_</a> <a id="1725" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1727" class="Symbol">_</a> <a id="1729" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1731" href="Agda.Builtin.Reflection.html#4795" class="InductiveConstructor">var</a> <a id="1735" href="Tactic.RingSolver.html#1735" class="Bound">i</a> <a id="1737" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1740" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="1744" href="Tactic.RingSolver.html#1744" class="Bound">xs</a> <a id="1747" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="1751" class="Symbol">_))</a> <a id="1755" class="Symbol">=</a> <a id="1757" href="Tactic.RingSolver.html#1657" class="Function">go</a> <a id="1760" class="Symbol">(</a><a id="1761" href="Tactic.RingSolver.Core.NatSet.html#2233" class="Function">insert</a> <a id="1768" href="Tactic.RingSolver.html#1735" class="Bound">i</a> <a id="1770" href="Tactic.RingSolver.html#1698" class="Bound">t</a><a id="1771" class="Symbol">)</a> <a id="1773" href="Tactic.RingSolver.html#1744" class="Bound">xs</a>
    <a id="1780" href="Tactic.RingSolver.html#1657" class="Function">go</a> <a id="1783" href="Tactic.RingSolver.html#1783" class="Bound">t</a> <a id="1785" class="Symbol">(</a><a id="1786" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="1790" class="Symbol">(</a><a id="1791" class="Keyword">quote</a> <a id="1797" href="Agda.Builtin.List.html#185" class="InductiveConstructor">List.List.[]</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">_)</a> <a id="1814" class="Symbol">=</a> <a id="1816" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="1821" href="Tactic.RingSolver.html#1783" class="Bound">t</a>
    <a id="1827" href="Tactic.RingSolver.html#1657" class="CatchallClause Function">go</a><a id="1829" class="CatchallClause"> </a><a id="1830" class="CatchallClause Symbol">_</a><a id="1831" class="CatchallClause"> </a><a id="1832" class="CatchallClause Symbol">_</a> <a id="1834" class="Symbol">=</a> <a id="1836" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>

  <a id="1847" class="Keyword">module</a> <a id="OverRing"></a><a id="1854" href="Tactic.RingSolver.html#1854" class="Module">OverRing</a> <a id="1863" class="Symbol">(</a><a id="1864" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="1869" class="Symbol">:</a> <a id="1871" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="1875" class="Symbol">)</a> <a id="1877" class="Keyword">where</a>
    <a id="OverRing._∈List⟨Carrier⟩"></a><a id="1887" href="Tactic.RingSolver.html#1887" class="Function Operator">_∈List⟨Carrier⟩</a> <a id="1903" class="Symbol">:</a> <a id="1905" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="1910" class="Symbol">→</a> <a id="1912" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="1915" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
    <a id="1924" href="Tactic.RingSolver.html#1924" class="Bound">t</a> <a id="1926" href="Tactic.RingSolver.html#1887" class="Function Operator">∈List⟨Carrier⟩</a> <a id="1941" class="Symbol">=</a>
      <a id="1949" href="Agda.Builtin.Reflection.html#7668" class="Postulate">checkType</a> <a id="1959" href="Tactic.RingSolver.html#1924" class="Bound">t</a>
        <a id="1969" class="Symbol">(</a><a id="1970" class="Keyword">quote</a> <a id="1976" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1981" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="1983" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="1987" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="1989" class="Number">1</a> <a id="1991" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="1996" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="2000" class="Symbol">(</a><a id="2001" class="Keyword">quote</a> <a id="2007" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1361" class="Field">Carrier</a><a id="2014" class="Symbol">)</a> <a id="2016" class="Symbol">(</a><a id="2017" class="Number">2</a> <a id="2019" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="2024" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="2029" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="2033" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2035" class="Symbol">)</a> <a id="2037" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="2041" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2043" class="Symbol">)</a> <a id="2045" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">&gt;&gt;=</a> <a id="2049" href="Agda.Builtin.Reflection.html#7711" class="Postulate">normalise</a>

    <a id="OverRing.⟦_⇓⟧ₙ"></a><a id="2064" href="Tactic.RingSolver.html#2064" class="Function Operator">⟦_⇓⟧ₙ</a> <a id="2070" class="Symbol">:</a> <a id="2072" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="2077" class="Symbol">→</a> <a id="2079" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="2082" class="Symbol">(</a><a id="2083" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="2089" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a><a id="2093" class="Symbol">)</a>
    <a id="2099" href="Tactic.RingSolver.html#2064" class="Function Operator">⟦</a> <a id="2101" href="Tactic.RingSolver.html#2101" class="Bound">nm</a> <a id="2104" href="Tactic.RingSolver.html#2064" class="Function Operator">⇓⟧ₙ</a> <a id="2108" class="Symbol">=</a> <a id="2110" href="Agda.Builtin.Reflection.html#7711" class="Postulate">normalise</a> <a id="2120" class="Symbol">(</a><a id="2121" href="Tactic.RingSolver.html#2101" class="Bound">nm</a> <a id="2124" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="2126" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="2130" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="2132" class="Number">2</a> <a id="2134" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="2139" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="2144" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="2148" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2150" class="Symbol">)</a> <a id="2152" href="Reflection.TCMonadSyntax.html#1142" class="Function Operator">&lt;&amp;&gt;</a> <a id="2156" class="Symbol">λ</a> <a id="2158" class="Keyword">where</a>
      <a id="2170" class="Symbol">(</a><a id="2171" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="2175" href="Tactic.RingSolver.html#2175" class="Bound">f</a> <a id="2177" href="Tactic.RingSolver.html#2177" class="Bound">args</a><a id="2181" class="Symbol">)</a> <a id="2183" class="Symbol">→</a> <a id="2185" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="2190" href="Tactic.RingSolver.html#2175" class="Bound">f</a>
      <a id="2198" class="CatchallClause Symbol">_</a>            <a id="2211" class="Symbol">→</a> <a id="2213" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>

    <a id="OverRing.ring⇓"></a><a id="2226" href="Tactic.RingSolver.html#2226" class="Function">ring⇓</a> <a id="2232" class="Symbol">:</a> <a id="2234" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="2237" href="Tactic.RingSolver.html#1388" class="Record">Ring⇓</a>
    <a id="2247" href="Tactic.RingSolver.html#2226" class="Function">ring⇓</a> <a id="2253" class="Symbol">=</a> <a id="2255" class="Symbol">⦇</a> <a id="2257" href="Tactic.RingSolver.html#1422" class="InductiveConstructor Operator">+⇒</a> <a id="2260" href="Tactic.RingSolver.html#2064" class="Function Operator">⟦</a> <a id="2262" class="Keyword">quote</a> <a id="2268" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1441" class="Field Operator">_+_</a> <a id="2272" href="Tactic.RingSolver.html#2064" class="Function Operator">⇓⟧ₙ</a> <a id="2276" href="Tactic.RingSolver.html#1422" class="InductiveConstructor Operator">*⇒</a> <a id="2279" href="Tactic.RingSolver.html#2064" class="Function Operator">⟦</a> <a id="2281" class="Keyword">quote</a> <a id="2287" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1483" class="Field Operator">_*_</a> <a id="2291" href="Tactic.RingSolver.html#2064" class="Function Operator">⇓⟧ₙ</a> <a id="2295" href="Tactic.RingSolver.html#1422" class="InductiveConstructor Operator">^⇒</a> <a id="2298" href="Tactic.RingSolver.html#2064" class="Function Operator">⟦</a> <a id="2300" class="Keyword">quote</a> <a id="2306" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#2383" class="Function Operator">_^_</a> <a id="2310" href="Tactic.RingSolver.html#2064" class="Function Operator">⇓⟧ₙ</a> <a id="2314" href="Tactic.RingSolver.html#1422" class="InductiveConstructor Operator">-⇒</a> <a id="2317" href="Tactic.RingSolver.html#2064" class="Function Operator">⟦</a> <a id="2319" class="Keyword">quote</a> <a id="2325" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1525" class="Field Operator">-_</a> <a id="2328" href="Tactic.RingSolver.html#2064" class="Function Operator">⇓⟧ₙ</a> <a id="2332" class="Symbol">⦈</a>

    <a id="2339" class="Keyword">module</a> <a id="2346" href="Tactic.RingSolver.html#2346" class="Module">_</a> <a id="2348" class="Symbol">(</a><a id="2349" href="Tactic.RingSolver.html#2349" class="Bound">nms</a> <a id="2353" class="Symbol">:</a> <a id="2355" href="Tactic.RingSolver.html#1388" class="Record">Ring⇓</a><a id="2360" class="Symbol">)</a> <a id="2362" class="Keyword">where</a>
      <a id="2374" class="Keyword">open</a> <a id="2379" href="Tactic.RingSolver.html#1388" class="Module">Ring⇓</a> <a id="2385" href="Tactic.RingSolver.html#2349" class="Bound">nms</a>

      <a id="2396" class="Keyword">module</a> <a id="2403" href="Tactic.RingSolver.html#2403" class="Module">_</a> <a id="2405" class="Symbol">(</a><a id="2406" href="Tactic.RingSolver.html#2406" class="Bound">numVars</a> <a id="2414" class="Symbol">:</a> <a id="2416" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2417" class="Symbol">)</a> <a id="2419" class="Keyword">where</a>

        <a id="2434" class="Comment">-- This function applies the hidden arguments that the constructors</a>
        <a id="2510" class="Comment">-- that Expr needs. The first is the universe level, the second is the</a>
        <a id="2589" class="Comment">-- type it contains, and the third is the number of variables it&#39;s</a>
        <a id="2664" class="Comment">-- indexed by. All three of these could likely be inferred, but to</a>
        <a id="2739" class="Comment">-- make things easier we supply the third because we know it.</a>
        <a id="2809" class="Keyword">infixr</a> <a id="2816" class="Number">5</a> <a id="2818" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆_</a>
        <a id="2832" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆_</a> <a id="2838" class="Symbol">:</a> <a id="2840" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2845" class="Symbol">(</a><a id="2846" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="2850" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="2854" class="Symbol">)</a> <a id="2856" class="Symbol">→</a> <a id="2858" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2863" class="Symbol">(</a><a id="2864" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="2868" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="2872" class="Symbol">)</a>
        <a id="2882" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆</a> <a id="2887" href="Tactic.RingSolver.html#2887" class="Bound">xs</a> <a id="2890" class="Symbol">=</a> <a id="2892" class="Number">1</a> <a id="2894" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a>
                  <a id="2917" class="Symbol">(</a><a id="2918" class="Keyword">quote</a> <a id="2924" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1361" class="Field">Carrier</a> <a id="2932" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="2934" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="2938" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="2940" class="Number">2</a> <a id="2942" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="2947" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="2952" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="2956" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2958" class="Symbol">)</a> <a id="2960" href="Tactic.RingSolver.Core.ReflectionHelp.html#1052" class="InductiveConstructor Operator">⟅∷⟆</a>
                  <a id="2982" href="Tactic.RingSolver.Core.ReflectionHelp.html#1248" class="Function">ℕ′</a> <a id="2985" href="Tactic.RingSolver.html#2406" class="Bound">numVars</a> <a id="2993" href="Tactic.RingSolver.Core.ReflectionHelp.html#1052" class="InductiveConstructor Operator">⟅∷⟆</a>
                  <a id="3015" href="Tactic.RingSolver.html#2887" class="Bound">xs</a>

        <a id="3027" class="Comment">-- A constant expression.</a>
        <a id="3061" href="Tactic.RingSolver.html#3061" class="Function">Κ′</a> <a id="3064" class="Symbol">:</a> <a id="3066" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="3071" class="Symbol">→</a> <a id="3073" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="3086" href="Tactic.RingSolver.html#3061" class="Function">Κ′</a> <a id="3089" href="Tactic.RingSolver.html#3089" class="Bound">x</a> <a id="3091" class="Symbol">=</a> <a id="3093" class="Keyword">quote</a> <a id="3099" href="Tactic.RingSolver.Core.Expression.html#538" class="InductiveConstructor">Κ</a> <a id="3101" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="3103" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="3107" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="3109" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆</a> <a id="3114" href="Tactic.RingSolver.html#3089" class="Bound">x</a> <a id="3116" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3120" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

        <a id="3132" href="Tactic.RingSolver.html#3132" class="Function Operator">_⇓≟_</a> <a id="3137" class="Symbol">:</a> <a id="3139" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="3145" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3150" class="Symbol">→</a> <a id="3152" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3157" class="Symbol">→</a> <a id="3159" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
        <a id="3172" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="3180" href="Tactic.RingSolver.html#3132" class="Function Operator">⇓≟</a> <a id="3183" class="Symbol">_</a> <a id="3185" class="Symbol">=</a> <a id="3187" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
        <a id="3201" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="3206" href="Tactic.RingSolver.html#3206" class="Bound">x</a>  <a id="3209" href="Tactic.RingSolver.html#3132" class="Function Operator">⇓≟</a> <a id="3212" href="Tactic.RingSolver.html#3212" class="Bound">y</a> <a id="3214" class="Symbol">=</a> <a id="3216" href="Agda.Builtin.Reflection.html#513" class="Primitive">primQNameEquality</a> <a id="3234" href="Tactic.RingSolver.html#3206" class="Bound">x</a> <a id="3236" href="Tactic.RingSolver.html#3212" class="Bound">y</a>
        <a id="3246" class="Symbol">{-#</a> <a id="3250" class="Keyword">INLINE</a> <a id="3257" href="Tactic.RingSolver.html#3132" class="Function Operator">_⇓≟_</a> <a id="3262" class="Symbol">#-}</a>

        <a id="3275" class="Keyword">module</a> <a id="ToExpr"></a><a id="3282" href="Tactic.RingSolver.html#3282" class="Module">ToExpr</a> <a id="3289" class="Symbol">(</a><a id="3290" href="Tactic.RingSolver.html#3290" class="Bound">Ι′</a> <a id="3293" class="Symbol">:</a> <a id="3295" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3297" class="Symbol">→</a> <a id="3299" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="3305" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="3309" class="Symbol">)</a> <a id="3311" class="Keyword">where</a>
          <a id="3327" class="Keyword">mutual</a>
            <a id="3346" class="Comment">-- Application of a ring operator often doesn&#39;t have a type as</a>
            <a id="3421" class="Comment">-- simple as &quot;Carrier → Carrier → Carrier&quot;: there may be hidden</a>
            <a id="3497" class="Comment">-- arguments, etc. Here, we do our best to handle those cases,</a>
            <a id="3572" class="Comment">-- by just taking the last two explicit arguments.</a>
            <a id="3635" href="Tactic.RingSolver.html#3635" class="Function Operator">E⟨_⟩₂</a> <a id="3641" class="Symbol">:</a> <a id="3643" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3648" class="Symbol">→</a> <a id="3650" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3655" class="Symbol">(</a><a id="3656" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="3660" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="3664" class="Symbol">)</a> <a id="3666" class="Symbol">→</a> <a id="3668" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
            <a id="3685" href="Tactic.RingSolver.html#3635" class="Function Operator">E⟨</a> <a id="3688" href="Tactic.RingSolver.html#3688" class="Bound">nm</a> <a id="3691" href="Tactic.RingSolver.html#3635" class="Function Operator">⟩₂</a> <a id="3694" class="Symbol">(</a><a id="3695" href="Tactic.RingSolver.html#3695" class="Bound">x</a> <a id="3697" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3701" href="Tactic.RingSolver.html#3701" class="Bound">y</a> <a id="3703" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3707" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3709" class="Symbol">)</a> <a id="3711" class="Symbol">=</a> <a id="3713" href="Tactic.RingSolver.html#3688" class="Bound">nm</a> <a id="3716" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="3718" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="3722" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="3724" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆</a> <a id="3729" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="3731" href="Tactic.RingSolver.html#3695" class="Bound">x</a> <a id="3733" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3737" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="3739" href="Tactic.RingSolver.html#3701" class="Bound">y</a> <a id="3741" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3745" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
            <a id="3760" href="Tactic.RingSolver.html#3635" class="CatchallClause Function Operator">E⟨</a><a id="3762" class="CatchallClause"> </a><a id="3763" href="Tactic.RingSolver.html#3763" class="CatchallClause Bound">nm</a><a id="3765" class="CatchallClause"> </a><a id="3766" href="Tactic.RingSolver.html#3635" class="CatchallClause Function Operator">⟩₂</a><a id="3768" class="CatchallClause"> </a><a id="3769" class="CatchallClause Symbol">(</a><a id="3770" href="Tactic.RingSolver.html#3770" class="CatchallClause Bound">x</a><a id="3771" class="CatchallClause"> </a><a id="3772" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3773" class="CatchallClause"> </a><a id="3774" href="Tactic.RingSolver.html#3774" class="CatchallClause Bound">xs</a><a id="3776" class="CatchallClause Symbol">)</a>         <a id="3786" class="Symbol">=</a> <a id="3788" href="Tactic.RingSolver.html#3635" class="Function Operator">E⟨</a> <a id="3791" href="Tactic.RingSolver.html#3763" class="Bound">nm</a> <a id="3794" href="Tactic.RingSolver.html#3635" class="Function Operator">⟩₂</a> <a id="3797" href="Tactic.RingSolver.html#3774" class="Bound">xs</a>
            <a id="3812" href="Tactic.RingSolver.html#3635" class="CatchallClause Function Operator">E⟨</a><a id="3814" class="CatchallClause"> </a><a id="3815" href="Tactic.RingSolver.html#3815" class="CatchallClause Bound">nm</a><a id="3817" class="CatchallClause"> </a><a id="3818" href="Tactic.RingSolver.html#3635" class="CatchallClause Function Operator">⟩₂</a><a id="3820" class="CatchallClause"> </a><a id="3821" class="CatchallClause Symbol">_</a>                <a id="3838" class="Symbol">=</a> <a id="3840" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>

            <a id="3861" href="Tactic.RingSolver.html#3861" class="Function Operator">E⟨_⟩₁</a> <a id="3867" class="Symbol">:</a> <a id="3869" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3874" class="Symbol">→</a> <a id="3876" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3881" class="Symbol">(</a><a id="3882" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="3886" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="3890" class="Symbol">)</a> <a id="3892" class="Symbol">→</a> <a id="3894" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
            <a id="3911" href="Tactic.RingSolver.html#3861" class="Function Operator">E⟨</a> <a id="3914" href="Tactic.RingSolver.html#3914" class="Bound">nm</a> <a id="3917" href="Tactic.RingSolver.html#3861" class="Function Operator">⟩₁</a> <a id="3920" class="Symbol">(</a><a id="3921" href="Tactic.RingSolver.html#3921" class="Bound">x</a> <a id="3923" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3927" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3929" class="Symbol">)</a> <a id="3931" class="Symbol">=</a> <a id="3933" href="Tactic.RingSolver.html#3914" class="Bound">nm</a> <a id="3936" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="3938" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="3942" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="3944" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆</a> <a id="3949" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="3951" href="Tactic.RingSolver.html#3921" class="Bound">x</a> <a id="3953" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="3957" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
            <a id="3972" href="Tactic.RingSolver.html#3861" class="CatchallClause Function Operator">E⟨</a><a id="3974" class="CatchallClause"> </a><a id="3975" href="Tactic.RingSolver.html#3975" class="CatchallClause Bound">nm</a><a id="3977" class="CatchallClause"> </a><a id="3978" href="Tactic.RingSolver.html#3861" class="CatchallClause Function Operator">⟩₁</a><a id="3980" class="CatchallClause"> </a><a id="3981" class="CatchallClause Symbol">(</a><a id="3982" href="Tactic.RingSolver.html#3982" class="CatchallClause Bound">x</a><a id="3983" class="CatchallClause"> </a><a id="3984" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3985" class="CatchallClause"> </a><a id="3986" href="Tactic.RingSolver.html#3986" class="CatchallClause Bound">xs</a><a id="3988" class="CatchallClause Symbol">)</a>   <a id="3992" class="Symbol">=</a> <a id="3994" href="Tactic.RingSolver.html#3861" class="Function Operator">E⟨</a> <a id="3997" href="Tactic.RingSolver.html#3975" class="Bound">nm</a> <a id="4000" href="Tactic.RingSolver.html#3861" class="Function Operator">⟩₁</a> <a id="4003" href="Tactic.RingSolver.html#3986" class="Bound">xs</a>
            <a id="4018" href="Tactic.RingSolver.html#3861" class="CatchallClause Function Operator">E⟨</a><a id="4020" class="CatchallClause"> </a><a id="4021" class="CatchallClause Symbol">_</a><a id="4022" class="CatchallClause">  </a><a id="4024" href="Tactic.RingSolver.html#3861" class="CatchallClause Function Operator">⟩₁</a><a id="4026" class="CatchallClause"> </a><a id="4027" class="CatchallClause Symbol">_</a>          <a id="4038" class="Symbol">=</a> <a id="4040" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>

            <a id="4061" href="Tactic.RingSolver.html#4061" class="Function">E⟨^⟩</a> <a id="4066" class="Symbol">:</a> <a id="4068" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4073" class="Symbol">(</a><a id="4074" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="4078" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="4082" class="Symbol">)</a> <a id="4084" class="Symbol">→</a> <a id="4086" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
            <a id="4103" href="Tactic.RingSolver.html#4061" class="Function">E⟨^⟩</a> <a id="4108" class="Symbol">(</a><a id="4109" href="Tactic.RingSolver.html#4109" class="Bound">x</a> <a id="4111" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4115" href="Tactic.RingSolver.html#4115" class="Bound">y</a> <a id="4117" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4121" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4123" class="Symbol">)</a> <a id="4125" class="Symbol">=</a> <a id="4127" class="Keyword">quote</a> <a id="4133" href="Tactic.RingSolver.Core.Expression.html#748" class="InductiveConstructor Operator">_⊛_</a> <a id="4137" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="4139" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="4143" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="4145" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆</a> <a id="4150" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="4152" href="Tactic.RingSolver.html#4109" class="Bound">x</a> <a id="4154" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4158" href="Tactic.RingSolver.html#4115" class="Bound">y</a> <a id="4160" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4164" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
            <a id="4179" href="Tactic.RingSolver.html#4061" class="CatchallClause Function">E⟨^⟩</a><a id="4183" class="CatchallClause"> </a><a id="4184" class="CatchallClause Symbol">(</a><a id="4185" href="Tactic.RingSolver.html#4185" class="CatchallClause Bound">x</a><a id="4186" class="CatchallClause"> </a><a id="4187" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="4188" class="CatchallClause"> </a><a id="4189" href="Tactic.RingSolver.html#4189" class="CatchallClause Bound">xs</a><a id="4191" class="CatchallClause Symbol">)</a>         <a id="4201" class="Symbol">=</a> <a id="4203" href="Tactic.RingSolver.html#4061" class="Function">E⟨^⟩</a> <a id="4208" href="Tactic.RingSolver.html#4189" class="Bound">xs</a>
            <a id="4223" href="Tactic.RingSolver.html#4061" class="CatchallClause Function">E⟨^⟩</a><a id="4227" class="CatchallClause"> </a><a id="4228" class="CatchallClause Symbol">_</a>                <a id="4245" class="Symbol">=</a> <a id="4247" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>

            <a id="4268" href="Tactic.RingSolver.html#4268" class="Function">ETop</a> <a id="4273" class="Symbol">:</a> <a id="4275" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4280" class="Symbol">(</a><a id="4281" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="4285" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="4289" class="Symbol">)</a> <a id="4291" class="Symbol">→</a> <a id="4293" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
            <a id="4310" href="Tactic.RingSolver.html#4268" class="Function">ETop</a> <a id="4315" class="Symbol">(</a><a id="4316" href="Tactic.RingSolver.html#4316" class="Bound">x</a> <a id="4318" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="4322" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4324" class="Symbol">)</a> <a id="4326" class="Symbol">=</a> <a id="4328" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="4330" href="Tactic.RingSolver.html#4316" class="Bound">x</a>
            <a id="4344" href="Tactic.RingSolver.html#4268" class="CatchallClause Function">ETop</a><a id="4348" class="CatchallClause"> </a><a id="4349" class="CatchallClause Symbol">_</a>          <a id="4360" class="Symbol">=</a> <a id="4362" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>

            <a id="4383" class="Comment">-- When trying to figure out the shape of an expression, one of</a>
            <a id="4459" class="Comment">-- the difficult tasks is recognizing where constants in the</a>
            <a id="4532" class="Comment">-- underlying ring are used. If we were only dealing with ℕ, we</a>
            <a id="4608" class="Comment">-- might look for its constructors: however, we want to deal with</a>
            <a id="4686" class="Comment">-- arbitrary types which implement AlmostCommutativeRing. If the</a>
            <a id="4763" class="Comment">-- Term type contained type information we might be able to</a>
            <a id="4835" class="Comment">-- recognize it there, but it doesn&#39;t.</a>
            <a id="4886" class="Comment">--</a>
            <a id="4901" class="Comment">-- We&#39;re in luck, though, because all other cases in the following</a>
            <a id="4980" class="Comment">-- function *are* recognizable. As a result, the &quot;catch-all&quot; case</a>
            <a id="5058" class="Comment">-- will just assume that it has a constant expression.</a>
            <a id="5125" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5127" class="Symbol">:</a> <a id="5129" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="5134" class="Symbol">→</a> <a id="5136" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
            <a id="5153" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5155" class="Symbol">(</a><a id="5156" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="5160" class="Symbol">(</a><a id="5161" class="Keyword">quote</a> <a id="5167" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1441" class="Field Operator">_+_</a><a id="5170" class="Symbol">)</a> <a id="5172" href="Tactic.RingSolver.html#5172" class="Bound">xs</a><a id="5174" class="Symbol">)</a> <a id="5176" class="Symbol">=</a> <a id="5178" href="Tactic.RingSolver.html#3635" class="Function Operator">E⟨</a> <a id="5181" class="Keyword">quote</a> <a id="5187" href="Tactic.RingSolver.Core.Expression.html#640" class="InductiveConstructor Operator">_⊕_</a> <a id="5191" href="Tactic.RingSolver.html#3635" class="Function Operator">⟩₂</a> <a id="5194" href="Tactic.RingSolver.html#5172" class="Bound">xs</a>
            <a id="5209" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5211" class="Symbol">(</a><a id="5212" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="5216" class="Symbol">(</a><a id="5217" class="Keyword">quote</a> <a id="5223" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1483" class="Field Operator">_*_</a><a id="5226" class="Symbol">)</a> <a id="5228" href="Tactic.RingSolver.html#5228" class="Bound">xs</a><a id="5230" class="Symbol">)</a> <a id="5232" class="Symbol">=</a> <a id="5234" href="Tactic.RingSolver.html#3635" class="Function Operator">E⟨</a> <a id="5237" class="Keyword">quote</a> <a id="5243" href="Tactic.RingSolver.Core.Expression.html#691" class="InductiveConstructor Operator">_⊗_</a> <a id="5247" href="Tactic.RingSolver.html#3635" class="Function Operator">⟩₂</a> <a id="5250" href="Tactic.RingSolver.html#5228" class="Bound">xs</a>
            <a id="5265" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5267" class="Symbol">(</a><a id="5268" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="5272" class="Symbol">(</a><a id="5273" class="Keyword">quote</a> <a id="5279" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#2383" class="Function Operator">_^_</a><a id="5282" class="Symbol">)</a> <a id="5284" href="Tactic.RingSolver.html#5284" class="Bound">xs</a><a id="5286" class="Symbol">)</a> <a id="5288" class="Symbol">=</a> <a id="5290" href="Tactic.RingSolver.html#4061" class="Function">E⟨^⟩</a> <a id="5295" href="Tactic.RingSolver.html#5284" class="Bound">xs</a>
            <a id="5310" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5312" class="Symbol">(</a><a id="5313" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="5317" class="Symbol">(</a><a id="5318" class="Keyword">quote</a> <a id="5324" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#1525" class="Field Operator">-_</a><a id="5326" class="Symbol">)</a>  <a id="5329" href="Tactic.RingSolver.html#5329" class="Bound">xs</a><a id="5331" class="Symbol">)</a> <a id="5333" class="Symbol">=</a> <a id="5335" href="Tactic.RingSolver.html#3861" class="Function Operator">E⟨</a> <a id="5338" class="Keyword">quote</a> <a id="5344" href="Tactic.RingSolver.Core.Expression.html#805" class="InductiveConstructor Operator">⊝_</a> <a id="5347" href="Tactic.RingSolver.html#3861" class="Function Operator">⟩₁</a> <a id="5350" href="Tactic.RingSolver.html#5329" class="Bound">xs</a>
            <a id="5365" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5367" class="Symbol">(</a><a id="5368" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="5372" href="Tactic.RingSolver.html#5372" class="Bound">nm</a>          <a id="5384" href="Tactic.RingSolver.html#5384" class="Bound">xs</a><a id="5386" class="Symbol">)</a> <a id="5388" class="Symbol">=</a> <a id="5390" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5393" href="Tactic.RingSolver.html#1451" class="Field">+′</a> <a id="5396" href="Tactic.RingSolver.html#3132" class="Function Operator">⇓≟</a> <a id="5399" href="Tactic.RingSolver.html#5372" class="Bound">nm</a> <a id="5402" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5407" href="Tactic.RingSolver.html#3635" class="Function Operator">E⟨</a> <a id="5410" class="Keyword">quote</a> <a id="5416" href="Tactic.RingSolver.Core.Expression.html#640" class="InductiveConstructor Operator">_⊕_</a> <a id="5420" href="Tactic.RingSolver.html#3635" class="Function Operator">⟩₂</a> <a id="5423" href="Tactic.RingSolver.html#5384" class="Bound">xs</a> <a id="5426" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                     <a id="5468" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5471" href="Tactic.RingSolver.html#1454" class="Field">*′</a> <a id="5474" href="Tactic.RingSolver.html#3132" class="Function Operator">⇓≟</a> <a id="5477" href="Tactic.RingSolver.html#5372" class="Bound">nm</a> <a id="5480" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5485" href="Tactic.RingSolver.html#3635" class="Function Operator">E⟨</a> <a id="5488" class="Keyword">quote</a> <a id="5494" href="Tactic.RingSolver.Core.Expression.html#691" class="InductiveConstructor Operator">_⊗_</a> <a id="5498" href="Tactic.RingSolver.html#3635" class="Function Operator">⟩₂</a> <a id="5501" href="Tactic.RingSolver.html#5384" class="Bound">xs</a> <a id="5504" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                     <a id="5546" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5549" href="Tactic.RingSolver.html#1457" class="Field">^′</a> <a id="5552" href="Tactic.RingSolver.html#3132" class="Function Operator">⇓≟</a> <a id="5555" href="Tactic.RingSolver.html#5372" class="Bound">nm</a> <a id="5558" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5563" href="Tactic.RingSolver.html#4061" class="Function">E⟨^⟩</a> <a id="5568" href="Tactic.RingSolver.html#5384" class="Bound">xs</a> <a id="5571" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                     <a id="5613" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="5616" href="Tactic.RingSolver.html#1460" class="Field">-′</a> <a id="5619" href="Tactic.RingSolver.html#3132" class="Function Operator">⇓≟</a> <a id="5622" href="Tactic.RingSolver.html#5372" class="Bound">nm</a> <a id="5625" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="5630" href="Tactic.RingSolver.html#3861" class="Function Operator">E⟨</a> <a id="5633" class="Keyword">quote</a> <a id="5639" href="Tactic.RingSolver.Core.Expression.html#805" class="InductiveConstructor Operator">⊝_</a> <a id="5642" href="Tactic.RingSolver.html#3861" class="Function Operator">⟩₁</a> <a id="5645" href="Tactic.RingSolver.html#5384" class="Bound">xs</a> <a id="5648" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>
                                     <a id="5690" href="Tactic.RingSolver.html#3061" class="Function">Κ′</a> <a id="5693" class="Symbol">(</a><a id="5694" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="5698" href="Tactic.RingSolver.html#5372" class="Bound">nm</a> <a id="5701" href="Tactic.RingSolver.html#5384" class="Bound">xs</a><a id="5703" class="Symbol">)</a>
            <a id="5717" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5719" class="Symbol">(</a><a id="5720" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="5724" class="Symbol">(</a><a id="5725" class="Keyword">quote</a> <a id="5731" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">ℕ.suc</a><a id="5736" class="Symbol">)</a> <a id="5738" class="Symbol">(</a><a id="5739" href="Tactic.RingSolver.html#5739" class="Bound">x</a> <a id="5741" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="5745" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="5747" class="Symbol">))</a> <a id="5750" class="Symbol">=</a> <a id="5752" class="Keyword">quote</a> <a id="5758" href="Tactic.RingSolver.Core.Expression.html#640" class="InductiveConstructor Operator">_⊕_</a> <a id="5762" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="5764" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="5768" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="5770" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆</a> <a id="5775" href="Tactic.RingSolver.html#3061" class="Function">Κ′</a> <a id="5778" class="Symbol">(</a><a id="5779" href="Tactic.RingSolver.Core.ReflectionHelp.html#1248" class="Function">ℕ′</a> <a id="5782" class="Symbol">(</a><a id="5783" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">ℕ.suc</a> <a id="5789" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">ℕ.zero</a><a id="5795" class="Symbol">))</a> <a id="5798" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="5802" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5804" href="Tactic.RingSolver.html#5739" class="Bound">x</a> <a id="5806" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="5810" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
            <a id="5825" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="5827" href="Tactic.RingSolver.html#5827" class="Bound">v</a><a id="5828" class="Symbol">@(</a><a id="5830" href="Agda.Builtin.Reflection.html#4795" class="InductiveConstructor">var</a> <a id="5834" href="Tactic.RingSolver.html#5834" class="Bound">x</a> <a id="5836" class="Symbol">_)</a>          <a id="5848" class="Symbol">=</a> <a id="5850" href="Data.Maybe.Base.html#1651" class="Function">fromMaybe</a> <a id="5860" class="Symbol">(</a><a id="5861" href="Tactic.RingSolver.html#3061" class="Function">Κ′</a> <a id="5864" href="Tactic.RingSolver.html#5827" class="Bound">v</a><a id="5865" class="Symbol">)</a> <a id="5867" class="Symbol">(</a><a id="5868" href="Tactic.RingSolver.html#3290" class="Bound">Ι′</a> <a id="5871" href="Tactic.RingSolver.html#5834" class="Bound">x</a><a id="5872" class="Symbol">)</a>
            <a id="5886" href="Tactic.RingSolver.html#5125" class="CatchallClause Function">E</a><a id="5887" class="CatchallClause"> </a><a id="5888" href="Tactic.RingSolver.html#5888" class="CatchallClause Bound">t</a>                    <a id="5909" class="Symbol">=</a> <a id="5911" href="Tactic.RingSolver.html#3061" class="Function">Κ′</a> <a id="5914" href="Tactic.RingSolver.html#5888" class="Bound">t</a>

        <a id="5925" href="Tactic.RingSolver.html#5925" class="Function">callSolver</a> <a id="5936" class="Symbol">:</a> <a id="5938" href="Data.Vec.Base.html#959" class="Datatype">Vec</a> <a id="5942" href="Agda.Builtin.String.html#274" class="Postulate">String</a> <a id="5949" href="Tactic.RingSolver.html#2406" class="Bound">numVars</a> <a id="5957" class="Symbol">→</a> <a id="5959" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="5964" class="Symbol">→</a> <a id="5966" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="5971" class="Symbol">→</a> <a id="5973" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5978" class="Symbol">(</a><a id="5979" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="5983" href="Agda.Builtin.Reflection.html#4764" class="Function">Type</a><a id="5987" class="Symbol">)</a>
        <a id="5997" href="Tactic.RingSolver.html#5925" class="Function">callSolver</a> <a id="6008" href="Tactic.RingSolver.html#6008" class="Bound">nms</a> <a id="6012" href="Tactic.RingSolver.html#6012" class="Bound">lhs</a> <a id="6016" href="Tactic.RingSolver.html#6016" class="Bound">rhs</a> <a id="6020" class="Symbol">=</a>
            <a id="6034" class="Number">2</a> <a id="6036" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6041" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="6046" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6050" href="Tactic.RingSolver.Core.ReflectionHelp.html#1248" class="Function">ℕ′</a> <a id="6053" href="Tactic.RingSolver.html#2406" class="Bound">numVars</a> <a id="6061" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a>
            <a id="6077" href="Tactic.RingSolver.Core.ReflectionHelp.html#1584" class="Function">vlams</a> <a id="6083" href="Tactic.RingSolver.html#6008" class="Bound">nms</a> <a id="6087" class="Symbol">(</a><a id="6088" class="Keyword">quote</a> <a id="6094" href="Tactic.RingSolver.NonReflective.html#3238" class="Function Operator">_⊜_</a>  <a id="6099" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="6101" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="6105" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="6107" class="Number">2</a> <a id="6109" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6114" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="6119" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6123" href="Tactic.RingSolver.Core.ReflectionHelp.html#1248" class="Function">ℕ′</a> <a id="6126" href="Tactic.RingSolver.html#2406" class="Bound">numVars</a> <a id="6134" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6138" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="6140" href="Tactic.RingSolver.html#6012" class="Bound">lhs</a> <a id="6144" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6148" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="6150" href="Tactic.RingSolver.html#6016" class="Bound">rhs</a> <a id="6154" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6158" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6160" class="Symbol">)</a> <a id="6162" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a>
            <a id="6178" href="Tactic.RingSolver.Core.ReflectionHelp.html#1464" class="Function">hlams</a> <a id="6184" href="Tactic.RingSolver.html#6008" class="Bound">nms</a> <a id="6188" class="Symbol">(</a><a id="6189" class="Keyword">quote</a> <a id="6195" href="Tactic.RingSolver.Core.AlmostCommutativeRing.html#2461" class="Function">refl</a> <a id="6200" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="6202" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="6206" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="6208" class="Number">2</a> <a id="6210" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6215" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="6220" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6224" class="Number">1</a> <a id="6226" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6231" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6233" class="Symbol">)</a> <a id="6235" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a>
            <a id="6251" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
          <a id="6264" class="Keyword">where</a>
          <a id="6280" href="Tactic.RingSolver.html#6280" class="Function">Ι′</a> <a id="6283" class="Symbol">:</a> <a id="6285" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="6287" class="Symbol">→</a> <a id="6289" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="6295" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
          <a id="6310" href="Tactic.RingSolver.html#6280" class="Function">Ι′</a> <a id="6313" href="Tactic.RingSolver.html#6313" class="Bound">i</a> <a id="6315" class="Symbol">=</a> <a id="6317" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6320" href="Tactic.RingSolver.html#6313" class="Bound">i</a> <a id="6322" href="Data.Nat.Base.html#884" class="Primitive Operator">&lt;ᵇ</a> <a id="6325" href="Tactic.RingSolver.html#2406" class="Bound">numVars</a> <a id="6333" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6338" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="6343" class="Symbol">(</a><a id="6344" href="Agda.Builtin.Reflection.html#4795" class="InductiveConstructor">var</a> <a id="6348" href="Tactic.RingSolver.html#6313" class="Bound">i</a> <a id="6350" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6352" class="Symbol">)</a> <a id="6354" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6359" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>
          <a id="6377" class="Keyword">open</a> <a id="6382" href="Tactic.RingSolver.html#3282" class="Module">ToExpr</a> <a id="6389" href="Tactic.RingSolver.html#6280" class="Function">Ι′</a>

        <a id="6401" href="Tactic.RingSolver.html#6401" class="Function">constructSoln</a> <a id="6415" class="Symbol">:</a> <a id="6417" href="Tactic.RingSolver.Core.NatSet.html#2116" class="Function">NatSet</a> <a id="6424" class="Symbol">→</a> <a id="6426" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="6431" class="Symbol">→</a> <a id="6433" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="6438" class="Symbol">→</a> <a id="6440" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="6453" href="Tactic.RingSolver.html#6401" class="Function">constructSoln</a> <a id="6467" href="Tactic.RingSolver.html#6467" class="Bound">t</a> <a id="6469" href="Tactic.RingSolver.html#6469" class="Bound">lhs</a> <a id="6473" href="Tactic.RingSolver.html#6473" class="Bound">rhs</a> <a id="6477" class="Symbol">=</a>
            <a id="6491" class="Keyword">quote</a> <a id="6497" href="Relation.Binary.Structures.html#1620" class="Function">trans</a> <a id="6503" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="6505" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="6509" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="6511" class="Number">2</a> <a id="6513" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6518" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="6523" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6527" class="Number">3</a> <a id="6529" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a>
              <a id="6548" class="Symbol">(</a><a id="6549" class="Keyword">quote</a> <a id="6555" href="Relation.Binary.Structures.html#1594" class="Function">sym</a> <a id="6559" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="6561" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="6565" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="6567" class="Number">2</a> <a id="6569" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6574" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="6579" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6583" class="Number">2</a> <a id="6585" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a>
                  <a id="6608" class="Symbol">(</a><a id="6609" class="Keyword">quote</a> <a id="6615" href="Tactic.RingSolver.NonReflective.html#2224" class="Function">Ops.correct</a> <a id="6627" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="6629" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="6633" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="6635" class="Number">2</a> <a id="6637" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6642" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="6647" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6651" class="Number">1</a> <a id="6653" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6658" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="6660" href="Tactic.RingSolver.html#6469" class="Bound">lhs</a> <a id="6664" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6668" href="Tactic.RingSolver.html#6974" class="Function">ρ</a> <a id="6670" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6674" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6676" class="Symbol">)</a> <a id="6678" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6682" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6684" class="Symbol">)</a>
              <a id="6700" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a>
              <a id="6718" class="Symbol">(</a><a id="6719" class="Keyword">quote</a> <a id="6725" href="Tactic.RingSolver.NonReflective.html#2224" class="Function">Ops.correct</a> <a id="6737" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="6739" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="6743" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="6745" class="Number">2</a> <a id="6747" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6752" href="Tactic.RingSolver.html#1864" class="Bound">ring</a> <a id="6757" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6761" class="Number">1</a> <a id="6763" href="Tactic.RingSolver.Core.ReflectionHelp.html#1121" class="Function Operator">⋯⟅∷⟆</a> <a id="6768" href="Tactic.RingSolver.html#5125" class="Function">E</a> <a id="6770" href="Tactic.RingSolver.html#6473" class="Bound">rhs</a> <a id="6774" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6778" href="Tactic.RingSolver.html#6974" class="Function">ρ</a> <a id="6780" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6784" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6786" class="Symbol">)</a> <a id="6788" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a>
              <a id="6806" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
          <a id="6819" class="Keyword">where</a>
          <a id="6835" href="Tactic.RingSolver.html#6835" class="Function">Ι′</a> <a id="6838" class="Symbol">:</a> <a id="6840" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="6842" class="Symbol">→</a> <a id="6844" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="6850" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
          <a id="6865" href="Tactic.RingSolver.html#6835" class="Function">Ι′</a> <a id="6868" href="Tactic.RingSolver.html#6868" class="Bound">i</a> <a id="6870" class="Symbol">=</a> <a id="6872" href="Data.Maybe.Base.html#2039" class="Function">Maybe.map</a> <a id="6882" class="Symbol">(λ</a> <a id="6885" href="Tactic.RingSolver.html#6885" class="Bound">x</a> <a id="6887" class="Symbol">→</a> <a id="6889" class="Keyword">quote</a> <a id="6895" href="Tactic.RingSolver.Core.Expression.html#589" class="InductiveConstructor">Ι</a> <a id="6897" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="6899" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="6903" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="6905" href="Tactic.RingSolver.html#2832" class="Function Operator">E⟅∷⟆</a> <a id="6910" href="Tactic.RingSolver.Core.ReflectionHelp.html#1340" class="Function">Fin′</a> <a id="6915" href="Tactic.RingSolver.html#6885" class="Bound">x</a> <a id="6917" href="Tactic.RingSolver.Core.ReflectionHelp.html#992" class="InductiveConstructor Operator">⟨∷⟩</a> <a id="6921" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6923" class="Symbol">)</a> <a id="6925" class="Symbol">(</a><a id="6926" href="Tactic.RingSolver.Core.NatSet.html#2881" class="Function">lookup</a> <a id="6933" href="Tactic.RingSolver.html#6868" class="Bound">i</a> <a id="6935" href="Tactic.RingSolver.html#6467" class="Bound">t</a><a id="6936" class="Symbol">)</a>

          <a id="6949" class="Keyword">open</a> <a id="6954" href="Tactic.RingSolver.html#3282" class="Module">ToExpr</a> <a id="6961" href="Tactic.RingSolver.html#6835" class="Function">Ι′</a>
          <a id="6974" href="Tactic.RingSolver.html#6974" class="Function">ρ</a> <a id="6976" class="Symbol">:</a> <a id="6978" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
          <a id="6993" href="Tactic.RingSolver.html#6974" class="Function">ρ</a> <a id="6995" class="Symbol">=</a> <a id="6997" href="Tactic.RingSolver.Core.ReflectionHelp.html#2455" class="Function">curriedTerm</a> <a id="7009" href="Tactic.RingSolver.html#6467" class="Bound">t</a>

<a id="7012" class="Comment">------------------------------------------------------------------------</a>
<a id="7085" class="Comment">-- Macros</a>
<a id="7095" class="Comment">------------------------------------------------------------------------</a>

<a id="7169" class="Comment">-- This is the main macro which solves for equations in which the variables</a>
<a id="7245" class="Comment">-- are universally quantified over:</a>
<a id="7281" class="Comment">--</a>
<a id="7284" class="Comment">--   lemma : ∀ x y → x + y ≈ y + x</a>
<a id="7319" class="Comment">--   lemma = solve-∀ TypeRing</a>
<a id="7349" class="Comment">--</a>
<a id="7352" class="Comment">-- where TypRing is your implementation of AlmostCommutativeRing. (Find some</a>
<a id="7429" class="Comment">-- example implementations in Polynomial.Solver.Ring.AlmostCommutativeRing.Instances).</a>

<a id="solve-∀-macro"></a><a id="7517" href="Tactic.RingSolver.html#7517" class="Function">solve-∀-macro</a> <a id="7531" class="Symbol">:</a> <a id="7533" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="7538" class="Symbol">→</a> <a id="7540" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7545" class="Symbol">→</a> <a id="7547" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7550" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="7552" href="Tactic.RingSolver.html#7517" class="Function">solve-∀-macro</a> <a id="7566" href="Tactic.RingSolver.html#7566" class="Bound">ring</a> <a id="7571" href="Tactic.RingSolver.html#7571" class="Bound">hole</a> <a id="7576" class="Symbol">=</a> <a id="7578" class="Keyword">do</a>
  <a id="7583" href="Tactic.RingSolver.html#7583" class="Bound">ring′</a> <a id="7589" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="7591" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="7595" href="Tactic.RingSolver.html#7566" class="Bound">ring</a> <a id="7600" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7603" href="Tactic.RingSolver.html#1479" class="Function Operator">∈Ring</a>
  <a id="7611" href="Agda.Builtin.Reflection.html#8430" class="Postulate">commitTC</a>
  <a id="7622" class="Keyword">let</a> <a id="7626" class="Keyword">open</a> <a id="7631" href="Tactic.RingSolver.html#1854" class="Module">OverRing</a> <a id="7640" href="Tactic.RingSolver.html#7583" class="Bound">ring′</a>
  <a id="7648" href="Tactic.RingSolver.html#7648" class="Bound">nms</a>   <a id="7654" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="7656" href="Tactic.RingSolver.html#2226" class="Function">ring⇓</a>
  <a id="7664" href="Tactic.RingSolver.html#7664" class="Bound">hole′</a> <a id="7670" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="7672" href="Agda.Builtin.Reflection.html#7632" class="Postulate">inferType</a> <a id="7682" href="Tactic.RingSolver.html#7571" class="Bound">hole</a> <a id="7687" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">&gt;&gt;=</a> <a id="7691" href="Agda.Builtin.Reflection.html#7747" class="Postulate">reduce</a>
  <a id="7700" class="Keyword">let</a> <a id="7704" href="Tactic.RingSolver.html#7704" class="Bound">i</a> <a id="7706" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7708" href="Tactic.RingSolver.html#7708" class="Bound">k</a> <a id="7710" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7712" href="Tactic.RingSolver.html#7712" class="Bound">xs</a> <a id="7715" class="Symbol">=</a> <a id="7717" href="Tactic.RingSolver.Core.ReflectionHelp.html#2236" class="Function">underPi</a> <a id="7725" href="Tactic.RingSolver.html#7664" class="Bound">hole′</a>
  <a id="7733" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="7738" class="Symbol">(</a><a id="7739" href="Tactic.RingSolver.html#7739" class="Bound">lhs</a> <a id="7743" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="7745" href="Tactic.RingSolver.html#7745" class="Bound">rhs</a> <a id="7749" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="7751" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="7753" class="Symbol">)</a> <a id="7755" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="7757" href="Reflection.TCMonadSyntax.html#511" class="Function">pure</a> <a id="7762" class="Symbol">(</a><a id="7763" href="Tactic.RingSolver.Core.ReflectionHelp.html#1854" class="Function">getArgs</a> <a id="7771" class="Number">2</a> <a id="7773" href="Tactic.RingSolver.html#7712" class="Bound">xs</a><a id="7775" class="Symbol">)</a>
    <a id="7781" class="Keyword">where</a> <a id="7787" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="7795" class="Symbol">→</a> <a id="7797" href="Agda.Builtin.Reflection.html#7569" class="Postulate">typeError</a> <a id="7807" class="Symbol">(</a><a id="7808" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="7815" class="String">&quot;Malformed call to solve.&quot;</a> <a id="7842" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="7875" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="7882" class="String">&quot;Expected target type to be like: ∀ x y → x + y ≈ y + x.&quot;</a> <a id="7940" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="7973" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="7980" class="String">&quot;Instead: &quot;</a> <a id="7992" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="8025" href="Agda.Builtin.Reflection.html#7086" class="InductiveConstructor">termErr</a> <a id="8033" href="Tactic.RingSolver.html#7664" class="Bound">hole′</a> <a id="8039" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="8072" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="8074" class="Symbol">)</a>
  <a id="8078" href="Agda.Builtin.Reflection.html#7529" class="Postulate">unify</a> <a id="8084" href="Tactic.RingSolver.html#7571" class="Bound">hole</a> <a id="8089" class="Symbol">(</a><a id="8090" class="Keyword">quote</a> <a id="8096" href="Tactic.RingSolver.html#1012" class="Function">solve-fn</a> <a id="8105" href="Function.Base.html#3828" class="Function Operator">⟨</a> <a id="8107" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="8111" href="Function.Base.html#3828" class="Function Operator">⟩</a> <a id="8113" href="Tactic.RingSolver.html#5925" class="Function">callSolver</a> <a id="8124" href="Tactic.RingSolver.html#7648" class="Bound">nms</a> <a id="8128" href="Tactic.RingSolver.html#7704" class="Bound">i</a> <a id="8130" href="Tactic.RingSolver.html#7708" class="Bound">k</a> <a id="8132" href="Tactic.RingSolver.html#7739" class="Bound">lhs</a> <a id="8136" href="Tactic.RingSolver.html#7745" class="Bound">rhs</a><a id="8139" class="Symbol">)</a>

<a id="8142" class="Keyword">macro</a>
  <a id="solve-∀"></a><a id="8150" href="Tactic.RingSolver.html#8150" class="Function">solve-∀</a> <a id="8158" class="Symbol">:</a> <a id="8160" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="8165" class="Symbol">→</a> <a id="8167" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="8172" class="Symbol">→</a> <a id="8174" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="8177" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="8181" href="Tactic.RingSolver.html#8150" class="Function">solve-∀</a> <a id="8189" class="Symbol">=</a> <a id="8191" href="Tactic.RingSolver.html#7517" class="Function">solve-∀-macro</a>

<a id="8206" class="Comment">-- Use this macro when you want to solve something *under* a lambda. For example:</a>
<a id="8288" class="Comment">-- say you have a long proof, and you just want the solver to deal with an</a>
<a id="8363" class="Comment">-- intermediate step. Call it like so:</a>
<a id="8402" class="Comment">--</a>
<a id="8405" class="Comment">--   lemma₃ : ∀ x y → x + y * 1 + 3 ≈ 2 + 1 + y + x</a>
<a id="8457" class="Comment">--   lemma₃ x y = begin</a>
<a id="8481" class="Comment">--     x + y * 1 + 3 ≈⟨ +-comm x (y * 1) ⟨ +-cong ⟩ refl ⟩</a>
<a id="8540" class="Comment">--     y * 1 + x + 3 ≈⟨ solve (x ∷ y ∷ []) Int.ring ⟩</a>
<a id="8594" class="Comment">--     3 + y + x     ≡⟨ refl ⟩</a>
<a id="8625" class="Comment">--     2 + 1 + y + x ∎</a>
<a id="8648" class="Comment">--</a>
<a id="8651" class="Comment">-- The first argument is the free variables, and the second is the</a>
<a id="8718" class="Comment">-- ring implementation (as before).</a>
<a id="8754" class="Comment">--</a>
<a id="8757" class="Comment">-- One thing to note here is that we need to be able to infer *both* sides of</a>
<a id="8835" class="Comment">-- the equality, which the normal equaltional reasoning combinators don&#39;t let you</a>
<a id="8917" class="Comment">-- do. You&#39;ll need the combinators defined in Relation.Binary.Reasoning.Inference.</a>
<a id="9000" class="Comment">-- These are just as powerful as the others, but have slightly better inference properties.</a>

<a id="solve-macro"></a><a id="9093" href="Tactic.RingSolver.html#9093" class="Function">solve-macro</a> <a id="9105" class="Symbol">:</a> <a id="9107" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="9112" class="Symbol">→</a> <a id="9114" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="9119" class="Symbol">→</a> <a id="9121" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="9126" class="Symbol">→</a> <a id="9128" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="9131" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="9133" href="Tactic.RingSolver.html#9093" class="Function">solve-macro</a> <a id="9145" href="Tactic.RingSolver.html#9145" class="Bound">i</a> <a id="9147" href="Tactic.RingSolver.html#9147" class="Bound">ring</a> <a id="9152" href="Tactic.RingSolver.html#9152" class="Bound">hole</a> <a id="9157" class="Symbol">=</a> <a id="9159" class="Keyword">do</a>
  <a id="9164" href="Tactic.RingSolver.html#9164" class="Bound">ring′</a> <a id="9170" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="9172" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="9176" href="Tactic.RingSolver.html#9147" class="Bound">ring</a> <a id="9181" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="9184" href="Tactic.RingSolver.html#1479" class="Function Operator">∈Ring</a>
  <a id="9192" href="Agda.Builtin.Reflection.html#8430" class="Postulate">commitTC</a>
  <a id="9203" class="Keyword">let</a> <a id="9207" class="Keyword">open</a> <a id="9212" href="Tactic.RingSolver.html#1854" class="Module">OverRing</a> <a id="9221" href="Tactic.RingSolver.html#9164" class="Bound">ring′</a>
  <a id="9229" href="Tactic.RingSolver.html#9229" class="Bound">nms</a> <a id="9233" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="9235" href="Tactic.RingSolver.html#2226" class="Function">ring⇓</a>
  <a id="9243" href="Tactic.RingSolver.html#9243" class="Bound">i′</a> <a id="9246" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="9248" href="Tactic.RingSolver.html#9145" class="Bound">i</a> <a id="9250" href="Tactic.RingSolver.html#1887" class="Function Operator">∈List⟨Carrier⟩</a>
  <a id="9267" href="Agda.Builtin.Reflection.html#8430" class="Postulate">commitTC</a>
  <a id="9278" href="Tactic.RingSolver.html#9278" class="Bound">hole′</a> <a id="9284" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="9286" href="Agda.Builtin.Reflection.html#7632" class="Postulate">inferType</a> <a id="9296" href="Tactic.RingSolver.html#9152" class="Bound">hole</a> <a id="9301" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">&gt;&gt;=</a> <a id="9305" href="Agda.Builtin.Reflection.html#7747" class="Postulate">reduce</a>
  <a id="9314" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="9319" href="Tactic.RingSolver.html#9319" class="Bound">vars′</a> <a id="9325" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="9327" href="Reflection.TCMonadSyntax.html#511" class="Function">pure</a> <a id="9332" class="Symbol">(</a><a id="9333" href="Tactic.RingSolver.html#1601" class="Function">vars</a> <a id="9338" href="Tactic.RingSolver.html#9243" class="Bound">i′</a><a id="9340" class="Symbol">)</a>
    <a id="9346" class="Keyword">where</a> <a id="9352" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="9360" class="Symbol">→</a> <a id="9362" href="Agda.Builtin.Reflection.html#7569" class="Postulate">typeError</a> <a id="9372" class="Symbol">(</a><a id="9373" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="9380" class="String">&quot;Malformed call to solve.&quot;</a> <a id="9407" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9440" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="9447" class="String">&quot;First argument should be a list of free variables.&quot;</a> <a id="9500" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9533" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="9540" class="String">&quot;Instead: &quot;</a> <a id="9552" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9585" href="Agda.Builtin.Reflection.html#7086" class="InductiveConstructor">termErr</a> <a id="9593" href="Tactic.RingSolver.html#9243" class="Bound">i′</a> <a id="9596" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9629" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9631" class="Symbol">)</a>
  <a id="9635" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="9640" class="Symbol">(</a><a id="9641" href="Tactic.RingSolver.html#9641" class="Bound">lhs</a> <a id="9645" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="9647" href="Tactic.RingSolver.html#9647" class="Bound">rhs</a> <a id="9651" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">∷</a> <a id="9653" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="9655" class="Symbol">)</a> <a id="9657" href="Reflection.TCMonadSyntax.html#670" class="Function Operator">←</a> <a id="9659" href="Reflection.TCMonadSyntax.html#511" class="Function">pure</a> <a id="9664" class="Symbol">(</a><a id="9665" href="Tactic.RingSolver.Core.ReflectionHelp.html#1854" class="Function">getArgs</a> <a id="9673" class="Number">2</a> <a id="9675" href="Tactic.RingSolver.html#9278" class="Bound">hole′</a><a id="9680" class="Symbol">)</a>
    <a id="9686" class="Keyword">where</a> <a id="9692" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="9700" class="Symbol">→</a> <a id="9702" href="Agda.Builtin.Reflection.html#7569" class="Postulate">typeError</a> <a id="9712" class="Symbol">(</a><a id="9713" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="9720" class="String">&quot;Malformed call to solve.&quot;</a> <a id="9747" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9780" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="9787" class="String">&quot;First argument should be a list of free variables.&quot;</a> <a id="9840" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9873" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="9880" class="String">&quot;Instead: &quot;</a> <a id="9892" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9925" href="Agda.Builtin.Reflection.html#7086" class="InductiveConstructor">termErr</a> <a id="9933" href="Tactic.RingSolver.html#9278" class="Bound">hole′</a> <a id="9939" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                               <a id="9972" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9974" class="Symbol">)</a>
  <a id="9978" href="Agda.Builtin.Reflection.html#7529" class="Postulate">unify</a> <a id="9984" href="Tactic.RingSolver.html#9152" class="Bound">hole</a> <a id="9989" class="Symbol">(</a><a id="9990" href="Tactic.RingSolver.html#6401" class="Function">constructSoln</a> <a id="10004" href="Tactic.RingSolver.html#9229" class="Bound">nms</a> <a id="10008" class="Symbol">(</a><a id="10009" href="Data.List.Base.html#4297" class="Function">List.length</a> <a id="10021" href="Tactic.RingSolver.html#9319" class="Bound">vars′</a><a id="10026" class="Symbol">)</a> <a id="10028" href="Tactic.RingSolver.html#9319" class="Bound">vars′</a> <a id="10034" href="Tactic.RingSolver.html#9641" class="Bound">lhs</a> <a id="10038" href="Tactic.RingSolver.html#9647" class="Bound">rhs</a><a id="10041" class="Symbol">)</a>

<a id="10044" class="Keyword">macro</a>
  <a id="solve"></a><a id="10052" href="Tactic.RingSolver.html#10052" class="Function">solve</a> <a id="10058" class="Symbol">:</a> <a id="10060" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="10065" class="Symbol">→</a> <a id="10067" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="10072" class="Symbol">→</a> <a id="10074" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="10079" class="Symbol">→</a> <a id="10081" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="10084" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="10088" href="Tactic.RingSolver.html#10052" class="Function">solve</a> <a id="10094" class="Symbol">=</a> <a id="10096" href="Tactic.RingSolver.html#9093" class="Function">solve-macro</a>
</pre></body></html>