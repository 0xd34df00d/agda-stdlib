<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Rational.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Rational numbers</a>
<a id="126" class="Comment">------------------------------------------------------------------------</a>

<a id="200" class="Symbol">{-#</a> <a id="204" class="Keyword">OPTIONS</a> <a id="212" class="Option">--without-K</a> <a id="224" class="Option">--safe</a> <a id="231" class="Symbol">#-}</a>

<a id="236" class="Keyword">module</a> <a id="243" href="Data.Rational.Base.html" class="Module">Data.Rational.Base</a> <a id="262" class="Keyword">where</a>

<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Function.html" class="Module">Function</a> <a id="290" class="Keyword">using</a> <a id="296" class="Symbol">(</a><a id="297" href="Function.html#1104" class="Function">id</a><a id="299" class="Symbol">)</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="326" class="Symbol">as</a> <a id="329" class="Module">ℤ</a> <a id="331" class="Keyword">using</a> <a id="337" class="Symbol">(</a><a id="338" href="Agda.Builtin.Int.html#178" class="Datatype">ℤ</a><a id="339" class="Symbol">;</a> <a id="341" href="Data.Integer.Base.html#1075" class="Function Operator">∣_∣</a><a id="344" class="Symbol">;</a> <a id="346" href="Agda.Builtin.Int.html#196" class="InductiveConstructor">+_</a><a id="348" class="Symbol">;</a> <a id="350" href="Agda.Builtin.Int.html#223" class="InductiveConstructor">-[1+_]</a><a id="356" class="Symbol">)</a>
<a id="358" class="Keyword">open</a> <a id="363" class="Keyword">import</a> <a id="370" href="Data.Nat.GCD.html" class="Module">Data.Nat.GCD</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a> <a id="417" class="Symbol">as</a> <a id="420" class="Module">ℕDiv</a> <a id="425" class="Keyword">using</a> <a id="431" class="Symbol">(</a><a id="432" href="Data.Nat.Divisibility.html#1284" class="Record Operator">_∣_</a> <a id="436" class="Symbol">;</a> <a id="438" href="Data.Nat.Divisibility.html#1324" class="InductiveConstructor">divides</a> <a id="446" class="Symbol">;</a> <a id="448" href="Data.Nat.Divisibility.html#2008" class="Function">∣-antisym</a><a id="457" class="Symbol">)</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Data.Nat.Coprimality.html" class="Module">Data.Nat.Coprimality</a> <a id="492" class="Symbol">as</a> <a id="495" class="Module">C</a> <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Data.Nat.Coprimality.html#999" class="Function">Coprime</a><a id="511" class="Symbol">;</a> <a id="513" href="Data.Nat.Coprimality.html#1689" class="Function">coprime?</a><a id="521" class="Symbol">;</a> <a id="523" href="Data.Nat.Coprimality.html#2498" class="Function">Bézout-coprime</a><a id="537" class="Symbol">)</a>
<a id="539" class="Keyword">open</a> <a id="544" class="Keyword">import</a> <a id="551" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="560" class="Symbol">as</a> <a id="563" class="Module">ℕ</a> <a id="565" class="Keyword">using</a> <a id="571" class="Symbol">(</a><a id="572" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="573" class="Symbol">;</a> <a id="575" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="579" class="Symbol">;</a> <a id="581" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="584" class="Symbol">)</a>
<a id="586" class="Keyword">import</a> <a id="593" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="613" class="Symbol">as</a> <a id="616" class="Module">ℕ</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="Data.Product.html" class="Module">Data.Product</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="665" class="Keyword">using</a> <a id="671" class="Symbol">(</a><a id="672" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="674" class="Symbol">)</a>
<a id="676" class="Keyword">open</a> <a id="681" class="Keyword">import</a> <a id="688" href="Level.html" class="Module">Level</a> <a id="694" class="Keyword">using</a> <a id="700" class="Symbol">(</a><a id="701" href="Level.html#506" class="Function">0ℓ</a><a id="703" class="Symbol">)</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
  <a id="746" class="Keyword">using</a> <a id="752" class="Symbol">(</a><a id="753" href="Relation.Nullary.Decidable.html#933" class="Function">True</a><a id="757" class="Symbol">;</a> <a id="759" href="Relation.Nullary.Decidable.html#990" class="Function">False</a><a id="764" class="Symbol">;</a> <a id="766" href="Relation.Nullary.Decidable.html#1091" class="Function">toWitness</a><a id="775" class="Symbol">)</a>
<a id="777" class="Keyword">open</a> <a id="782" class="Keyword">import</a> <a id="789" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="815" class="Keyword">using</a> <a id="821" class="Symbol">(</a><a id="822" href="Relation.Nullary.Negation.html#596" class="Function">contradiction</a><a id="835" class="Symbol">)</a>
<a id="837" class="Keyword">open</a> <a id="842" class="Keyword">import</a> <a id="849" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="865" class="Keyword">using</a> <a id="871" class="Symbol">(</a><a id="872" href="Relation.Binary.Core.html#976" class="Function">Rel</a><a id="875" class="Symbol">;</a> <a id="877" href="Relation.Binary.Core.html#4903" class="Function">Decidable</a><a id="886" class="Symbol">;</a> <a id="888" href="Relation.Binary.Core.html#1240" class="Function Operator">_⇒_</a><a id="891" class="Symbol">)</a>
<a id="893" class="Keyword">open</a> <a id="898" class="Keyword">import</a> <a id="905" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="943" class="Symbol">as</a> <a id="946" class="Module">P</a>
  <a id="950" class="Keyword">using</a> <a id="956" class="Symbol">(</a><a id="957" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="960" class="Symbol">;</a> <a id="962" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="966" class="Symbol">;</a> <a id="968" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">subst</a><a id="973" class="Symbol">;</a> <a id="975" href="Relation.Binary.PropositionalEquality.html#1134" class="Function">cong</a><a id="979" class="Symbol">;</a> <a id="981" href="Relation.Binary.PropositionalEquality.html#1372" class="Function">cong₂</a><a id="986" class="Symbol">;</a> <a id="988" class="Keyword">module</a> <a id="995" href="Relation.Binary.PropositionalEquality.html#4286" class="Module">≡-Reasoning</a><a id="1006" class="Symbol">)</a>

<a id="1009" class="Keyword">open</a> <a id="1014" href="Relation.Binary.PropositionalEquality.html#4286" class="Module">≡-Reasoning</a>

<a id="1027" class="Comment">------------------------------------------------------------------------</a>
<a id="1100" class="Comment">-- Rational numbers in reduced form. Note that there is exactly one</a>
<a id="1168" class="Comment">-- way to represent every rational number.</a>

<a id="1212" class="Keyword">record</a> <a id="ℚ"></a><a id="1219" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="1221" class="Symbol">:</a> <a id="1223" class="PrimitiveType">Set</a> <a id="1227" class="Keyword">where</a>
  <a id="1235" class="Keyword">constructor</a> <a id="ℚ.mkℚ"></a><a id="1247" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a>
  <a id="1253" class="Keyword">field</a>
    <a id="ℚ.numerator"></a><a id="1263" href="Data.Rational.Base.html#1263" class="Field">numerator</a>     <a id="1277" class="Symbol">:</a> <a id="1279" href="Agda.Builtin.Int.html#178" class="Datatype">ℤ</a>
    <a id="ℚ.denominator-1"></a><a id="1285" href="Data.Rational.Base.html#1285" class="Field">denominator-1</a> <a id="1299" class="Symbol">:</a> <a id="1301" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
    <a id="1307" class="Symbol">.</a><a id="ℚ.isCoprime"></a><a id="1308" href="Data.Rational.Base.html#1308" class="Field">isCoprime</a>    <a id="1321" class="Symbol">:</a> <a id="1323" href="Data.Nat.Coprimality.html#999" class="Function">Coprime</a> <a id="1331" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="1333" href="Data.Rational.Base.html#1263" class="Field">numerator</a> <a id="1343" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="1350" href="Data.Rational.Base.html#1285" class="Field">denominator-1</a><a id="1363" class="Symbol">)</a>

  <a id="ℚ.denominator"></a><a id="1368" href="Data.Rational.Base.html#1368" class="Function">denominator</a> <a id="1380" class="Symbol">:</a> <a id="1382" href="Agda.Builtin.Int.html#178" class="Datatype">ℤ</a>
  <a id="1386" href="Data.Rational.Base.html#1368" class="Function">denominator</a> <a id="1398" class="Symbol">=</a> <a id="1400" href="Agda.Builtin.Int.html#196" class="InductiveConstructor Operator">+</a> <a id="1402" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="1406" href="Data.Rational.Base.html#1285" class="Field">denominator-1</a>

<a id="1421" class="Keyword">open</a> <a id="1426" href="Data.Rational.Base.html#1219" class="Module">ℚ</a> <a id="1428" class="Keyword">public</a> <a id="1435" class="Keyword">using</a> <a id="1441" class="Symbol">()</a>
  <a id="1446" class="Keyword">renaming</a>
  <a id="1457" class="Symbol">(</a> <a id="1459" href="Data.Rational.Base.html#1263" class="Field">numerator</a>   <a id="1471" class="Symbol">to</a> <a id="1474" href="Data.Rational.Base.html#1263" class="Field">↥_</a>
  <a id="1479" class="Symbol">;</a> <a id="1481" href="Data.Rational.Base.html#1368" class="Function">denominator</a> <a id="1493" class="Symbol">to</a> <a id="1496" href="Data.Rational.Base.html#1368" class="Function">↧_</a>
  <a id="1501" class="Symbol">)</a>

<a id="1504" class="Comment">------------------------------------------------------------------------</a>
<a id="1577" class="Comment">-- Equality of rational numbers (coincides with _≡_)</a>

<a id="1631" class="Keyword">infix</a> <a id="1637" class="Number">4</a> <a id="1639" href="Data.Rational.Base.html#1644" class="Function Operator">_≃_</a>

<a id="_≃_"></a><a id="1644" href="Data.Rational.Base.html#1644" class="Function Operator">_≃_</a> <a id="1648" class="Symbol">:</a> <a id="1650" href="Relation.Binary.Core.html#976" class="Function">Rel</a> <a id="1654" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="1656" href="Level.html#506" class="Function">0ℓ</a>
<a id="1659" href="Data.Rational.Base.html#1659" class="Bound">p</a> <a id="1661" href="Data.Rational.Base.html#1644" class="Function Operator">≃</a> <a id="1663" href="Data.Rational.Base.html#1663" class="Bound">q</a> <a id="1665" class="Symbol">=</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Data.Rational.Base.html#1263" class="Field Operator">↥</a> <a id="1670" href="Data.Rational.Base.html#1659" class="Bound">p</a> <a id="1672" href="Data.Integer.Base.html#2389" class="Function Operator">ℤ.*</a> <a id="1676" href="Data.Rational.Base.html#1368" class="Function Operator">↧</a> <a id="1678" href="Data.Rational.Base.html#1663" class="Bound">q</a><a id="1679" class="Symbol">)</a> <a id="1681" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="1683" class="Symbol">(</a><a id="1684" href="Data.Rational.Base.html#1263" class="Field Operator">↥</a> <a id="1686" href="Data.Rational.Base.html#1663" class="Bound">q</a><a id="1687" class="Symbol">)</a> <a id="1689" href="Data.Integer.Base.html#2389" class="Function Operator">ℤ.*</a> <a id="1693" class="Symbol">(</a><a id="1694" href="Data.Rational.Base.html#1368" class="Function Operator">↧</a> <a id="1696" href="Data.Rational.Base.html#1659" class="Bound">p</a><a id="1697" class="Symbol">)</a>

<a id="1700" class="Comment">------------------------------------------------------------------------</a>
<a id="1773" class="Comment">-- Ordering of rationals</a>

<a id="1799" class="Keyword">infix</a> <a id="1805" class="Number">4</a> <a id="1807" href="Data.Rational.Base.html#1817" class="Datatype Operator">_≤_</a>

<a id="1812" class="Keyword">data</a> <a id="_≤_"></a><a id="1817" href="Data.Rational.Base.html#1817" class="Datatype Operator">_≤_</a> <a id="1821" class="Symbol">:</a> <a id="1823" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="1825" class="Symbol">→</a> <a id="1827" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="1829" class="Symbol">→</a> <a id="1831" class="PrimitiveType">Set</a> <a id="1835" class="Keyword">where</a>
  <a id="_≤_.*≤*"></a><a id="1843" href="Data.Rational.Base.html#1843" class="InductiveConstructor">*≤*</a> <a id="1847" class="Symbol">:</a> <a id="1849" class="Symbol">∀</a> <a id="1851" class="Symbol">{</a><a id="1852" href="Data.Rational.Base.html#1852" class="Bound">p</a> <a id="1854" href="Data.Rational.Base.html#1854" class="Bound">q</a><a id="1855" class="Symbol">}</a> <a id="1857" class="Symbol">→</a> <a id="1859" class="Symbol">(</a><a id="1860" href="Data.Rational.Base.html#1263" class="Field Operator">↥</a> <a id="1862" href="Data.Rational.Base.html#1852" class="Bound">p</a> <a id="1864" href="Data.Integer.Base.html#2389" class="Function Operator">ℤ.*</a> <a id="1868" href="Data.Rational.Base.html#1368" class="Function Operator">↧</a> <a id="1870" href="Data.Rational.Base.html#1854" class="Bound">q</a><a id="1871" class="Symbol">)</a> <a id="1873" href="Data.Integer.Base.html#2863" class="Datatype Operator">ℤ.≤</a> <a id="1877" class="Symbol">(</a><a id="1878" href="Data.Rational.Base.html#1263" class="Field Operator">↥</a> <a id="1880" href="Data.Rational.Base.html#1854" class="Bound">q</a> <a id="1882" href="Data.Integer.Base.html#2389" class="Function Operator">ℤ.*</a> <a id="1886" href="Data.Rational.Base.html#1368" class="Function Operator">↧</a> <a id="1888" href="Data.Rational.Base.html#1852" class="Bound">p</a><a id="1889" class="Symbol">)</a> <a id="1891" class="Symbol">→</a> <a id="1893" href="Data.Rational.Base.html#1852" class="Bound">p</a> <a id="1895" href="Data.Rational.Base.html#1817" class="Datatype Operator">≤</a> <a id="1897" href="Data.Rational.Base.html#1854" class="Bound">q</a>

<a id="1900" class="Comment">------------------------------------------------------------------------</a>
<a id="1973" class="Comment">-- Two useful lemmas to help with constructing on rationals</a>
<a id="2033" class="Comment">--</a>
<a id="2036" class="Comment">-- normalize takes two natural numbers, say 6 and 21 and their gcd 3, and</a>
<a id="2110" class="Comment">-- returns them normalized as 2 and 7 and a proof that they are coprime</a>

<a id="2183" class="Keyword">infix</a> <a id="2189" class="Number">4</a> <a id="2191" href="Data.Rational.Base.html#2195" class="Function Operator">_≢0</a>
<a id="_≢0"></a><a id="2195" href="Data.Rational.Base.html#2195" class="Function Operator">_≢0</a> <a id="2199" class="Symbol">:</a> <a id="2201" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2203" class="Symbol">→</a> <a id="2205" class="PrimitiveType">Set</a>
<a id="2209" href="Data.Rational.Base.html#2209" class="Bound">n</a> <a id="2211" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a> <a id="2214" class="Symbol">=</a> <a id="2216" href="Relation.Nullary.Decidable.html#990" class="Function">False</a> <a id="2222" class="Symbol">(</a><a id="2223" href="Data.Rational.Base.html#2209" class="Bound">n</a> <a id="2225" href="Data.Nat.Properties.html#1383" class="Function Operator">ℕ.≟</a> <a id="2229" class="Number">0</a><a id="2230" class="Symbol">)</a>

<a id="2233" class="Comment">-- introducing a notation for that nasty pattern</a>
<a id="2282" class="Keyword">pattern</a> <a id="⟨_&amp;_∧_&amp;_⟩"></a><a id="2290" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">⟨_&amp;_∧_&amp;_⟩</a> <a id="2300" href="Data.Rational.Base.html#2330" class="Bound">p</a> <a id="2302" href="Data.Rational.Base.html#2332" class="Bound">eqp</a> <a id="2306" href="Data.Rational.Base.html#2346" class="Bound">q</a> <a id="2308" href="Data.Rational.Base.html#2348" class="Bound">eqq</a> <a id="2312" class="Symbol">=</a> <a id="2314" href="Data.Nat.GCD.html#976" class="InductiveConstructor">GCD.is</a> <a id="2321" class="Symbol">(</a><a id="2322" href="Data.Nat.Divisibility.html#1324" class="InductiveConstructor">divides</a> <a id="2330" href="Data.Rational.Base.html#2330" class="Bound">p</a> <a id="2332" href="Data.Rational.Base.html#2332" class="Bound">eqp</a> <a id="2336" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2338" href="Data.Nat.Divisibility.html#1324" class="InductiveConstructor">divides</a> <a id="2346" href="Data.Rational.Base.html#2346" class="Bound">q</a> <a id="2348" href="Data.Rational.Base.html#2348" class="Bound">eqq</a><a id="2351" class="Symbol">)</a> <a id="2353" class="Symbol">_</a>

<a id="normalize"></a><a id="2356" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="2366" class="Symbol">:</a> <a id="2368" class="Symbol">∀</a> <a id="2370" href="Data.Rational.Base.html#2370" class="Bound">m</a> <a id="2372" href="Data.Rational.Base.html#2372" class="Bound">n</a> <a id="2374" href="Data.Rational.Base.html#2374" class="Bound">g</a> <a id="2376" class="Symbol">.{</a><a id="2378" href="Data.Rational.Base.html#2378" class="Bound">m≢0</a> <a id="2382" class="Symbol">:</a> <a id="2384" href="Data.Rational.Base.html#2370" class="Bound">m</a> <a id="2386" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="2388" class="Symbol">}</a> <a id="2390" class="Symbol">.{</a><a id="2392" href="Data.Rational.Base.html#2392" class="Bound">n≢0</a> <a id="2396" class="Symbol">:</a> <a id="2398" href="Data.Rational.Base.html#2372" class="Bound">n</a> <a id="2400" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="2402" class="Symbol">}</a> <a id="2404" class="Symbol">.{</a><a id="2406" href="Data.Rational.Base.html#2406" class="Bound">g≢0</a> <a id="2410" class="Symbol">:</a> <a id="2412" href="Data.Rational.Base.html#2374" class="Bound">g</a> <a id="2414" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="2416" class="Symbol">}</a> <a id="2418" class="Symbol">→</a> <a id="2420" href="Data.Nat.GCD.html#930" class="Record">GCD</a> <a id="2424" href="Data.Rational.Base.html#2370" class="Bound">m</a> <a id="2426" href="Data.Rational.Base.html#2372" class="Bound">n</a> <a id="2428" href="Data.Rational.Base.html#2374" class="Bound">g</a> <a id="2430" class="Symbol">→</a>
            <a id="2444" href="Data.Product.html#800" class="Function">Σ[</a> <a id="2447" href="Data.Rational.Base.html#2447" class="Bound">p</a> <a id="2449" href="Data.Product.html#800" class="Function">∈</a> <a id="2451" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2453" href="Data.Product.html#800" class="Function">]</a> <a id="2455" href="Data.Product.html#800" class="Function">Σ[</a> <a id="2458" href="Data.Rational.Base.html#2458" class="Bound">q</a> <a id="2460" href="Data.Product.html#800" class="Function">∈</a> <a id="2462" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2464" href="Data.Product.html#800" class="Function">]</a> <a id="2466" href="Data.Nat.Coprimality.html#999" class="Function">Coprime</a> <a id="2474" class="Symbol">(</a><a id="2475" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2479" href="Data.Rational.Base.html#2447" class="Bound">p</a><a id="2480" class="Symbol">)</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2487" href="Data.Rational.Base.html#2458" class="Bound">q</a><a id="2488" class="Symbol">)</a> <a id="2490" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="2492" href="Data.Rational.Base.html#2370" class="Bound">m</a> <a id="2494" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="2498" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2502" href="Data.Rational.Base.html#2458" class="Bound">q</a> <a id="2504" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2506" href="Data.Rational.Base.html#2372" class="Bound">n</a> <a id="2508" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="2512" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2516" href="Data.Rational.Base.html#2447" class="Bound">p</a>
<a id="2518" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="2528" class="Number">0</a>       <a id="2536" href="Data.Rational.Base.html#2536" class="Bound">n</a>       <a id="2544" href="Data.Rational.Base.html#2544" class="Bound">g</a> <a id="2546" class="Symbol">{</a><a id="2547" class="Argument">m≢0</a> <a id="2551" class="Symbol">=</a> <a id="2553" class="Symbol">()}</a> <a id="2557" class="Symbol">_</a>
<a id="2559" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="2569" href="Data.Rational.Base.html#2569" class="Bound">m</a>       <a id="2577" class="Number">0</a>       <a id="2585" href="Data.Rational.Base.html#2585" class="Bound">g</a> <a id="2587" class="Symbol">{</a><a id="2588" class="Argument">n≢0</a> <a id="2592" class="Symbol">=</a> <a id="2594" class="Symbol">()}</a> <a id="2598" class="Symbol">_</a>
<a id="2600" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="2610" href="Data.Rational.Base.html#2610" class="Bound">m</a>       <a id="2618" href="Data.Rational.Base.html#2618" class="Bound">n</a>       <a id="2626" class="Number">0</a> <a id="2628" class="Symbol">{</a><a id="2629" class="Argument">g≢0</a> <a id="2633" class="Symbol">=</a> <a id="2635" class="Symbol">()}</a> <a id="2639" class="Symbol">_</a>
<a id="2641" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="2651" class="Symbol">(</a><a id="2652" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2656" class="Symbol">_)</a> <a id="2659" href="Data.Rational.Base.html#2659" class="Bound">n</a>       <a id="2667" href="Data.Rational.Base.html#2667" class="Bound">g</a>          <a id="2678" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">⟨</a> <a id="2680" class="Number">0</a>     <a id="2686" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">&amp;</a> <a id="2688" class="Symbol">()</a>    <a id="2694" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">∧</a> <a id="2696" href="Data.Rational.Base.html#2696" class="Bound">q</a>     <a id="2702" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">&amp;</a> <a id="2704" href="Data.Rational.Base.html#2704" class="Bound">n≡qg&#39;</a> <a id="2710" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">⟩</a>
<a id="2712" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="2722" href="Data.Rational.Base.html#2722" class="Bound">m</a>       <a id="2730" class="Symbol">(</a><a id="2731" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2735" class="Symbol">_)</a> <a id="2738" href="Data.Rational.Base.html#2738" class="Bound">g</a>          <a id="2749" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">⟨</a> <a id="2751" href="Data.Rational.Base.html#2751" class="Bound">p</a>     <a id="2757" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">&amp;</a> <a id="2759" href="Data.Rational.Base.html#2759" class="Bound">m≡pg&#39;</a> <a id="2765" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">∧</a> <a id="2767" class="Number">0</a>     <a id="2773" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">&amp;</a> <a id="2775" class="Symbol">()</a> <a id="2778" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">⟩</a>
<a id="2780" href="Data.Rational.Base.html#2356" class="Function">normalize</a><a id="2789" class="Symbol">(</a><a id="2790" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2794" class="Symbol">_)</a>  <a id="2798" class="Symbol">(</a><a id="2799" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2803" class="Symbol">_)</a> <a id="2806" class="Symbol">(</a><a id="2807" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2811" href="Data.Rational.Base.html#2811" class="Bound">g</a><a id="2812" class="Symbol">)</a> <a id="2814" href="Data.Rational.Base.html#2814" class="Bound">G</a><a id="2815" class="Symbol">@(</a><a id="2817" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">⟨</a> <a id="2819" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2823" href="Data.Rational.Base.html#2823" class="Bound">p</a> <a id="2825" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">&amp;</a> <a id="2827" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>  <a id="2833" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">∧</a> <a id="2835" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2839" href="Data.Rational.Base.html#2839" class="Bound">q</a> <a id="2841" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">&amp;</a> <a id="2843" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="2848" href="Data.Rational.Base.html#2290" class="InductiveConstructor Operator">⟩</a><a id="2849" class="Symbol">)</a>
  <a id="2853" class="Symbol">=</a> <a id="2855" href="Data.Rational.Base.html#2823" class="Bound">p</a> <a id="2857" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2859" href="Data.Rational.Base.html#2839" class="Bound">q</a> <a id="2861" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2863" href="Data.Nat.Coprimality.html#2498" class="Function">Bézout-coprime</a> <a id="2878" class="Symbol">(</a><a id="2879" href="Data.Nat.GCD.html#5894" class="Function">Bézout.identity</a> <a id="2895" href="Data.Rational.Base.html#2814" class="Bound">G</a><a id="2896" class="Symbol">)</a> <a id="2898" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="2900" class="Symbol">(</a><a id="2901" href="Relation.Binary.PropositionalEquality.html#4380" class="Function Operator">begin</a>
    <a id="2911" class="Symbol">(</a><a id="2912" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2916" href="Data.Rational.Base.html#2823" class="Bound">p</a> <a id="2918" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="2922" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2926" href="Data.Rational.Base.html#2811" class="Bound">g</a><a id="2927" class="Symbol">)</a> <a id="2929" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="2933" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2937" href="Data.Rational.Base.html#2839" class="Bound">q</a> <a id="2939" href="Relation.Binary.PropositionalEquality.html#4497" class="Function Operator">≡⟨</a> <a id="2942" href="Data.Nat.Properties.html#16309" class="Function">ℕ.*-assoc</a> <a id="2952" class="Symbol">(</a><a id="2953" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2957" href="Data.Rational.Base.html#2823" class="Bound">p</a><a id="2958" class="Symbol">)</a> <a id="2960" class="Symbol">(</a><a id="2961" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2965" href="Data.Rational.Base.html#2811" class="Bound">g</a><a id="2966" class="Symbol">)</a> <a id="2968" class="Symbol">(</a><a id="2969" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2973" href="Data.Rational.Base.html#2839" class="Bound">q</a><a id="2974" class="Symbol">)</a> <a id="2976" href="Relation.Binary.PropositionalEquality.html#4497" class="Function Operator">⟩</a>
    <a id="2982" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2986" href="Data.Rational.Base.html#2823" class="Bound">p</a> <a id="2988" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="2992" class="Symbol">(</a><a id="2993" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2997" href="Data.Rational.Base.html#2811" class="Bound">g</a> <a id="2999" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="3003" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3007" href="Data.Rational.Base.html#2839" class="Bound">q</a><a id="3008" class="Symbol">)</a> <a id="3010" href="Relation.Binary.PropositionalEquality.html#4497" class="Function Operator">≡⟨</a> <a id="3013" href="Relation.Binary.PropositionalEquality.html#1134" class="Function">cong</a> <a id="3018" class="Symbol">(</a><a id="3019" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3023" href="Data.Rational.Base.html#2823" class="Bound">p</a> <a id="3025" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*_</a><a id="3029" class="Symbol">)</a> <a id="3031" class="Symbol">(</a><a id="3032" href="Data.Nat.Properties.html#15635" class="Function">ℕ.*-comm</a> <a id="3041" class="Symbol">(</a><a id="3042" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3046" href="Data.Rational.Base.html#2811" class="Bound">g</a><a id="3047" class="Symbol">)</a> <a id="3049" class="Symbol">(</a><a id="3050" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3054" href="Data.Rational.Base.html#2839" class="Bound">q</a><a id="3055" class="Symbol">))</a> <a id="3058" href="Relation.Binary.PropositionalEquality.html#4497" class="Function Operator">⟩</a>
    <a id="3064" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3068" href="Data.Rational.Base.html#2823" class="Bound">p</a> <a id="3070" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="3074" class="Symbol">(</a><a id="3075" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3079" href="Data.Rational.Base.html#2839" class="Bound">q</a> <a id="3081" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="3085" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3089" href="Data.Rational.Base.html#2811" class="Bound">g</a><a id="3090" class="Symbol">)</a> <a id="3092" href="Relation.Binary.PropositionalEquality.html#4497" class="Function Operator">≡⟨</a> <a id="3095" href="Data.Nat.Properties.html#15635" class="Function">ℕ.*-comm</a> <a id="3104" class="Symbol">(</a><a id="3105" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3109" href="Data.Rational.Base.html#2823" class="Bound">p</a><a id="3110" class="Symbol">)</a> <a id="3112" class="Symbol">_</a> <a id="3114" href="Relation.Binary.PropositionalEquality.html#4497" class="Function Operator">⟩</a>
    <a id="3120" class="Symbol">(</a><a id="3121" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3125" href="Data.Rational.Base.html#2839" class="Bound">q</a> <a id="3127" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="3131" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3135" href="Data.Rational.Base.html#2811" class="Bound">g</a><a id="3136" class="Symbol">)</a> <a id="3138" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="3142" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3146" href="Data.Rational.Base.html#2823" class="Bound">p</a> <a id="3148" href="Relation.Binary.PropositionalEquality.html#4582" class="Function Operator">∎</a><a id="3149" class="Symbol">)</a>

<a id="3152" class="Comment">-- a version of gcd that returns a proof that the result is non-zero given</a>
<a id="3227" class="Comment">-- that one of the inputs is non-zero</a>

<a id="gcd≢0"></a><a id="3266" href="Data.Rational.Base.html#3266" class="Function">gcd≢0</a> <a id="3272" class="Symbol">:</a> <a id="3274" class="Symbol">(</a><a id="3275" href="Data.Rational.Base.html#3275" class="Bound">m</a> <a id="3277" href="Data.Rational.Base.html#3277" class="Bound">n</a> <a id="3279" class="Symbol">:</a> <a id="3281" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="3282" class="Symbol">)</a> <a id="3284" class="Symbol">{</a><a id="3285" href="Data.Rational.Base.html#3285" class="Bound">m≢0</a> <a id="3289" class="Symbol">:</a> <a id="3291" href="Data.Rational.Base.html#3275" class="Bound">m</a> <a id="3293" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="3295" class="Symbol">}</a> <a id="3297" class="Symbol">→</a> <a id="3299" href="Data.Product.html#800" class="Function">Σ[</a> <a id="3302" href="Data.Rational.Base.html#3302" class="Bound">d</a> <a id="3304" href="Data.Product.html#800" class="Function">∈</a> <a id="3306" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="3308" href="Data.Product.html#800" class="Function">]</a> <a id="3310" href="Data.Nat.GCD.html#930" class="Record">GCD</a> <a id="3314" href="Data.Rational.Base.html#3275" class="Bound">m</a> <a id="3316" href="Data.Rational.Base.html#3277" class="Bound">n</a> <a id="3318" href="Data.Rational.Base.html#3302" class="Bound">d</a> <a id="3320" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="3322" href="Data.Rational.Base.html#3302" class="Bound">d</a> <a id="3324" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a>
<a id="3327" href="Data.Rational.Base.html#3266" class="Function">gcd≢0</a> <a id="3333" href="Data.Rational.Base.html#3333" class="Bound">m</a>  <a id="3336" href="Data.Rational.Base.html#3336" class="Bound">n</a> <a id="3338" class="Symbol">{</a><a id="3339" href="Data.Rational.Base.html#3339" class="Bound">m≢0</a><a id="3342" class="Symbol">}</a> <a id="3344" class="Keyword">with</a> <a id="3349" href="Data.Nat.GCD.html#6086" class="Function">gcd</a> <a id="3353" href="Data.Rational.Base.html#3333" class="Bound">m</a> <a id="3355" href="Data.Rational.Base.html#3336" class="Bound">n</a>
<a id="3357" class="Symbol">...</a> <a id="3361" class="Symbol">|</a> <a id="3363" class="Symbol">(</a><a id="3364" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3368" href="Data.Rational.Base.html#3368" class="Bound">d</a> <a id="3370" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3372" href="Data.Rational.Base.html#3372" class="Bound">G</a><a id="3373" class="Symbol">)</a>  <a id="3376" class="Symbol">=</a> <a id="3378" class="Symbol">(</a><a id="3379" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3383" href="Data.Rational.Base.html#3368" class="Bound">d</a> <a id="3385" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3387" href="Data.Rational.Base.html#3372" class="Bound">G</a> <a id="3389" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3391" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="3393" class="Symbol">)</a>
<a id="3395" class="Symbol">...</a> <a id="3399" class="Symbol">|</a> <a id="3401" class="Symbol">(</a><a id="3402" class="Number">0</a> <a id="3404" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3406" href="Data.Nat.GCD.html#976" class="InductiveConstructor">GCD.is</a> <a id="3413" class="Symbol">(</a><a id="3414" href="Data.Rational.Base.html#3414" class="Bound">0|m</a> <a id="3418" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3420" class="Symbol">_)</a> <a id="3423" class="Symbol">_)</a> <a id="3426" class="Keyword">with</a> <a id="3431" href="Data.Nat.Divisibility.html#3256" class="Function">ℕDiv.0∣⇒≡0</a> <a id="3442" href="Data.Rational.Base.html#3414" class="Bound">0|m</a>
<a id="3446" class="Symbol">...</a>   <a id="3452" class="Symbol">|</a> <a id="3454" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="3459" class="Symbol">=</a> <a id="3461" href="Relation.Nullary.Negation.html#596" class="Function">contradiction</a> <a id="3475" class="Bound">m≢0</a> <a id="3479" href="Function.html#1104" class="Function">id</a>

<a id="3483" class="Keyword">pattern</a> <a id="+0"></a><a id="3491" href="Data.Rational.Base.html#3491" class="InductiveConstructor">+0</a>       <a id="3500" class="Symbol">=</a> <a id="3502" href="Agda.Builtin.Int.html#196" class="InductiveConstructor Operator">+</a> <a id="3504" class="Number">0</a>
<a id="3506" class="Keyword">pattern</a> <a id="+[1+_]"></a><a id="3514" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+_]</a> <a id="3521" href="Data.Rational.Base.html#3531" class="Bound">n</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="Agda.Builtin.Int.html#196" class="InductiveConstructor Operator">+</a> <a id="3527" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3531" href="Data.Rational.Base.html#3531" class="Bound">n</a>

<a id="norm-mkℚ"></a><a id="3534" href="Data.Rational.Base.html#3534" class="Function">norm-mkℚ</a> <a id="3543" class="Symbol">:</a> <a id="3545" class="Symbol">(</a><a id="3546" href="Data.Rational.Base.html#3546" class="Bound">n</a> <a id="3548" class="Symbol">:</a> <a id="3550" href="Agda.Builtin.Int.html#178" class="Datatype">ℤ</a><a id="3551" class="Symbol">)</a> <a id="3553" class="Symbol">(</a><a id="3554" href="Data.Rational.Base.html#3554" class="Bound">d</a> <a id="3556" class="Symbol">:</a> <a id="3558" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="3559" class="Symbol">)</a> <a id="3561" class="Symbol">→</a> <a id="3563" class="Symbol">.{</a><a id="3565" href="Data.Rational.Base.html#3565" class="Bound">d≢0</a> <a id="3569" class="Symbol">:</a> <a id="3571" href="Data.Rational.Base.html#3554" class="Bound">d</a> <a id="3573" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="3575" class="Symbol">}</a> <a id="3577" class="Symbol">→</a> <a id="3579" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="3581" href="Data.Rational.Base.html#3534" class="Function">norm-mkℚ</a> <a id="3590" href="Data.Rational.Base.html#3491" class="InductiveConstructor">+0</a>       <a id="3599" href="Data.Rational.Base.html#3599" class="Bound">d</a> <a id="3601" class="Symbol">{</a><a id="3602" href="Data.Rational.Base.html#3602" class="Bound">d≢0</a><a id="3605" class="Symbol">}</a> <a id="3607" class="Symbol">=</a> <a id="3609" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="3613" href="Data.Rational.Base.html#3491" class="InductiveConstructor">+0</a> <a id="3616" class="Number">0</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Data.Nat.Coprimality.html#1966" class="Function">C.sym</a> <a id="3625" class="Symbol">(</a><a id="3626" href="Data.Nat.Coprimality.html#2040" class="Function">C.1-coprimeTo</a> <a id="3640" class="Number">0</a><a id="3641" class="Symbol">))</a>
<a id="3644" href="Data.Rational.Base.html#3534" class="Function">norm-mkℚ</a> <a id="3653" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">-[1+</a> <a id="3658" href="Data.Rational.Base.html#3658" class="Bound">n</a> <a id="3660" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">]</a> <a id="3662" href="Data.Rational.Base.html#3662" class="Bound">d</a> <a id="3664" class="Symbol">{</a><a id="3665" href="Data.Rational.Base.html#3665" class="Bound">d≢0</a><a id="3668" class="Symbol">}</a> <a id="3670" class="Symbol">=</a>
  <a id="3674" class="Keyword">let</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Data.Rational.Base.html#3679" class="Bound">q</a> <a id="3681" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3683" href="Data.Rational.Base.html#3683" class="Bound">gcd</a> <a id="3687" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3689" href="Data.Rational.Base.html#3689" class="Bound">q≢0</a><a id="3692" class="Symbol">)</a>      <a id="3699" class="Symbol">=</a> <a id="3701" href="Data.Rational.Base.html#3266" class="Function">gcd≢0</a> <a id="3707" class="Symbol">(</a><a id="3708" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3712" href="Data.Rational.Base.html#3658" class="Bound">n</a><a id="3713" class="Symbol">)</a> <a id="3715" href="Data.Rational.Base.html#3662" class="Bound">d</a>
      <a id="3723" class="Symbol">(</a><a id="3724" href="Data.Rational.Base.html#3724" class="Bound">n′</a> <a id="3727" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3729" href="Data.Rational.Base.html#3729" class="Bound">d′</a> <a id="3732" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3734" href="Data.Rational.Base.html#3734" class="Bound">prf</a> <a id="3738" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3740" href="Data.Rational.Base.html#3740" class="Bound">eq</a><a id="3742" class="Symbol">)</a> <a id="3744" class="Symbol">=</a> <a id="3746" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="3756" class="Symbol">(</a><a id="3757" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3761" href="Data.Rational.Base.html#3658" class="Bound">n</a><a id="3762" class="Symbol">)</a> <a id="3764" href="Data.Rational.Base.html#3662" class="Bound">d</a> <a id="3766" href="Data.Rational.Base.html#3679" class="Bound">q</a> <a id="3768" class="Symbol">{_}</a> <a id="3772" class="Symbol">{</a><a id="3773" href="Data.Rational.Base.html#3665" class="Bound">d≢0</a><a id="3776" class="Symbol">}</a> <a id="3778" class="Symbol">{</a><a id="3779" href="Data.Rational.Base.html#3689" class="Bound">q≢0</a><a id="3782" class="Symbol">}</a> <a id="3784" href="Data.Rational.Base.html#3683" class="Bound">gcd</a>
  <a id="3790" class="Keyword">in</a> <a id="3793" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="3797" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">-[1+</a> <a id="3802" href="Data.Rational.Base.html#3724" class="Bound">n′</a> <a id="3805" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">]</a> <a id="3807" href="Data.Rational.Base.html#3729" class="Bound">d′</a> <a id="3810" href="Data.Rational.Base.html#3734" class="Bound">prf</a>
<a id="3814" href="Data.Rational.Base.html#3534" class="Function">norm-mkℚ</a> <a id="3823" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+</a> <a id="3828" href="Data.Rational.Base.html#3828" class="Bound">n</a> <a id="3830" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">]</a> <a id="3832" href="Data.Rational.Base.html#3832" class="Bound">d</a> <a id="3834" class="Symbol">{</a><a id="3835" href="Data.Rational.Base.html#3835" class="Bound">d≢0</a><a id="3838" class="Symbol">}</a> <a id="3840" class="Symbol">=</a>
  <a id="3844" class="Keyword">let</a> <a id="3848" class="Symbol">(</a><a id="3849" href="Data.Rational.Base.html#3849" class="Bound">q</a> <a id="3851" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3853" href="Data.Rational.Base.html#3853" class="Bound">gcd</a> <a id="3857" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3859" href="Data.Rational.Base.html#3859" class="Bound">q≢0</a><a id="3862" class="Symbol">)</a>      <a id="3869" class="Symbol">=</a> <a id="3871" href="Data.Rational.Base.html#3266" class="Function">gcd≢0</a> <a id="3877" class="Symbol">(</a><a id="3878" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3882" href="Data.Rational.Base.html#3828" class="Bound">n</a><a id="3883" class="Symbol">)</a> <a id="3885" href="Data.Rational.Base.html#3832" class="Bound">d</a>
      <a id="3893" class="Symbol">(</a><a id="3894" href="Data.Rational.Base.html#3894" class="Bound">n′</a> <a id="3897" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3899" href="Data.Rational.Base.html#3899" class="Bound">d′</a> <a id="3902" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3904" href="Data.Rational.Base.html#3904" class="Bound">prf</a> <a id="3908" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3910" href="Data.Rational.Base.html#3910" class="Bound">eq</a><a id="3912" class="Symbol">)</a> <a id="3914" class="Symbol">=</a> <a id="3916" href="Data.Rational.Base.html#2356" class="Function">normalize</a> <a id="3926" class="Symbol">(</a><a id="3927" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3931" href="Data.Rational.Base.html#3828" class="Bound">n</a><a id="3932" class="Symbol">)</a> <a id="3934" href="Data.Rational.Base.html#3832" class="Bound">d</a> <a id="3936" href="Data.Rational.Base.html#3849" class="Bound">q</a> <a id="3938" class="Symbol">{_}</a> <a id="3942" class="Symbol">{</a><a id="3943" href="Data.Rational.Base.html#3835" class="Bound">d≢0</a><a id="3946" class="Symbol">}</a> <a id="3948" class="Symbol">{</a><a id="3949" href="Data.Rational.Base.html#3859" class="Bound">q≢0</a><a id="3952" class="Symbol">}</a> <a id="3954" href="Data.Rational.Base.html#3853" class="Bound">gcd</a>
  <a id="3960" class="Keyword">in</a> <a id="3963" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="3967" class="Symbol">(</a><a id="3968" href="Agda.Builtin.Int.html#196" class="InductiveConstructor Operator">+</a> <a id="3970" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3974" href="Data.Rational.Base.html#3894" class="Bound">n′</a><a id="3976" class="Symbol">)</a> <a id="3978" href="Data.Rational.Base.html#3899" class="Bound">d′</a> <a id="3981" href="Data.Rational.Base.html#3904" class="Bound">prf</a>

<a id="3986" class="Comment">------------------------------------------------------------------------------</a>
<a id="4065" class="Comment">-- Operations on rationals</a>

<a id="4093" class="Keyword">infix</a>  <a id="4100" class="Number">8</a> <a id="4102" href="Data.Rational.Base.html#4167" class="Function Operator">-_</a> <a id="4105" href="Data.Rational.Base.html#4369" class="Function Operator">1/_</a>
<a id="4109" class="Keyword">infixl</a> <a id="4116" class="Number">7</a> <a id="4118" href="Data.Rational.Base.html#4554" class="Function Operator">_*_</a> <a id="4122" href="Data.Rational.Base.html#5066" class="Function Operator">_/_</a> <a id="4126" href="Data.Rational.Base.html#4659" class="Function Operator">_÷_</a>
<a id="4130" class="Keyword">infixl</a> <a id="4137" class="Number">6</a> <a id="4139" href="Data.Rational.Base.html#5018" class="Function Operator">_-_</a> <a id="4143" href="Data.Rational.Base.html#4874" class="Function Operator">_+_</a>

<a id="4148" class="Comment">-- unary negation</a>

<a id="-_"></a><a id="4167" href="Data.Rational.Base.html#4167" class="Function Operator">-_</a> <a id="4170" class="Symbol">:</a> <a id="4172" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="4174" class="Symbol">→</a> <a id="4176" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="4178" href="Data.Rational.Base.html#4167" class="Function Operator">-</a> <a id="4180" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4184" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">-[1+</a> <a id="4189" href="Data.Rational.Base.html#4189" class="Bound">n</a> <a id="4191" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">]</a> <a id="4193" href="Data.Rational.Base.html#4193" class="Bound">d</a> <a id="4195" href="Data.Rational.Base.html#4195" class="Bound">prf</a> <a id="4199" class="Symbol">=</a> <a id="4201" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4205" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+</a> <a id="4210" href="Data.Rational.Base.html#4189" class="Bound">n</a> <a id="4212" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">]</a> <a id="4214" href="Data.Rational.Base.html#4193" class="Bound">d</a> <a id="4216" href="Data.Rational.Base.html#4195" class="Bound">prf</a>
<a id="4220" href="Data.Rational.Base.html#4167" class="Function Operator">-</a> <a id="4222" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4226" href="Data.Rational.Base.html#3491" class="InductiveConstructor">+0</a>       <a id="4235" href="Data.Rational.Base.html#4235" class="Bound">d</a> <a id="4237" href="Data.Rational.Base.html#4237" class="Bound">prf</a> <a id="4241" class="Symbol">=</a> <a id="4243" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4247" href="Data.Rational.Base.html#3491" class="InductiveConstructor">+0</a>       <a id="4256" href="Data.Rational.Base.html#4235" class="Bound">d</a> <a id="4258" href="Data.Rational.Base.html#4237" class="Bound">prf</a>
<a id="4262" href="Data.Rational.Base.html#4167" class="Function Operator">-</a> <a id="4264" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4268" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+</a> <a id="4273" href="Data.Rational.Base.html#4273" class="Bound">n</a> <a id="4275" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">]</a> <a id="4277" href="Data.Rational.Base.html#4277" class="Bound">d</a> <a id="4279" href="Data.Rational.Base.html#4279" class="Bound">prf</a> <a id="4283" class="Symbol">=</a> <a id="4285" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4289" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">-[1+</a> <a id="4294" href="Data.Rational.Base.html#4273" class="Bound">n</a> <a id="4296" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">]</a> <a id="4298" href="Data.Rational.Base.html#4277" class="Bound">d</a> <a id="4300" href="Data.Rational.Base.html#4279" class="Bound">prf</a>

<a id="4305" class="Comment">-- reciprocal: requires a proof that the numerator is not zero</a>

<a id="1/_"></a><a id="4369" href="Data.Rational.Base.html#4369" class="Function Operator">1/_</a> <a id="4373" class="Symbol">:</a> <a id="4375" class="Symbol">(</a><a id="4376" href="Data.Rational.Base.html#4376" class="Bound">p</a> <a id="4378" class="Symbol">:</a> <a id="4380" href="Data.Rational.Base.html#1219" class="Record">ℚ</a><a id="4381" class="Symbol">)</a> <a id="4383" class="Symbol">→</a> <a id="4385" class="Symbol">.{</a><a id="4387" href="Data.Rational.Base.html#4387" class="Bound">n≢0</a> <a id="4391" class="Symbol">:</a> <a id="4393" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="4395" href="Data.Rational.Base.html#1263" class="Field Operator">↥</a> <a id="4397" href="Data.Rational.Base.html#4376" class="Bound">p</a> <a id="4399" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="4401" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="4403" class="Symbol">}</a> <a id="4405" class="Symbol">→</a> <a id="4407" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="4409" class="Symbol">(</a><a id="4410" href="Data.Rational.Base.html#4369" class="Function Operator">1/</a> <a id="4413" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4417" href="Data.Rational.Base.html#3491" class="InductiveConstructor">+0</a> <a id="4420" href="Data.Rational.Base.html#4420" class="Bound">d</a> <a id="4422" href="Data.Rational.Base.html#4422" class="Bound">prf</a><a id="4425" class="Symbol">)</a> <a id="4427" class="Symbol">{()}</a>
<a id="4432" href="Data.Rational.Base.html#4369" class="Function Operator">1/</a> <a id="4435" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4439" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+</a> <a id="4444" href="Data.Rational.Base.html#4444" class="Bound">n</a> <a id="4446" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">]</a> <a id="4448" href="Data.Rational.Base.html#4448" class="Bound">d</a> <a id="4450" href="Data.Rational.Base.html#4450" class="Bound">prf</a> <a id="4454" class="Symbol">=</a> <a id="4456" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4460" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+</a> <a id="4465" href="Data.Rational.Base.html#4448" class="Bound">d</a> <a id="4467" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">]</a> <a id="4469" href="Data.Rational.Base.html#4444" class="Bound">n</a> <a id="4471" class="Symbol">(</a><a id="4472" href="Data.Nat.Coprimality.html#1966" class="Function">C.sym</a> <a id="4478" href="Data.Rational.Base.html#4450" class="Bound">prf</a><a id="4481" class="Symbol">)</a>
<a id="4483" href="Data.Rational.Base.html#4369" class="Function Operator">1/</a> <a id="4486" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4490" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">-[1+</a> <a id="4495" href="Data.Rational.Base.html#4495" class="Bound">n</a> <a id="4497" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">]</a> <a id="4499" href="Data.Rational.Base.html#4499" class="Bound">d</a> <a id="4501" href="Data.Rational.Base.html#4501" class="Bound">prf</a> <a id="4505" class="Symbol">=</a> <a id="4507" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4511" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">-[1+</a> <a id="4516" href="Data.Rational.Base.html#4499" class="Bound">d</a> <a id="4518" href="Agda.Builtin.Int.html#223" class="InductiveConstructor Operator">]</a> <a id="4520" href="Data.Rational.Base.html#4495" class="Bound">n</a> <a id="4522" class="Symbol">(</a><a id="4523" href="Data.Nat.Coprimality.html#1966" class="Function">C.sym</a> <a id="4529" href="Data.Rational.Base.html#4501" class="Bound">prf</a><a id="4532" class="Symbol">)</a>

<a id="4535" class="Comment">-- multiplication</a>

<a id="_*_"></a><a id="4554" href="Data.Rational.Base.html#4554" class="Function Operator">_*_</a> <a id="4558" class="Symbol">:</a> <a id="4560" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="4562" class="Symbol">→</a> <a id="4564" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="4566" class="Symbol">→</a> <a id="4568" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="4570" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4574" href="Data.Rational.Base.html#4574" class="Bound">n₁</a> <a id="4577" href="Data.Rational.Base.html#4577" class="Bound">d₁</a> <a id="4580" href="Data.Rational.Base.html#4580" class="Bound">prf₁</a> <a id="4585" href="Data.Rational.Base.html#4554" class="Function Operator">*</a> <a id="4587" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4591" href="Data.Rational.Base.html#4591" class="Bound">n₂</a> <a id="4594" href="Data.Rational.Base.html#4594" class="Bound">d₂</a> <a id="4597" href="Data.Rational.Base.html#4597" class="Bound">prf₂</a> <a id="4602" class="Symbol">=</a> <a id="4604" href="Data.Rational.Base.html#3534" class="Function">norm-mkℚ</a> <a id="4613" class="Symbol">(</a><a id="4614" href="Data.Rational.Base.html#4574" class="Bound">n₁</a> <a id="4617" href="Data.Integer.Base.html#2389" class="Function Operator">ℤ.*</a> <a id="4621" href="Data.Rational.Base.html#4591" class="Bound">n₂</a><a id="4623" class="Symbol">)</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4630" href="Data.Rational.Base.html#4577" class="Bound">d₁</a> <a id="4633" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="4637" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4641" href="Data.Rational.Base.html#4594" class="Bound">d₂</a><a id="4643" class="Symbol">)</a>

<a id="4646" class="Comment">-- division</a>

<a id="_÷_"></a><a id="4659" href="Data.Rational.Base.html#4659" class="Function Operator">_÷_</a> <a id="4663" class="Symbol">:</a> <a id="4665" class="Symbol">(</a><a id="4666" href="Data.Rational.Base.html#4666" class="Bound">numerator</a> <a id="4676" class="Symbol">:</a> <a id="4678" href="Agda.Builtin.Int.html#178" class="Datatype">ℤ</a><a id="4679" class="Symbol">)</a> <a id="4681" class="Symbol">(</a><a id="4682" href="Data.Rational.Base.html#4682" class="Bound">denominator</a> <a id="4694" class="Symbol">:</a> <a id="4696" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="4697" class="Symbol">)</a>
      <a id="4705" class="Symbol">.{</a><a id="4707" href="Data.Rational.Base.html#4707" class="Bound">coprime</a> <a id="4715" class="Symbol">:</a> <a id="4717" href="Relation.Nullary.Decidable.html#933" class="Function">True</a> <a id="4722" class="Symbol">(</a><a id="4723" href="Data.Nat.Coprimality.html#1689" class="Function">coprime?</a> <a id="4732" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="4734" href="Data.Rational.Base.html#4666" class="Bound">numerator</a> <a id="4744" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="4746" href="Data.Rational.Base.html#4682" class="Bound">denominator</a><a id="4757" class="Symbol">)}</a>
      <a id="4766" class="Symbol">{</a><a id="4767" href="Data.Rational.Base.html#4767" class="Bound">≢0</a> <a id="4770" class="Symbol">:</a> <a id="4772" href="Data.Rational.Base.html#4682" class="Bound">denominator</a> <a id="4784" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="4786" class="Symbol">}</a> <a id="4788" class="Symbol">→</a>
      <a id="4796" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="4798" class="Symbol">(</a><a id="4799" href="Data.Rational.Base.html#4799" class="Bound">n</a> <a id="4801" href="Data.Rational.Base.html#4659" class="Function Operator">÷</a> <a id="4803" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="4807" class="Symbol">)</a>  <a id="4810" class="Symbol">{</a><a id="4811" class="Argument">≢0</a> <a id="4814" class="Symbol">=</a> <a id="4816" class="Symbol">()}</a>
<a id="4820" class="Symbol">(</a><a id="4821" href="Data.Rational.Base.html#4821" class="Bound">n</a> <a id="4823" href="Data.Rational.Base.html#4659" class="Function Operator">÷</a> <a id="4825" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4829" href="Data.Rational.Base.html#4829" class="Bound">d</a><a id="4830" class="Symbol">)</a> <a id="4832" class="Symbol">{</a><a id="4833" href="Data.Rational.Base.html#4833" class="Bound">c</a><a id="4834" class="Symbol">}</a> <a id="4836" class="Symbol">=</a> <a id="4838" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4842" href="Data.Rational.Base.html#4821" class="Bound">n</a> <a id="4844" href="Data.Rational.Base.html#4829" class="Bound">d</a> <a id="4846" class="Symbol">(</a><a id="4847" href="Relation.Nullary.Decidable.html#1091" class="Function">toWitness</a> <a id="4857" href="Data.Rational.Base.html#4833" class="Bound">c</a><a id="4858" class="Symbol">)</a>

<a id="4861" class="Comment">-- addition</a>

<a id="_+_"></a><a id="4874" href="Data.Rational.Base.html#4874" class="Function Operator">_+_</a> <a id="4878" class="Symbol">:</a> <a id="4880" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="4882" class="Symbol">→</a> <a id="4884" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="4886" class="Symbol">→</a> <a id="4888" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="4890" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4894" href="Data.Rational.Base.html#4894" class="Bound">n₁</a> <a id="4897" href="Data.Rational.Base.html#4897" class="Bound">d₁</a> <a id="4900" href="Data.Rational.Base.html#4900" class="Bound">prf₁</a> <a id="4905" href="Data.Rational.Base.html#4874" class="Function Operator">+</a> <a id="4907" href="Data.Rational.Base.html#1247" class="InductiveConstructor">mkℚ</a> <a id="4911" href="Data.Rational.Base.html#4911" class="Bound">n₂</a> <a id="4914" href="Data.Rational.Base.html#4914" class="Bound">d₂</a> <a id="4917" href="Data.Rational.Base.html#4917" class="Bound">prf₂</a> <a id="4922" class="Symbol">=</a> <a id="4924" href="Data.Rational.Base.html#3534" class="Function">norm-mkℚ</a>
  <a id="4935" class="Symbol">(</a><a id="4936" href="Data.Rational.Base.html#4894" class="Bound">n₁</a> <a id="4939" href="Data.Integer.Base.html#2389" class="Function Operator">ℤ.*</a> <a id="4943" class="Symbol">(</a><a id="4944" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+</a> <a id="4949" href="Data.Rational.Base.html#4914" class="Bound">d₂</a> <a id="4952" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">]</a><a id="4953" class="Symbol">)</a> <a id="4955" href="Data.Integer.Base.html#2057" class="Function Operator">ℤ.+</a> <a id="4959" href="Data.Rational.Base.html#4911" class="Bound">n₂</a> <a id="4962" href="Data.Integer.Base.html#2389" class="Function Operator">ℤ.*</a> <a id="4966" class="Symbol">(</a><a id="4967" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">+[1+</a> <a id="4972" href="Data.Rational.Base.html#4914" class="Bound">d₂</a> <a id="4975" href="Data.Rational.Base.html#3514" class="InductiveConstructor Operator">]</a><a id="4976" class="Symbol">))</a>
  <a id="4981" class="Symbol">(</a><a id="4982" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4986" href="Data.Rational.Base.html#4897" class="Bound">d₁</a> <a id="4989" href="Agda.Builtin.Nat.html#433" class="Primitive Operator">ℕ.*</a> <a id="4993" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="4997" href="Data.Rational.Base.html#4914" class="Bound">d₂</a><a id="4999" class="Symbol">)</a>

<a id="5002" class="Comment">-- subtraction</a>

<a id="_-_"></a><a id="5018" href="Data.Rational.Base.html#5018" class="Function Operator">_-_</a> <a id="5022" class="Symbol">:</a> <a id="5024" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="5026" class="Symbol">→</a> <a id="5028" href="Data.Rational.Base.html#1219" class="Record">ℚ</a> <a id="5030" class="Symbol">→</a> <a id="5032" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="5034" href="Data.Rational.Base.html#5034" class="Bound">p</a> <a id="5036" href="Data.Rational.Base.html#5018" class="Function Operator">-</a> <a id="5038" href="Data.Rational.Base.html#5038" class="Bound">q</a> <a id="5040" class="Symbol">=</a> <a id="5042" href="Data.Rational.Base.html#5034" class="Bound">p</a> <a id="5044" href="Data.Rational.Base.html#4874" class="Function Operator">+</a> <a id="5046" class="Symbol">(</a><a id="5047" href="Data.Rational.Base.html#4167" class="Function Operator">-</a> <a id="5049" href="Data.Rational.Base.html#5038" class="Bound">q</a><a id="5050" class="Symbol">)</a>

<a id="5053" class="Comment">-- division</a>

<a id="_/_"></a><a id="5066" href="Data.Rational.Base.html#5066" class="Function Operator">_/_</a> <a id="5070" class="Symbol">:</a> <a id="5072" class="Symbol">(</a><a id="5073" href="Data.Rational.Base.html#5073" class="Bound">p</a> <a id="5075" href="Data.Rational.Base.html#5075" class="Bound">q</a> <a id="5077" class="Symbol">:</a> <a id="5079" href="Data.Rational.Base.html#1219" class="Record">ℚ</a><a id="5080" class="Symbol">)</a> <a id="5082" class="Symbol">→</a> <a id="5084" class="Symbol">{</a><a id="5085" href="Data.Rational.Base.html#5085" class="Bound">n≢0</a> <a id="5089" class="Symbol">:</a> <a id="5091" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="5093" href="Data.Rational.Base.html#1263" class="Field Operator">↥</a> <a id="5095" href="Data.Rational.Base.html#5075" class="Bound">q</a> <a id="5097" href="Data.Integer.Base.html#1075" class="Function Operator">∣</a> <a id="5099" href="Data.Rational.Base.html#2195" class="Function Operator">≢0</a><a id="5101" class="Symbol">}</a> <a id="5103" class="Symbol">→</a> <a id="5105" href="Data.Rational.Base.html#1219" class="Record">ℚ</a>
<a id="5107" class="Symbol">(</a><a id="5108" href="Data.Rational.Base.html#5108" class="Bound">p</a> <a id="5110" href="Data.Rational.Base.html#5066" class="Function Operator">/</a> <a id="5112" href="Data.Rational.Base.html#5112" class="Bound">q</a><a id="5113" class="Symbol">)</a> <a id="5115" class="Symbol">{</a><a id="5116" href="Data.Rational.Base.html#5116" class="Bound">n≢0</a><a id="5119" class="Symbol">}</a> <a id="5121" class="Symbol">=</a> <a id="5123" href="Data.Rational.Base.html#5108" class="Bound">p</a> <a id="5125" href="Data.Rational.Base.html#4554" class="Function Operator">*</a> <a id="5127" class="Symbol">(</a><a id="5128" href="Data.Rational.Base.html#4369" class="Function Operator">1/_</a> <a id="5132" href="Data.Rational.Base.html#5112" class="Bound">q</a> <a id="5134" class="Symbol">{</a><a id="5135" href="Data.Rational.Base.html#5116" class="Bound">n≢0</a><a id="5138" class="Symbol">})</a>
</pre></body></html>