<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Rational.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Rational numbers</a>
<a id="126" class="Comment">------------------------------------------------------------------------</a>

<a id="200" class="Symbol">{-#</a> <a id="204" class="Keyword">OPTIONS</a> <a id="212" class="Pragma">--without-K</a> <a id="224" class="Pragma">--safe</a> <a id="231" class="Symbol">#-}</a>

<a id="236" class="Keyword">module</a> <a id="243" href="Data.Rational.Base.html" class="Module">Data.Rational.Base</a> <a id="262" class="Keyword">where</a>

<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Function.html" class="Module">Function</a> <a id="290" class="Keyword">using</a> <a id="296" class="Symbol">(</a><a id="297" href="Function.Base.html#615" class="Function">id</a><a id="299" class="Symbol">)</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Data.Integer.Base.html" class="Module">Data.Integer.Base</a> <a id="331" class="Symbol">as</a> <a id="334" class="Module">ℤ</a> <a id="336" class="Keyword">using</a> <a id="342" class="Symbol">(</a><a id="343" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="344" class="Symbol">;</a> <a id="346" href="Data.Integer.Base.html#1676" class="Function Operator">∣_∣</a><a id="349" class="Symbol">;</a> <a id="351" href="Agda.Builtin.Int.html#264" class="InductiveConstructor">+_</a><a id="353" class="Symbol">;</a> <a id="355" href="Data.Integer.Base.html#1372" class="InductiveConstructor">+0</a><a id="357" class="Symbol">;</a> <a id="359" href="Agda.Builtin.Int.html#291" class="InductiveConstructor">-[1+_]</a><a id="365" class="Symbol">)</a>
<a id="367" class="Keyword">import</a> <a id="374" href="Data.Integer.GCD.html" class="Module">Data.Integer.GCD</a> <a id="391" class="Symbol">as</a> <a id="394" class="Module">ℤ</a>
<a id="396" class="Keyword">import</a> <a id="403" href="Data.Integer.DivMod.html" class="Module">Data.Integer.DivMod</a> <a id="423" class="Symbol">as</a> <a id="426" class="Module">ℤ</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Data.Nat.GCD.html" class="Module">Data.Nat.GCD</a>
<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a> <a id="487" class="Symbol">as</a> <a id="490" class="Module">ℕDiv</a> <a id="495" class="Keyword">using</a> <a id="501" class="Symbol">(</a><a id="502" href="Data.Nat.Divisibility.Core.html#1150" class="InductiveConstructor">divides</a><a id="509" class="Symbol">;</a> <a id="511" href="Data.Nat.Divisibility.html#3910" class="Function">0∣⇒≡0</a><a id="516" class="Symbol">)</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Data.Nat.Coprimality.html" class="Module">Data.Nat.Coprimality</a> <a id="551" class="Symbol">as</a> <a id="554" class="Module">C</a>
  <a id="558" class="Keyword">using</a> <a id="564" class="Symbol">(</a><a id="565" href="Data.Nat.Coprimality.html#1254" class="Function">Coprime</a><a id="572" class="Symbol">;</a> <a id="574" href="Data.Nat.Coprimality.html#3526" class="Function">Bézout-coprime</a><a id="588" class="Symbol">;</a> <a id="590" href="Data.Nat.Coprimality.html#1944" class="Function">coprime-/gcd</a><a id="602" class="Symbol">;</a> <a id="604" href="Data.Nat.Coprimality.html#2339" class="Function">coprime?</a><a id="612" class="Symbol">;</a> <a id="614" href="Data.Nat.Coprimality.html#2911" class="Function">¬0-coprimeTo-2+</a><a id="629" class="Symbol">)</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="657" class="Symbol">as</a> <a id="660" class="Module">ℕ</a> <a id="662" class="Keyword">using</a> <a id="668" class="Symbol">(</a><a id="669" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="670" class="Symbol">;</a> <a id="672" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="676" class="Symbol">;</a> <a id="678" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="681" class="Symbol">)</a> <a id="683" class="Keyword">hiding</a> <a id="690" class="Symbol">(</a><a id="691" class="Keyword">module</a> <a id="698" href="Agda.Builtin.Nat.html#192" class="Module">ℕ</a><a id="699" class="Symbol">)</a>
<a id="701" class="Keyword">import</a> <a id="708" href="Data.Nat.DivMod.html" class="Module">Data.Nat.DivMod</a> <a id="724" class="Symbol">as</a> <a id="727" class="Module">ℕ</a>
<a id="729" class="Keyword">open</a> <a id="734" class="Keyword">import</a> <a id="741" href="Data.Rational.Unnormalised.html" class="Module">Data.Rational.Unnormalised</a> <a id="768" class="Symbol">as</a> <a id="771" class="Module">ℚᵘ</a> <a id="774" class="Keyword">using</a> <a id="780" class="Symbol">(</a><a id="781" href="Data.Rational.Unnormalised.html#1254" class="Record">ℚᵘ</a><a id="783" class="Symbol">;</a> <a id="785" href="Data.Rational.Unnormalised.html#1283" class="InductiveConstructor">mkℚᵘ</a><a id="789" class="Symbol">;</a> <a id="791" href="Data.Rational.Unnormalised.html#2453" class="Function Operator">_≢0</a><a id="794" class="Symbol">)</a>
<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="Data.Product.html" class="Module">Data.Product</a>
<a id="821" class="Keyword">open</a> <a id="826" class="Keyword">import</a> <a id="833" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="847" class="Keyword">using</a> <a id="853" class="Symbol">(</a><a id="854" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a><a id="858" class="Symbol">)</a>
<a id="860" class="Keyword">open</a> <a id="865" class="Keyword">import</a> <a id="872" href="Level.html" class="Module">Level</a> <a id="878" class="Keyword">using</a> <a id="884" class="Symbol">(</a><a id="885" href="Level.html#512" class="Function">0ℓ</a><a id="887" class="Symbol">)</a>
<a id="889" class="Keyword">open</a> <a id="894" class="Keyword">import</a> <a id="901" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="918" class="Keyword">using</a> <a id="924" class="Symbol">(</a><a id="925" href="Relation.Nullary.html#653" class="Function Operator">¬_</a><a id="927" class="Symbol">;</a> <a id="929" href="Relation.Nullary.html#1835" class="Function">recompute</a><a id="938" class="Symbol">)</a>
<a id="940" class="Keyword">open</a> <a id="945" class="Keyword">import</a> <a id="952" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
  <a id="981" class="Keyword">using</a> <a id="987" class="Symbol">(</a><a id="988" href="Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a><a id="993" class="Symbol">;</a> <a id="995" href="Relation.Nullary.Decidable.Core.html#1653" class="Function">fromWitness</a><a id="1006" class="Symbol">;</a> <a id="1008" href="Relation.Nullary.Decidable.Core.html#1961" class="Function">fromWitnessFalse</a><a id="1024" class="Symbol">;</a> <a id="1026" href="Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a><a id="1040" class="Symbol">)</a>
<a id="1042" class="Keyword">open</a> <a id="1047" class="Keyword">import</a> <a id="1054" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="1080" class="Keyword">using</a> <a id="1086" class="Symbol">(</a><a id="1087" href="Relation.Nullary.Negation.html#858" class="Function">contradiction</a><a id="1100" class="Symbol">)</a>
<a id="1102" class="Keyword">open</a> <a id="1107" class="Keyword">import</a> <a id="1114" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1129" class="Keyword">using</a> <a id="1135" class="Symbol">(</a><a id="1136" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="1140" class="Symbol">)</a>
<a id="1142" class="Keyword">open</a> <a id="1147" class="Keyword">import</a> <a id="1154" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1170" class="Keyword">using</a> <a id="1176" class="Symbol">(</a><a id="1177" href="Relation.Binary.Core.html#845" class="Function">Rel</a><a id="1180" class="Symbol">)</a>
<a id="1182" class="Keyword">open</a> <a id="1187" class="Keyword">import</a> <a id="1194" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="1234" class="Keyword">using</a> <a id="1240" class="Symbol">(</a><a id="1241" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1244" class="Symbol">;</a> <a id="1246" href="Relation.Binary.PropositionalEquality.Core.html#840" class="Function Operator">_≢_</a><a id="1249" class="Symbol">;</a> <a id="1251" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1255" class="Symbol">;</a> <a id="1257" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">subst</a><a id="1262" class="Symbol">;</a> <a id="1264" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a><a id="1268" class="Symbol">;</a> <a id="1270" href="Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a><a id="1275" class="Symbol">;</a> <a id="1277" class="Keyword">module</a> <a id="1284" href="Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">≡-Reasoning</a><a id="1295" class="Symbol">)</a>

<a id="1298" class="Keyword">open</a> <a id="1303" href="Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">≡-Reasoning</a>

<a id="1316" class="Comment">-- Note, these are re-exported publicly to maintain backwards</a>
<a id="1378" class="Comment">-- compatability. Although we are unable (?) to put a warning on them,</a>
<a id="1449" class="Comment">-- using these from `Data.Rational` should be viewed as a deprecated</a>
<a id="1518" class="Comment">-- feature.</a>

<a id="1531" class="Keyword">open</a> <a id="1536" class="Keyword">import</a> <a id="1543" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="1556" class="Keyword">public</a> <a id="1563" class="Keyword">using</a> <a id="1569" class="Symbol">(</a><a id="1570" href="Data.Integer.Base.html#1372" class="InductiveConstructor">+0</a><a id="1572" class="Symbol">;</a> <a id="1574" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">+[1+_]</a><a id="1580" class="Symbol">)</a>

<a id="1583" class="Comment">------------------------------------------------------------------------</a>
<a id="1656" class="Comment">-- Rational numbers in reduced form. Note that there is exactly one</a>
<a id="1724" class="Comment">-- way to represent every rational number.</a>

<a id="1768" class="Keyword">record</a> <a id="ℚ"></a><a id="1775" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="1777" class="Symbol">:</a> <a id="1779" class="PrimitiveType">Set</a> <a id="1783" class="Keyword">where</a>
  <a id="1791" class="Keyword">constructor</a> <a id="mkℚ"></a><a id="1803" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a>
  <a id="1809" class="Keyword">field</a>
    <a id="ℚ.numerator"></a><a id="1819" href="Data.Rational.Base.html#1819" class="Field">numerator</a>     <a id="1833" class="Symbol">:</a> <a id="1835" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
    <a id="ℚ.denominator-1"></a><a id="1841" href="Data.Rational.Base.html#1841" class="Field">denominator-1</a> <a id="1855" class="Symbol">:</a> <a id="1857" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1863" class="Symbol">.</a><a id="ℚ.isCoprime"></a><a id="1864" href="Data.Rational.Base.html#1864" class="Field">isCoprime</a>    <a id="1877" class="Symbol">:</a> <a id="1879" href="Data.Nat.Coprimality.html#1254" class="Function">Coprime</a> <a id="1887" href="Data.Integer.Base.html#1676" class="Function Operator">∣</a> <a id="1889" href="Data.Rational.Base.html#1819" class="Field">numerator</a> <a id="1899" href="Data.Integer.Base.html#1676" class="Function Operator">∣</a> <a id="1901" class="Symbol">(</a><a id="1902" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1906" href="Data.Rational.Base.html#1841" class="Field">denominator-1</a><a id="1919" class="Symbol">)</a>

  <a id="ℚ.denominatorℕ"></a><a id="1924" href="Data.Rational.Base.html#1924" class="Function">denominatorℕ</a> <a id="1937" class="Symbol">:</a> <a id="1939" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="1943" href="Data.Rational.Base.html#1924" class="Function">denominatorℕ</a> <a id="1956" class="Symbol">=</a> <a id="1958" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1962" href="Data.Rational.Base.html#1841" class="Field">denominator-1</a>

  <a id="ℚ.denominator"></a><a id="1979" href="Data.Rational.Base.html#1979" class="Function">denominator</a> <a id="1991" class="Symbol">:</a> <a id="1993" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
  <a id="1997" href="Data.Rational.Base.html#1979" class="Function">denominator</a> <a id="2009" class="Symbol">=</a> <a id="2011" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2013" href="Data.Rational.Base.html#1924" class="Function">denominatorℕ</a>

<a id="2027" class="Keyword">open</a> <a id="2032" href="Data.Rational.Base.html#1775" class="Module">ℚ</a> <a id="2034" class="Keyword">public</a> <a id="2041" class="Keyword">using</a> <a id="2047" class="Symbol">()</a>
  <a id="2052" class="Keyword">renaming</a>
  <a id="2063" class="Symbol">(</a> <a id="2065" href="Data.Rational.Base.html#1819" class="Field">numerator</a>    <a id="2078" class="Symbol">to</a> <a id="ℚ.numerator"></a><a id="2081" href="Data.Rational.Base.html#2081" class="Field">↥_</a>
  <a id="2086" class="Symbol">;</a> <a id="2088" href="Data.Rational.Base.html#1979" class="Function">denominator</a>  <a id="2101" class="Symbol">to</a> <a id="ℚ.denominator"></a><a id="2104" href="Data.Rational.Base.html#2104" class="Function">↧_</a>
  <a id="2109" class="Symbol">;</a> <a id="2111" href="Data.Rational.Base.html#1924" class="Function">denominatorℕ</a> <a id="2124" class="Symbol">to</a> <a id="ℚ.denominatorℕ"></a><a id="2127" href="Data.Rational.Base.html#2127" class="Function">↧ₙ_</a>
  <a id="2133" class="Symbol">)</a>

<a id="mkℚ+"></a><a id="2136" href="Data.Rational.Base.html#2136" class="Function">mkℚ+</a> <a id="2141" class="Symbol">:</a> <a id="2143" class="Symbol">∀</a> <a id="2145" href="Data.Rational.Base.html#2145" class="Bound">n</a> <a id="2147" href="Data.Rational.Base.html#2147" class="Bound">d</a> <a id="2149" class="Symbol">→</a> <a id="2151" class="Symbol">.{</a><a id="2153" href="Data.Rational.Base.html#2153" class="Bound">d≢0</a> <a id="2157" class="Symbol">:</a> <a id="2159" href="Data.Rational.Base.html#2147" class="Bound">d</a> <a id="2161" href="Data.Rational.Unnormalised.html#2453" class="Function Operator">≢0</a><a id="2163" class="Symbol">}</a> <a id="2165" class="Symbol">→</a> <a id="2167" class="Symbol">.(</a><a id="2169" href="Data.Nat.Coprimality.html#1254" class="Function">Coprime</a> <a id="2177" href="Data.Rational.Base.html#2145" class="Bound">n</a> <a id="2179" href="Data.Rational.Base.html#2147" class="Bound">d</a><a id="2180" class="Symbol">)</a> <a id="2182" class="Symbol">→</a> <a id="2184" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="2186" href="Data.Rational.Base.html#2136" class="Function">mkℚ+</a> <a id="2191" href="Data.Rational.Base.html#2191" class="Bound">n</a> <a id="2193" class="Symbol">(</a><a id="2194" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2198" href="Data.Rational.Base.html#2198" class="Bound">d</a><a id="2199" class="Symbol">)</a> <a id="2201" href="Data.Rational.Base.html#2201" class="Bound">coprime</a> <a id="2209" class="Symbol">=</a> <a id="2211" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="2215" class="Symbol">(</a><a id="2216" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="2218" href="Data.Rational.Base.html#2191" class="Bound">n</a><a id="2219" class="Symbol">)</a> <a id="2221" href="Data.Rational.Base.html#2198" class="Bound">d</a> <a id="2223" href="Data.Rational.Base.html#2201" class="Bound">coprime</a>

<a id="2232" class="Comment">------------------------------------------------------------------------</a>
<a id="2305" class="Comment">-- Equality of rational numbers (coincides with _≡_)</a>

<a id="2359" class="Keyword">infix</a> <a id="2365" class="Number">4</a> <a id="2367" href="Data.Rational.Base.html#2372" class="Function Operator">_≃_</a>

<a id="_≃_"></a><a id="2372" href="Data.Rational.Base.html#2372" class="Function Operator">_≃_</a> <a id="2376" class="Symbol">:</a> <a id="2378" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2382" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2384" href="Level.html#512" class="Function">0ℓ</a>
<a id="2387" href="Data.Rational.Base.html#2387" class="Bound">p</a> <a id="2389" href="Data.Rational.Base.html#2372" class="Function Operator">≃</a> <a id="2391" href="Data.Rational.Base.html#2391" class="Bound">q</a> <a id="2393" class="Symbol">=</a> <a id="2395" class="Symbol">(</a><a id="2396" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="2398" href="Data.Rational.Base.html#2387" class="Bound">p</a> <a id="2400" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="2404" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="2406" href="Data.Rational.Base.html#2391" class="Bound">q</a><a id="2407" class="Symbol">)</a> <a id="2409" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2411" class="Symbol">(</a><a id="2412" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="2414" href="Data.Rational.Base.html#2391" class="Bound">q</a> <a id="2416" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="2420" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="2422" href="Data.Rational.Base.html#2387" class="Bound">p</a><a id="2423" class="Symbol">)</a>

<a id="2426" class="Comment">------------------------------------------------------------------------</a>
<a id="2499" class="Comment">-- Ordering of rationals</a>

<a id="2525" class="Keyword">infix</a> <a id="2531" class="Number">4</a> <a id="2533" href="Data.Rational.Base.html#2571" class="Datatype Operator">_≤_</a> <a id="2537" href="Data.Rational.Base.html#2656" class="Datatype Operator">_&lt;_</a> <a id="2541" href="Data.Rational.Base.html#2736" class="Function Operator">_≥_</a> <a id="2545" href="Data.Rational.Base.html#2766" class="Function Operator">_&gt;_</a> <a id="2549" href="Data.Rational.Base.html#2796" class="Function Operator">_≰_</a> <a id="2553" href="Data.Rational.Base.html#2830" class="Function Operator">_≱_</a> <a id="2557" href="Data.Rational.Base.html#2864" class="Function Operator">_≮_</a> <a id="2561" href="Data.Rational.Base.html#2898" class="Function Operator">_≯_</a>

<a id="2566" class="Keyword">data</a> <a id="_≤_"></a><a id="2571" href="Data.Rational.Base.html#2571" class="Datatype Operator">_≤_</a> <a id="2575" class="Symbol">:</a> <a id="2577" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2581" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2583" href="Level.html#512" class="Function">0ℓ</a> <a id="2586" class="Keyword">where</a>
  <a id="_≤_.*≤*"></a><a id="2594" href="Data.Rational.Base.html#2594" class="InductiveConstructor">*≤*</a> <a id="2598" class="Symbol">:</a> <a id="2600" class="Symbol">∀</a> <a id="2602" class="Symbol">{</a><a id="2603" href="Data.Rational.Base.html#2603" class="Bound">p</a> <a id="2605" href="Data.Rational.Base.html#2605" class="Bound">q</a><a id="2606" class="Symbol">}</a> <a id="2608" class="Symbol">→</a> <a id="2610" class="Symbol">(</a><a id="2611" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="2613" href="Data.Rational.Base.html#2603" class="Bound">p</a> <a id="2615" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="2619" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="2621" href="Data.Rational.Base.html#2605" class="Bound">q</a><a id="2622" class="Symbol">)</a> <a id="2624" href="Data.Integer.Base.html#1952" class="Datatype Operator">ℤ.≤</a> <a id="2628" class="Symbol">(</a><a id="2629" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="2631" href="Data.Rational.Base.html#2605" class="Bound">q</a> <a id="2633" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="2637" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="2639" href="Data.Rational.Base.html#2603" class="Bound">p</a><a id="2640" class="Symbol">)</a> <a id="2642" class="Symbol">→</a> <a id="2644" href="Data.Rational.Base.html#2603" class="Bound">p</a> <a id="2646" href="Data.Rational.Base.html#2571" class="Datatype Operator">≤</a> <a id="2648" href="Data.Rational.Base.html#2605" class="Bound">q</a>

<a id="2651" class="Keyword">data</a> <a id="_&lt;_"></a><a id="2656" href="Data.Rational.Base.html#2656" class="Datatype Operator">_&lt;_</a> <a id="2660" class="Symbol">:</a> <a id="2662" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2666" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2668" href="Level.html#512" class="Function">0ℓ</a> <a id="2671" class="Keyword">where</a>
  <a id="_&lt;_.*&lt;*"></a><a id="2679" href="Data.Rational.Base.html#2679" class="InductiveConstructor">*&lt;*</a> <a id="2683" class="Symbol">:</a> <a id="2685" class="Symbol">∀</a> <a id="2687" class="Symbol">{</a><a id="2688" href="Data.Rational.Base.html#2688" class="Bound">p</a> <a id="2690" href="Data.Rational.Base.html#2690" class="Bound">q</a><a id="2691" class="Symbol">}</a> <a id="2693" class="Symbol">→</a> <a id="2695" class="Symbol">(</a><a id="2696" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="2698" href="Data.Rational.Base.html#2688" class="Bound">p</a> <a id="2700" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="2704" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="2706" href="Data.Rational.Base.html#2690" class="Bound">q</a><a id="2707" class="Symbol">)</a> <a id="2709" href="Data.Integer.Base.html#2117" class="Datatype Operator">ℤ.&lt;</a> <a id="2713" class="Symbol">(</a><a id="2714" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="2716" href="Data.Rational.Base.html#2690" class="Bound">q</a> <a id="2718" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="2722" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="2724" href="Data.Rational.Base.html#2688" class="Bound">p</a><a id="2725" class="Symbol">)</a> <a id="2727" class="Symbol">→</a> <a id="2729" href="Data.Rational.Base.html#2688" class="Bound">p</a> <a id="2731" href="Data.Rational.Base.html#2656" class="Datatype Operator">&lt;</a> <a id="2733" href="Data.Rational.Base.html#2690" class="Bound">q</a>

<a id="_≥_"></a><a id="2736" href="Data.Rational.Base.html#2736" class="Function Operator">_≥_</a> <a id="2740" class="Symbol">:</a> <a id="2742" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2746" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2748" href="Level.html#512" class="Function">0ℓ</a>
<a id="2751" href="Data.Rational.Base.html#2751" class="Bound">x</a> <a id="2753" href="Data.Rational.Base.html#2736" class="Function Operator">≥</a> <a id="2755" href="Data.Rational.Base.html#2755" class="Bound">y</a> <a id="2757" class="Symbol">=</a> <a id="2759" href="Data.Rational.Base.html#2755" class="Bound">y</a> <a id="2761" href="Data.Rational.Base.html#2571" class="Datatype Operator">≤</a> <a id="2763" href="Data.Rational.Base.html#2751" class="Bound">x</a>

<a id="_&gt;_"></a><a id="2766" href="Data.Rational.Base.html#2766" class="Function Operator">_&gt;_</a> <a id="2770" class="Symbol">:</a> <a id="2772" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2776" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2778" href="Level.html#512" class="Function">0ℓ</a>
<a id="2781" href="Data.Rational.Base.html#2781" class="Bound">x</a> <a id="2783" href="Data.Rational.Base.html#2766" class="Function Operator">&gt;</a> <a id="2785" href="Data.Rational.Base.html#2785" class="Bound">y</a> <a id="2787" class="Symbol">=</a> <a id="2789" href="Data.Rational.Base.html#2785" class="Bound">y</a> <a id="2791" href="Data.Rational.Base.html#2656" class="Datatype Operator">&lt;</a> <a id="2793" href="Data.Rational.Base.html#2781" class="Bound">x</a>

<a id="_≰_"></a><a id="2796" href="Data.Rational.Base.html#2796" class="Function Operator">_≰_</a> <a id="2800" class="Symbol">:</a> <a id="2802" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2806" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2808" href="Level.html#512" class="Function">0ℓ</a>
<a id="2811" href="Data.Rational.Base.html#2811" class="Bound">x</a> <a id="2813" href="Data.Rational.Base.html#2796" class="Function Operator">≰</a> <a id="2815" href="Data.Rational.Base.html#2815" class="Bound">y</a> <a id="2817" class="Symbol">=</a> <a id="2819" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2821" class="Symbol">(</a><a id="2822" href="Data.Rational.Base.html#2811" class="Bound">x</a> <a id="2824" href="Data.Rational.Base.html#2571" class="Datatype Operator">≤</a> <a id="2826" href="Data.Rational.Base.html#2815" class="Bound">y</a><a id="2827" class="Symbol">)</a>

<a id="_≱_"></a><a id="2830" href="Data.Rational.Base.html#2830" class="Function Operator">_≱_</a> <a id="2834" class="Symbol">:</a> <a id="2836" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2840" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2842" href="Level.html#512" class="Function">0ℓ</a>
<a id="2845" href="Data.Rational.Base.html#2845" class="Bound">x</a> <a id="2847" href="Data.Rational.Base.html#2830" class="Function Operator">≱</a> <a id="2849" href="Data.Rational.Base.html#2849" class="Bound">y</a> <a id="2851" class="Symbol">=</a> <a id="2853" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2855" class="Symbol">(</a><a id="2856" href="Data.Rational.Base.html#2845" class="Bound">x</a> <a id="2858" href="Data.Rational.Base.html#2736" class="Function Operator">≥</a> <a id="2860" href="Data.Rational.Base.html#2849" class="Bound">y</a><a id="2861" class="Symbol">)</a>

<a id="_≮_"></a><a id="2864" href="Data.Rational.Base.html#2864" class="Function Operator">_≮_</a> <a id="2868" class="Symbol">:</a> <a id="2870" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2874" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2876" href="Level.html#512" class="Function">0ℓ</a>
<a id="2879" href="Data.Rational.Base.html#2879" class="Bound">x</a> <a id="2881" href="Data.Rational.Base.html#2864" class="Function Operator">≮</a> <a id="2883" href="Data.Rational.Base.html#2883" class="Bound">y</a> <a id="2885" class="Symbol">=</a> <a id="2887" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2889" class="Symbol">(</a><a id="2890" href="Data.Rational.Base.html#2879" class="Bound">x</a> <a id="2892" href="Data.Rational.Base.html#2656" class="Datatype Operator">&lt;</a> <a id="2894" href="Data.Rational.Base.html#2883" class="Bound">y</a><a id="2895" class="Symbol">)</a>

<a id="_≯_"></a><a id="2898" href="Data.Rational.Base.html#2898" class="Function Operator">_≯_</a> <a id="2902" class="Symbol">:</a> <a id="2904" href="Relation.Binary.Core.html#845" class="Function">Rel</a> <a id="2908" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="2910" href="Level.html#512" class="Function">0ℓ</a>
<a id="2913" href="Data.Rational.Base.html#2913" class="Bound">x</a> <a id="2915" href="Data.Rational.Base.html#2898" class="Function Operator">≯</a> <a id="2917" href="Data.Rational.Base.html#2917" class="Bound">y</a> <a id="2919" class="Symbol">=</a> <a id="2921" href="Relation.Nullary.html#653" class="Function Operator">¬</a> <a id="2923" class="Symbol">(</a><a id="2924" href="Data.Rational.Base.html#2913" class="Bound">x</a> <a id="2926" href="Data.Rational.Base.html#2766" class="Function Operator">&gt;</a> <a id="2928" href="Data.Rational.Base.html#2917" class="Bound">y</a><a id="2929" class="Symbol">)</a>

<a id="2932" class="Comment">------------------------------------------------------------------------</a>
<a id="3005" class="Comment">-- Negation</a>

<a id="-_"></a><a id="3018" href="Data.Rational.Base.html#3018" class="Function Operator">-_</a> <a id="3021" class="Symbol">:</a> <a id="3023" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="3025" class="Symbol">→</a> <a id="3027" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="3029" href="Data.Rational.Base.html#3018" class="Function Operator">-</a> <a id="3031" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="3035" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="3040" href="Data.Rational.Base.html#3040" class="Bound">n</a> <a id="3042" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="3044" href="Data.Rational.Base.html#3044" class="Bound">d</a> <a id="3046" href="Data.Rational.Base.html#3046" class="Bound">prf</a> <a id="3050" class="Symbol">=</a> <a id="3052" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="3056" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">+[1+</a> <a id="3061" href="Data.Rational.Base.html#3040" class="Bound">n</a> <a id="3063" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">]</a> <a id="3065" href="Data.Rational.Base.html#3044" class="Bound">d</a> <a id="3067" href="Data.Rational.Base.html#3046" class="Bound">prf</a>
<a id="3071" href="Data.Rational.Base.html#3018" class="Function Operator">-</a> <a id="3073" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="3077" href="Data.Integer.Base.html#1372" class="InductiveConstructor">+0</a>       <a id="3086" href="Data.Rational.Base.html#3086" class="Bound">d</a> <a id="3088" href="Data.Rational.Base.html#3088" class="Bound">prf</a> <a id="3092" class="Symbol">=</a> <a id="3094" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="3098" href="Data.Integer.Base.html#1372" class="InductiveConstructor">+0</a>       <a id="3107" href="Data.Rational.Base.html#3086" class="Bound">d</a> <a id="3109" href="Data.Rational.Base.html#3088" class="Bound">prf</a>
<a id="3113" href="Data.Rational.Base.html#3018" class="Function Operator">-</a> <a id="3115" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="3119" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">+[1+</a> <a id="3124" href="Data.Rational.Base.html#3124" class="Bound">n</a> <a id="3126" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">]</a> <a id="3128" href="Data.Rational.Base.html#3128" class="Bound">d</a> <a id="3130" href="Data.Rational.Base.html#3130" class="Bound">prf</a> <a id="3134" class="Symbol">=</a> <a id="3136" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="3140" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="3145" href="Data.Rational.Base.html#3124" class="Bound">n</a> <a id="3147" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="3149" href="Data.Rational.Base.html#3128" class="Bound">d</a> <a id="3151" href="Data.Rational.Base.html#3130" class="Bound">prf</a>

<a id="3156" class="Comment">------------------------------------------------------------------------</a>
<a id="3229" class="Comment">-- Constructing rationals</a>

<a id="3256" class="Comment">-- A constructor for ℚ that takes two natural numbers, say 6 and 21,</a>
<a id="3325" class="Comment">-- and returns them in a normalized form, e.g. say 2 and 7</a>

<a id="normalize"></a><a id="3385" href="Data.Rational.Base.html#3385" class="Function">normalize</a> <a id="3395" class="Symbol">:</a> <a id="3397" class="Symbol">∀</a> <a id="3399" class="Symbol">(</a><a id="3400" href="Data.Rational.Base.html#3400" class="Bound">m</a> <a id="3402" href="Data.Rational.Base.html#3402" class="Bound">n</a> <a id="3404" class="Symbol">:</a> <a id="3406" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3407" class="Symbol">)</a> <a id="3409" class="Symbol">{</a><a id="3410" href="Data.Rational.Base.html#3410" class="Bound">n≢0</a> <a id="3414" class="Symbol">:</a> <a id="3416" href="Data.Rational.Base.html#3402" class="Bound">n</a> <a id="3418" href="Data.Rational.Unnormalised.html#2453" class="Function Operator">≢0</a><a id="3420" class="Symbol">}</a> <a id="3422" class="Symbol">→</a> <a id="3424" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="3426" href="Data.Rational.Base.html#3385" class="Function">normalize</a> <a id="3436" href="Data.Rational.Base.html#3436" class="Bound">m</a> <a id="3438" href="Data.Rational.Base.html#3438" class="Bound">n</a> <a id="3440" class="Symbol">{</a><a id="3441" href="Data.Rational.Base.html#3441" class="Bound">n≢0</a><a id="3444" class="Symbol">}</a> <a id="3446" class="Symbol">=</a> <a id="3448" href="Data.Rational.Base.html#2136" class="Function">mkℚ+</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Data.Rational.Base.html#3436" class="Bound">m</a> <a id="3456" href="Data.Nat.DivMod.html#1308" class="Function Operator">ℕ./</a> <a id="3460" href="Data.Nat.GCD.html#1559" class="Function">gcd</a> <a id="3464" href="Data.Rational.Base.html#3436" class="Bound">m</a> <a id="3466" href="Data.Rational.Base.html#3438" class="Bound">n</a><a id="3467" class="Symbol">)</a> <a id="3469" class="Symbol">(</a><a id="3470" href="Data.Rational.Base.html#3438" class="Bound">n</a> <a id="3472" href="Data.Nat.DivMod.html#1308" class="Function Operator">ℕ./</a> <a id="3476" href="Data.Nat.GCD.html#1559" class="Function">gcd</a> <a id="3480" href="Data.Rational.Base.html#3436" class="Bound">m</a> <a id="3482" href="Data.Rational.Base.html#3438" class="Bound">n</a><a id="3483" class="Symbol">)</a>
  <a id="3487" class="Symbol">{</a><a id="3488" href="Data.Rational.Base.html#3602" class="Function">n/g≢0</a><a id="3493" class="Symbol">}</a> <a id="3495" class="Symbol">(</a><a id="3496" href="Data.Nat.Coprimality.html#1944" class="Function">coprime-/gcd</a> <a id="3509" href="Data.Rational.Base.html#3436" class="Bound">m</a> <a id="3511" href="Data.Rational.Base.html#3438" class="Bound">n</a> <a id="3513" class="Symbol">{</a><a id="3514" href="Data.Rational.Base.html#3530" class="Function">g≢0</a><a id="3517" class="Symbol">})</a>
  <a id="3522" class="Keyword">where</a>
  <a id="3530" href="Data.Rational.Base.html#3530" class="Function">g≢0</a>   <a id="3536" class="Symbol">=</a> <a id="3538" href="Relation.Nullary.Decidable.Core.html#1961" class="Function">fromWitnessFalse</a> <a id="3555" class="Symbol">(</a><a id="3556" href="Data.Nat.GCD.html#3363" class="Function">gcd[m,n]≢0</a> <a id="3567" href="Data.Rational.Base.html#3436" class="Bound">m</a> <a id="3569" href="Data.Rational.Base.html#3438" class="Bound">n</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Data.Sum.Base.html#803" class="InductiveConstructor">inj₂</a> <a id="3577" class="Symbol">(</a><a id="3578" href="Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a> <a id="3593" href="Data.Rational.Base.html#3441" class="Bound">n≢0</a><a id="3596" class="Symbol">)))</a>
  <a id="3602" href="Data.Rational.Base.html#3602" class="Function">n/g≢0</a> <a id="3608" class="Symbol">=</a> <a id="3610" href="Relation.Nullary.Decidable.Core.html#1961" class="Function">fromWitnessFalse</a> <a id="3627" class="Symbol">(</a><a id="3628" href="Data.Nat.GCD.html#5686" class="Function">n/gcd[m,n]≢0</a> <a id="3641" href="Data.Rational.Base.html#3436" class="Bound">m</a> <a id="3643" href="Data.Rational.Base.html#3438" class="Bound">n</a> <a id="3645" class="Symbol">{</a><a id="3646" href="Data.Rational.Base.html#3441" class="Bound">n≢0</a><a id="3649" class="Symbol">}</a> <a id="3651" class="Symbol">{</a><a id="3652" href="Data.Rational.Base.html#3530" class="Function">g≢0</a><a id="3655" class="Symbol">})</a>

<a id="3659" class="Comment">-- A constructor for ℚ that (unlike mkℚ) automatically normalises it&#39;s</a>
<a id="3730" class="Comment">-- arguments. See the constants section below for how to use this operator.</a>

<a id="3807" class="Keyword">infixl</a> <a id="3814" class="Number">7</a> <a id="3816" href="Data.Rational.Base.html#3821" class="Function Operator">_/_</a>

<a id="_/_"></a><a id="3821" href="Data.Rational.Base.html#3821" class="Function Operator">_/_</a> <a id="3825" class="Symbol">:</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Data.Rational.Base.html#3828" class="Bound">n</a> <a id="3830" class="Symbol">:</a> <a id="3832" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="3833" class="Symbol">)</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Data.Rational.Base.html#3836" class="Bound">d</a> <a id="3838" class="Symbol">:</a> <a id="3840" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3841" class="Symbol">)</a> <a id="3843" class="Symbol">→</a> <a id="3845" class="Symbol">{</a><a id="3846" href="Data.Rational.Base.html#3846" class="Bound">d≢0</a> <a id="3850" class="Symbol">:</a> <a id="3852" href="Data.Rational.Base.html#3836" class="Bound">d</a> <a id="3854" href="Data.Rational.Unnormalised.html#2453" class="Function Operator">≢0</a><a id="3856" class="Symbol">}</a> <a id="3858" class="Symbol">→</a> <a id="3860" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="3862" class="Symbol">(</a><a id="3863" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3865" href="Data.Rational.Base.html#3865" class="Bound">n</a>      <a id="3872" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="3874" href="Data.Rational.Base.html#3874" class="Bound">d</a><a id="3875" class="Symbol">)</a> <a id="3877" class="Symbol">{</a><a id="3878" href="Data.Rational.Base.html#3878" class="Bound">d≢0</a><a id="3881" class="Symbol">}</a> <a id="3883" class="Symbol">=</a>   <a id="3887" href="Data.Rational.Base.html#3385" class="Function">normalize</a> <a id="3897" href="Data.Rational.Base.html#3865" class="Bound">n</a>       <a id="3905" href="Data.Rational.Base.html#3874" class="Bound">d</a> <a id="3907" class="Symbol">{</a><a id="3908" href="Data.Rational.Base.html#3878" class="Bound">d≢0</a><a id="3911" class="Symbol">}</a>
<a id="3913" class="Symbol">(</a><a id="3914" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="3919" href="Data.Rational.Base.html#3919" class="Bound">n</a> <a id="3921" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="3923" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="3925" href="Data.Rational.Base.html#3925" class="Bound">d</a><a id="3926" class="Symbol">)</a> <a id="3928" class="Symbol">{</a><a id="3929" href="Data.Rational.Base.html#3929" class="Bound">d≢0</a><a id="3932" class="Symbol">}</a> <a id="3934" class="Symbol">=</a> <a id="3936" href="Data.Rational.Base.html#3018" class="Function Operator">-</a> <a id="3938" href="Data.Rational.Base.html#3385" class="Function">normalize</a> <a id="3948" class="Symbol">(</a><a id="3949" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3953" href="Data.Rational.Base.html#3919" class="Bound">n</a><a id="3954" class="Symbol">)</a> <a id="3956" href="Data.Rational.Base.html#3925" class="Bound">d</a> <a id="3958" class="Symbol">{</a><a id="3959" href="Data.Rational.Base.html#3929" class="Bound">d≢0</a><a id="3962" class="Symbol">}</a>

<a id="3965" class="Comment">------------------------------------------------------------------------</a>
<a id="4038" class="Comment">-- Conversion to and from unnormalized rationals</a>

<a id="toℚᵘ"></a><a id="4088" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="4093" class="Symbol">:</a> <a id="4095" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="4097" class="Symbol">→</a> <a id="4099" href="Data.Rational.Unnormalised.html#1254" class="Record">ℚᵘ</a>
<a id="4102" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="4107" class="Symbol">(</a><a id="4108" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="4112" href="Data.Rational.Base.html#4112" class="Bound">n</a> <a id="4114" href="Data.Rational.Base.html#4114" class="Bound">d-1</a> <a id="4118" class="Symbol">_)</a> <a id="4121" class="Symbol">=</a> <a id="4123" href="Data.Rational.Unnormalised.html#1283" class="InductiveConstructor">mkℚᵘ</a> <a id="4128" href="Data.Rational.Base.html#4112" class="Bound">n</a> <a id="4130" href="Data.Rational.Base.html#4114" class="Bound">d-1</a>

<a id="fromℚᵘ"></a><a id="4135" href="Data.Rational.Base.html#4135" class="Function">fromℚᵘ</a> <a id="4142" class="Symbol">:</a> <a id="4144" href="Data.Rational.Unnormalised.html#1254" class="Record">ℚᵘ</a> <a id="4147" class="Symbol">→</a> <a id="4149" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="4151" href="Data.Rational.Base.html#4135" class="Function">fromℚᵘ</a> <a id="4158" class="Symbol">(</a><a id="4159" href="Data.Rational.Unnormalised.html#1283" class="InductiveConstructor">mkℚᵘ</a> <a id="4164" href="Data.Rational.Base.html#4164" class="Bound">n</a> <a id="4166" href="Data.Rational.Base.html#4166" class="Bound">d-1</a><a id="4169" class="Symbol">)</a> <a id="4171" class="Symbol">=</a> <a id="4173" href="Data.Rational.Base.html#4164" class="Bound">n</a> <a id="4175" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="4177" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4181" href="Data.Rational.Base.html#4166" class="Bound">d-1</a>

<a id="4186" class="Comment">------------------------------------------------------------------------------</a>
<a id="4265" class="Comment">-- Some constants</a>

<a id="0ℚ"></a><a id="4284" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="4287" class="Symbol">:</a> <a id="4289" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="4291" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="4294" class="Symbol">=</a> <a id="4296" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4298" class="Number">0</a> <a id="4300" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="4302" class="Number">1</a>

<a id="1ℚ"></a><a id="4305" href="Data.Rational.Base.html#4305" class="Function">1ℚ</a> <a id="4308" class="Symbol">:</a> <a id="4310" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="4312" href="Data.Rational.Base.html#4305" class="Function">1ℚ</a> <a id="4315" class="Symbol">=</a> <a id="4317" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4319" class="Number">1</a> <a id="4321" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="4323" class="Number">1</a>

<a id="½"></a><a id="4326" href="Data.Rational.Base.html#4326" class="Function">½</a> <a id="4328" class="Symbol">:</a> <a id="4330" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="4332" href="Data.Rational.Base.html#4326" class="Function">½</a> <a id="4334" class="Symbol">=</a> <a id="4336" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="4338" class="Number">1</a> <a id="4340" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="4342" class="Number">2</a>

<a id="-½"></a><a id="4345" href="Data.Rational.Base.html#4345" class="Function">-½</a> <a id="4348" class="Symbol">:</a> <a id="4350" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="4352" href="Data.Rational.Base.html#4345" class="Function">-½</a> <a id="4355" class="Symbol">=</a> <a id="4357" href="Data.Rational.Base.html#3018" class="Function Operator">-</a> <a id="4359" href="Data.Rational.Base.html#4326" class="Function">½</a>

<a id="4362" class="Comment">------------------------------------------------------------------------</a>
<a id="4435" class="Comment">-- Simple predicates</a>

<a id="NonZero"></a><a id="4457" href="Data.Rational.Base.html#4457" class="Function">NonZero</a> <a id="4465" class="Symbol">:</a> <a id="4467" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4472" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="4474" href="Level.html#512" class="Function">0ℓ</a>
<a id="4477" href="Data.Rational.Base.html#4457" class="Function">NonZero</a> <a id="4485" href="Data.Rational.Base.html#4485" class="Bound">p</a> <a id="4487" class="Symbol">=</a> <a id="4489" href="Data.Rational.Unnormalised.html#3722" class="Function">ℚᵘ.NonZero</a> <a id="4500" class="Symbol">(</a><a id="4501" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="4506" href="Data.Rational.Base.html#4485" class="Bound">p</a><a id="4507" class="Symbol">)</a>

<a id="Positive"></a><a id="4510" href="Data.Rational.Base.html#4510" class="Function">Positive</a> <a id="4519" class="Symbol">:</a> <a id="4521" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4526" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="4528" href="Level.html#512" class="Function">0ℓ</a>
<a id="4531" href="Data.Rational.Base.html#4510" class="Function">Positive</a> <a id="4540" href="Data.Rational.Base.html#4540" class="Bound">p</a> <a id="4542" class="Symbol">=</a> <a id="4544" href="Data.Rational.Unnormalised.html#3772" class="Function">ℚᵘ.Positive</a> <a id="4556" class="Symbol">(</a><a id="4557" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="4562" href="Data.Rational.Base.html#4540" class="Bound">p</a><a id="4563" class="Symbol">)</a>

<a id="Negative"></a><a id="4566" href="Data.Rational.Base.html#4566" class="Function">Negative</a> <a id="4575" class="Symbol">:</a> <a id="4577" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4582" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="4584" href="Level.html#512" class="Function">0ℓ</a>
<a id="4587" href="Data.Rational.Base.html#4566" class="Function">Negative</a> <a id="4596" href="Data.Rational.Base.html#4596" class="Bound">p</a> <a id="4598" class="Symbol">=</a> <a id="4600" href="Data.Rational.Unnormalised.html#3825" class="Function">ℚᵘ.Negative</a> <a id="4612" class="Symbol">(</a><a id="4613" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="4618" href="Data.Rational.Base.html#4596" class="Bound">p</a><a id="4619" class="Symbol">)</a>

<a id="NonPositive"></a><a id="4622" href="Data.Rational.Base.html#4622" class="Function">NonPositive</a> <a id="4634" class="Symbol">:</a> <a id="4636" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4641" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="4643" href="Level.html#512" class="Function">0ℓ</a>
<a id="4646" href="Data.Rational.Base.html#4622" class="Function">NonPositive</a> <a id="4658" href="Data.Rational.Base.html#4658" class="Bound">p</a> <a id="4660" class="Symbol">=</a> <a id="4662" href="Data.Rational.Unnormalised.html#3878" class="Function">ℚᵘ.NonPositive</a> <a id="4677" class="Symbol">(</a><a id="4678" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="4683" href="Data.Rational.Base.html#4658" class="Bound">p</a><a id="4684" class="Symbol">)</a>

<a id="NonNegative"></a><a id="4687" href="Data.Rational.Base.html#4687" class="Function">NonNegative</a> <a id="4699" class="Symbol">:</a> <a id="4701" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="4706" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="4708" href="Level.html#512" class="Function">0ℓ</a>
<a id="4711" href="Data.Rational.Base.html#4687" class="Function">NonNegative</a> <a id="4723" href="Data.Rational.Base.html#4723" class="Bound">p</a> <a id="4725" class="Symbol">=</a> <a id="4727" href="Data.Rational.Unnormalised.html#3940" class="Function">ℚᵘ.NonNegative</a> <a id="4742" class="Symbol">(</a><a id="4743" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="4748" href="Data.Rational.Base.html#4723" class="Bound">p</a><a id="4749" class="Symbol">)</a>

<a id="4752" class="Comment">-- Constructors</a>

<a id="≢-nonZero"></a><a id="4769" href="Data.Rational.Base.html#4769" class="Function">≢-nonZero</a> <a id="4779" class="Symbol">:</a> <a id="4781" class="Symbol">∀</a> <a id="4783" class="Symbol">{</a><a id="4784" href="Data.Rational.Base.html#4784" class="Bound">p</a><a id="4785" class="Symbol">}</a> <a id="4787" class="Symbol">→</a> <a id="4789" href="Data.Rational.Base.html#4784" class="Bound">p</a> <a id="4791" href="Relation.Binary.PropositionalEquality.Core.html#840" class="Function Operator">≢</a> <a id="4793" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="4796" class="Symbol">→</a> <a id="4798" href="Data.Rational.Base.html#4457" class="Function">NonZero</a> <a id="4806" href="Data.Rational.Base.html#4784" class="Bound">p</a>
<a id="4808" href="Data.Rational.Base.html#4769" class="Function">≢-nonZero</a> <a id="4818" class="Symbol">{</a><a id="4819" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="4823" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="4828" class="Symbol">_</a> <a id="4830" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="4832" class="Symbol">_</a>       <a id="4840" class="Symbol">_}</a> <a id="4843" class="Symbol">_</a>   <a id="4847" class="Symbol">=</a> <a id="4849" class="Symbol">_</a>
<a id="4851" href="Data.Rational.Base.html#4769" class="Function">≢-nonZero</a> <a id="4861" class="Symbol">{</a><a id="4862" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="4866" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">+[1+</a> <a id="4871" class="Symbol">_</a> <a id="4873" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">]</a> <a id="4875" class="Symbol">_</a>       <a id="4883" class="Symbol">_}</a> <a id="4886" class="Symbol">_</a>   <a id="4890" class="Symbol">=</a> <a id="4892" class="Symbol">_</a>
<a id="4894" href="Data.Rational.Base.html#4769" class="Function">≢-nonZero</a> <a id="4904" class="Symbol">{</a><a id="4905" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="4909" href="Data.Integer.Base.html#1372" class="InductiveConstructor">+0</a>       <a id="4918" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="4926" class="Symbol">_}</a> <a id="4929" href="Data.Rational.Base.html#4929" class="Bound">p≢0</a> <a id="4933" class="Symbol">=</a> <a id="4935" href="Data.Rational.Base.html#4929" class="Bound">p≢0</a> <a id="4939" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4944" href="Data.Rational.Base.html#4769" class="Function">≢-nonZero</a> <a id="4954" class="Symbol">{</a><a id="4955" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="4959" href="Data.Integer.Base.html#1372" class="InductiveConstructor">+0</a>       <a id="4968" class="Symbol">(</a><a id="4969" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4973" href="Data.Rational.Base.html#4973" class="Bound">d</a><a id="4974" class="Symbol">)</a> <a id="4976" href="Data.Rational.Base.html#4976" class="Bound">c</a><a id="4977" class="Symbol">}</a> <a id="4979" href="Data.Rational.Base.html#4979" class="Bound">p≢0</a> <a id="4983" class="Symbol">=</a> <a id="4985" href="Data.Nat.Coprimality.html#2911" class="Function">¬0-coprimeTo-2+</a> <a id="5001" class="Symbol">(</a><a id="5002" href="Data.Nat.Coprimality.html#3214" class="Function">C.recompute</a> <a id="5014" href="Data.Rational.Base.html#4976" class="Bound">c</a><a id="5015" class="Symbol">)</a>

<a id="&gt;-nonZero"></a><a id="5018" href="Data.Rational.Base.html#5018" class="Function">&gt;-nonZero</a> <a id="5028" class="Symbol">:</a> <a id="5030" class="Symbol">∀</a> <a id="5032" class="Symbol">{</a><a id="5033" href="Data.Rational.Base.html#5033" class="Bound">p</a><a id="5034" class="Symbol">}</a> <a id="5036" class="Symbol">→</a> <a id="5038" href="Data.Rational.Base.html#5033" class="Bound">p</a> <a id="5040" href="Data.Rational.Base.html#2766" class="Function Operator">&gt;</a> <a id="5042" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="5045" class="Symbol">→</a> <a id="5047" href="Data.Rational.Base.html#4457" class="Function">NonZero</a> <a id="5055" href="Data.Rational.Base.html#5033" class="Bound">p</a>
<a id="5057" href="Data.Rational.Base.html#5018" class="Function">&gt;-nonZero</a> <a id="5067" class="Symbol">{</a><a id="5068" href="Data.Rational.Base.html#5068" class="Bound">p</a><a id="5069" class="Symbol">}</a> <a id="5071" class="Symbol">(</a><a id="5072" href="Data.Rational.Base.html#2679" class="InductiveConstructor">*&lt;*</a> <a id="5076" href="Data.Rational.Base.html#5076" class="Bound">p&lt;q</a><a id="5079" class="Symbol">)</a> <a id="5081" class="Symbol">=</a> <a id="5083" href="Data.Rational.Unnormalised.html#4425" class="Function">ℚᵘ.&gt;-nonZero</a> <a id="5096" class="Symbol">{</a><a id="5097" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="5102" href="Data.Rational.Base.html#5068" class="Bound">p</a><a id="5103" class="Symbol">}</a> <a id="5105" class="Symbol">(</a><a id="5106" href="Data.Rational.Unnormalised.html#2082" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5113" href="Data.Rational.Base.html#5076" class="Bound">p&lt;q</a><a id="5116" class="Symbol">)</a>

<a id="&lt;-nonZero"></a><a id="5119" href="Data.Rational.Base.html#5119" class="Function">&lt;-nonZero</a> <a id="5129" class="Symbol">:</a> <a id="5131" class="Symbol">∀</a> <a id="5133" class="Symbol">{</a><a id="5134" href="Data.Rational.Base.html#5134" class="Bound">p</a><a id="5135" class="Symbol">}</a> <a id="5137" class="Symbol">→</a> <a id="5139" href="Data.Rational.Base.html#5134" class="Bound">p</a> <a id="5141" href="Data.Rational.Base.html#2656" class="Datatype Operator">&lt;</a> <a id="5143" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="5146" class="Symbol">→</a> <a id="5148" href="Data.Rational.Base.html#4457" class="Function">NonZero</a> <a id="5156" href="Data.Rational.Base.html#5134" class="Bound">p</a>
<a id="5158" href="Data.Rational.Base.html#5119" class="Function">&lt;-nonZero</a> <a id="5168" class="Symbol">{</a><a id="5169" href="Data.Rational.Base.html#5169" class="Bound">p</a><a id="5170" class="Symbol">}</a> <a id="5172" class="Symbol">(</a><a id="5173" href="Data.Rational.Base.html#2679" class="InductiveConstructor">*&lt;*</a> <a id="5177" href="Data.Rational.Base.html#5177" class="Bound">p&lt;q</a><a id="5180" class="Symbol">)</a> <a id="5182" class="Symbol">=</a> <a id="5184" href="Data.Rational.Unnormalised.html#4549" class="Function">ℚᵘ.&lt;-nonZero</a> <a id="5197" class="Symbol">{</a><a id="5198" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="5203" href="Data.Rational.Base.html#5169" class="Bound">p</a><a id="5204" class="Symbol">}</a> <a id="5206" class="Symbol">(</a><a id="5207" href="Data.Rational.Unnormalised.html#2082" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5214" href="Data.Rational.Base.html#5177" class="Bound">p&lt;q</a><a id="5217" class="Symbol">)</a>

<a id="positive"></a><a id="5220" href="Data.Rational.Base.html#5220" class="Function">positive</a> <a id="5229" class="Symbol">:</a> <a id="5231" class="Symbol">∀</a> <a id="5233" class="Symbol">{</a><a id="5234" href="Data.Rational.Base.html#5234" class="Bound">p</a><a id="5235" class="Symbol">}</a> <a id="5237" class="Symbol">→</a> <a id="5239" href="Data.Rational.Base.html#5234" class="Bound">p</a> <a id="5241" href="Data.Rational.Base.html#2766" class="Function Operator">&gt;</a> <a id="5243" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="5246" class="Symbol">→</a> <a id="5248" href="Data.Rational.Base.html#4510" class="Function">Positive</a> <a id="5257" href="Data.Rational.Base.html#5234" class="Bound">p</a>
<a id="5259" href="Data.Rational.Base.html#5220" class="Function">positive</a> <a id="5268" class="Symbol">{</a><a id="5269" href="Data.Rational.Base.html#5269" class="Bound">p</a><a id="5270" class="Symbol">}</a> <a id="5272" class="Symbol">(</a><a id="5273" href="Data.Rational.Base.html#2679" class="InductiveConstructor">*&lt;*</a> <a id="5277" href="Data.Rational.Base.html#5277" class="Bound">p&lt;q</a><a id="5280" class="Symbol">)</a> <a id="5282" class="Symbol">=</a> <a id="5284" href="Data.Rational.Unnormalised.html#4713" class="Function">ℚᵘ.positive</a> <a id="5296" class="Symbol">{</a><a id="5297" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="5302" href="Data.Rational.Base.html#5269" class="Bound">p</a><a id="5303" class="Symbol">}</a> <a id="5305" class="Symbol">(</a><a id="5306" href="Data.Rational.Unnormalised.html#2082" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5313" href="Data.Rational.Base.html#5277" class="Bound">p&lt;q</a><a id="5316" class="Symbol">)</a>

<a id="negative"></a><a id="5319" href="Data.Rational.Base.html#5319" class="Function">negative</a> <a id="5328" class="Symbol">:</a> <a id="5330" class="Symbol">∀</a> <a id="5332" class="Symbol">{</a><a id="5333" href="Data.Rational.Base.html#5333" class="Bound">p</a><a id="5334" class="Symbol">}</a> <a id="5336" class="Symbol">→</a> <a id="5338" href="Data.Rational.Base.html#5333" class="Bound">p</a> <a id="5340" href="Data.Rational.Base.html#2656" class="Datatype Operator">&lt;</a> <a id="5342" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="5345" class="Symbol">→</a> <a id="5347" href="Data.Rational.Base.html#4566" class="Function">Negative</a> <a id="5356" href="Data.Rational.Base.html#5333" class="Bound">p</a>
<a id="5358" href="Data.Rational.Base.html#5319" class="Function">negative</a> <a id="5367" class="Symbol">{</a><a id="5368" href="Data.Rational.Base.html#5368" class="Bound">p</a><a id="5369" class="Symbol">}</a> <a id="5371" class="Symbol">(</a><a id="5372" href="Data.Rational.Base.html#2679" class="InductiveConstructor">*&lt;*</a> <a id="5376" href="Data.Rational.Base.html#5376" class="Bound">p&lt;q</a><a id="5379" class="Symbol">)</a> <a id="5381" class="Symbol">=</a> <a id="5383" href="Data.Rational.Unnormalised.html#4790" class="Function">ℚᵘ.negative</a> <a id="5395" class="Symbol">{</a><a id="5396" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="5401" href="Data.Rational.Base.html#5368" class="Bound">p</a><a id="5402" class="Symbol">}</a> <a id="5404" class="Symbol">(</a><a id="5405" href="Data.Rational.Unnormalised.html#2082" class="InductiveConstructor">ℚᵘ.*&lt;*</a> <a id="5412" href="Data.Rational.Base.html#5376" class="Bound">p&lt;q</a><a id="5415" class="Symbol">)</a>

<a id="nonPositive"></a><a id="5418" href="Data.Rational.Base.html#5418" class="Function">nonPositive</a> <a id="5430" class="Symbol">:</a> <a id="5432" class="Symbol">∀</a> <a id="5434" class="Symbol">{</a><a id="5435" href="Data.Rational.Base.html#5435" class="Bound">p</a><a id="5436" class="Symbol">}</a> <a id="5438" class="Symbol">→</a> <a id="5440" href="Data.Rational.Base.html#5435" class="Bound">p</a> <a id="5442" href="Data.Rational.Base.html#2571" class="Datatype Operator">≤</a> <a id="5444" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="5447" class="Symbol">→</a> <a id="5449" href="Data.Rational.Base.html#4622" class="Function">NonPositive</a> <a id="5461" href="Data.Rational.Base.html#5435" class="Bound">p</a>
<a id="5463" href="Data.Rational.Base.html#5418" class="Function">nonPositive</a> <a id="5475" class="Symbol">{</a><a id="5476" href="Data.Rational.Base.html#5476" class="Bound">p</a><a id="5477" class="Symbol">}</a> <a id="5479" class="Symbol">(</a><a id="5480" href="Data.Rational.Base.html#2594" class="InductiveConstructor">*≤*</a> <a id="5484" href="Data.Rational.Base.html#5484" class="Bound">p≤q</a><a id="5487" class="Symbol">)</a> <a id="5489" class="Symbol">=</a> <a id="5491" href="Data.Rational.Unnormalised.html#4967" class="Function">ℚᵘ.nonPositive</a> <a id="5506" class="Symbol">{</a><a id="5507" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="5512" href="Data.Rational.Base.html#5476" class="Bound">p</a><a id="5513" class="Symbol">}</a> <a id="5515" class="Symbol">(</a><a id="5516" href="Data.Rational.Unnormalised.html#1996" class="InductiveConstructor">ℚᵘ.*≤*</a> <a id="5523" href="Data.Rational.Base.html#5484" class="Bound">p≤q</a><a id="5526" class="Symbol">)</a>

<a id="nonNegative"></a><a id="5529" href="Data.Rational.Base.html#5529" class="Function">nonNegative</a> <a id="5541" class="Symbol">:</a> <a id="5543" class="Symbol">∀</a> <a id="5545" class="Symbol">{</a><a id="5546" href="Data.Rational.Base.html#5546" class="Bound">p</a><a id="5547" class="Symbol">}</a> <a id="5549" class="Symbol">→</a> <a id="5551" href="Data.Rational.Base.html#5546" class="Bound">p</a> <a id="5553" href="Data.Rational.Base.html#2736" class="Function Operator">≥</a> <a id="5555" href="Data.Rational.Base.html#4284" class="Function">0ℚ</a> <a id="5558" class="Symbol">→</a> <a id="5560" href="Data.Rational.Base.html#4687" class="Function">NonNegative</a> <a id="5572" href="Data.Rational.Base.html#5546" class="Bound">p</a>
<a id="5574" href="Data.Rational.Base.html#5529" class="Function">nonNegative</a> <a id="5586" class="Symbol">{</a><a id="5587" href="Data.Rational.Base.html#5587" class="Bound">p</a><a id="5588" class="Symbol">}</a> <a id="5590" class="Symbol">(</a><a id="5591" href="Data.Rational.Base.html#2594" class="InductiveConstructor">*≤*</a> <a id="5595" href="Data.Rational.Base.html#5595" class="Bound">p≤q</a><a id="5598" class="Symbol">)</a> <a id="5600" class="Symbol">=</a> <a id="5602" href="Data.Rational.Unnormalised.html#5143" class="Function">ℚᵘ.nonNegative</a> <a id="5617" class="Symbol">{</a><a id="5618" href="Data.Rational.Base.html#4088" class="Function">toℚᵘ</a> <a id="5623" href="Data.Rational.Base.html#5587" class="Bound">p</a><a id="5624" class="Symbol">}</a> <a id="5626" class="Symbol">(</a><a id="5627" href="Data.Rational.Unnormalised.html#1996" class="InductiveConstructor">ℚᵘ.*≤*</a> <a id="5634" href="Data.Rational.Base.html#5595" class="Bound">p≤q</a><a id="5637" class="Symbol">)</a>

<a id="5640" class="Comment">------------------------------------------------------------------------------</a>
<a id="5719" class="Comment">-- Operations on rationals</a>

<a id="5747" class="Keyword">infix</a>  <a id="5754" class="Number">8</a> <a id="5756" href="Data.Rational.Base.html#3018" class="Function Operator">-_</a> <a id="5759" href="Data.Rational.Base.html#6075" class="Function Operator">1/_</a>
<a id="5763" class="Keyword">infixl</a> <a id="5770" class="Number">7</a> <a id="5772" href="Data.Rational.Base.html#5903" class="Function Operator">_*_</a> <a id="5776" href="Data.Rational.Base.html#6282" class="Function Operator">_÷_</a>
<a id="5780" class="Keyword">infixl</a> <a id="5787" class="Number">6</a> <a id="5789" href="Data.Rational.Base.html#5976" class="Function Operator">_-_</a> <a id="5793" href="Data.Rational.Base.html#5811" class="Function Operator">_+_</a>

<a id="5798" class="Comment">-- addition</a>

<a id="_+_"></a><a id="5811" href="Data.Rational.Base.html#5811" class="Function Operator">_+_</a> <a id="5815" class="Symbol">:</a> <a id="5817" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="5819" class="Symbol">→</a> <a id="5821" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="5823" class="Symbol">→</a> <a id="5825" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="5827" href="Data.Rational.Base.html#5827" class="Bound">p</a> <a id="5829" href="Data.Rational.Base.html#5811" class="Function Operator">+</a> <a id="5831" href="Data.Rational.Base.html#5831" class="Bound">q</a> <a id="5833" class="Symbol">=</a> <a id="5835" class="Symbol">(</a><a id="5836" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="5838" href="Data.Rational.Base.html#5827" class="Bound">p</a> <a id="5840" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="5844" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="5846" href="Data.Rational.Base.html#5831" class="Bound">q</a> <a id="5848" href="Data.Integer.Base.html#4390" class="Function Operator">ℤ.+</a> <a id="5852" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="5854" href="Data.Rational.Base.html#5831" class="Bound">q</a> <a id="5856" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="5860" href="Data.Rational.Base.html#2104" class="Function Operator">↧</a> <a id="5862" href="Data.Rational.Base.html#5827" class="Bound">p</a><a id="5863" class="Symbol">)</a> <a id="5865" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="5867" class="Symbol">(</a><a id="5868" href="Data.Rational.Base.html#2127" class="Function Operator">↧ₙ</a> <a id="5871" href="Data.Rational.Base.html#5827" class="Bound">p</a> <a id="5873" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="5877" href="Data.Rational.Base.html#2127" class="Function Operator">↧ₙ</a> <a id="5880" href="Data.Rational.Base.html#5831" class="Bound">q</a><a id="5881" class="Symbol">)</a>

<a id="5884" class="Comment">-- multiplication</a>

<a id="_*_"></a><a id="5903" href="Data.Rational.Base.html#5903" class="Function Operator">_*_</a> <a id="5907" class="Symbol">:</a> <a id="5909" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="5911" class="Symbol">→</a> <a id="5913" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="5915" class="Symbol">→</a> <a id="5917" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="5919" href="Data.Rational.Base.html#5919" class="Bound">p</a> <a id="5921" href="Data.Rational.Base.html#5903" class="Function Operator">*</a> <a id="5923" href="Data.Rational.Base.html#5923" class="Bound">q</a> <a id="5925" class="Symbol">=</a> <a id="5927" class="Symbol">(</a><a id="5928" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="5930" href="Data.Rational.Base.html#5919" class="Bound">p</a> <a id="5932" href="Data.Integer.Base.html#4715" class="Function Operator">ℤ.*</a> <a id="5936" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="5938" href="Data.Rational.Base.html#5923" class="Bound">q</a><a id="5939" class="Symbol">)</a> <a id="5941" href="Data.Rational.Base.html#3821" class="Function Operator">/</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Data.Rational.Base.html#2127" class="Function Operator">↧ₙ</a> <a id="5947" href="Data.Rational.Base.html#5919" class="Bound">p</a> <a id="5949" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="5953" href="Data.Rational.Base.html#2127" class="Function Operator">↧ₙ</a> <a id="5956" href="Data.Rational.Base.html#5923" class="Bound">q</a><a id="5957" class="Symbol">)</a>

<a id="5960" class="Comment">-- subtraction</a>

<a id="_-_"></a><a id="5976" href="Data.Rational.Base.html#5976" class="Function Operator">_-_</a> <a id="5980" class="Symbol">:</a> <a id="5982" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="5984" class="Symbol">→</a> <a id="5986" href="Data.Rational.Base.html#1775" class="Record">ℚ</a> <a id="5988" class="Symbol">→</a> <a id="5990" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="5992" href="Data.Rational.Base.html#5992" class="Bound">p</a> <a id="5994" href="Data.Rational.Base.html#5976" class="Function Operator">-</a> <a id="5996" href="Data.Rational.Base.html#5996" class="Bound">q</a> <a id="5998" class="Symbol">=</a> <a id="6000" href="Data.Rational.Base.html#5992" class="Bound">p</a> <a id="6002" href="Data.Rational.Base.html#5811" class="Function Operator">+</a> <a id="6004" class="Symbol">(</a><a id="6005" href="Data.Rational.Base.html#3018" class="Function Operator">-</a> <a id="6007" href="Data.Rational.Base.html#5996" class="Bound">q</a><a id="6008" class="Symbol">)</a>

<a id="6011" class="Comment">-- reciprocal: requires a proof that the numerator is not zero</a>

<a id="1/_"></a><a id="6075" href="Data.Rational.Base.html#6075" class="Function Operator">1/_</a> <a id="6079" class="Symbol">:</a> <a id="6081" class="Symbol">(</a><a id="6082" href="Data.Rational.Base.html#6082" class="Bound">p</a> <a id="6084" class="Symbol">:</a> <a id="6086" href="Data.Rational.Base.html#1775" class="Record">ℚ</a><a id="6087" class="Symbol">)</a> <a id="6089" class="Symbol">→</a> <a id="6091" class="Symbol">.{</a><a id="6093" href="Data.Rational.Base.html#6093" class="Bound">n≢0</a> <a id="6097" class="Symbol">:</a> <a id="6099" href="Data.Integer.Base.html#1676" class="Function Operator">∣</a> <a id="6101" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="6103" href="Data.Rational.Base.html#6082" class="Bound">p</a> <a id="6105" href="Data.Integer.Base.html#1676" class="Function Operator">∣</a> <a id="6107" href="Data.Rational.Unnormalised.html#2453" class="Function Operator">≢0</a><a id="6109" class="Symbol">}</a> <a id="6111" class="Symbol">→</a> <a id="6113" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="6115" href="Data.Rational.Base.html#6075" class="Function Operator">1/</a> <a id="6118" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="6122" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">+[1+</a> <a id="6127" href="Data.Rational.Base.html#6127" class="Bound">n</a> <a id="6129" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">]</a> <a id="6131" href="Data.Rational.Base.html#6131" class="Bound">d</a> <a id="6133" href="Data.Rational.Base.html#6133" class="Bound">prf</a> <a id="6137" class="Symbol">=</a> <a id="6139" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="6143" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">+[1+</a> <a id="6148" href="Data.Rational.Base.html#6131" class="Bound">d</a> <a id="6150" href="Data.Integer.Base.html#1395" class="InductiveConstructor Operator">]</a> <a id="6152" href="Data.Rational.Base.html#6127" class="Bound">n</a> <a id="6154" class="Symbol">(</a><a id="6155" href="Data.Nat.Coprimality.html#2221" class="Function">C.sym</a> <a id="6161" href="Data.Rational.Base.html#6133" class="Bound">prf</a><a id="6164" class="Symbol">)</a>
<a id="6166" href="Data.Rational.Base.html#6075" class="Function Operator">1/</a> <a id="6169" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="6173" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6178" href="Data.Rational.Base.html#6178" class="Bound">n</a> <a id="6180" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6182" href="Data.Rational.Base.html#6182" class="Bound">d</a> <a id="6184" href="Data.Rational.Base.html#6184" class="Bound">prf</a> <a id="6188" class="Symbol">=</a> <a id="6190" href="Data.Rational.Base.html#1803" class="InductiveConstructor">mkℚ</a> <a id="6194" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6199" href="Data.Rational.Base.html#6182" class="Bound">d</a> <a id="6201" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6203" href="Data.Rational.Base.html#6178" class="Bound">n</a> <a id="6205" class="Symbol">(</a><a id="6206" href="Data.Nat.Coprimality.html#2221" class="Function">C.sym</a> <a id="6212" href="Data.Rational.Base.html#6184" class="Bound">prf</a><a id="6215" class="Symbol">)</a>

<a id="6218" class="Comment">-- division: requires a proof that the denominator is not zero</a>

<a id="_÷_"></a><a id="6282" href="Data.Rational.Base.html#6282" class="Function Operator">_÷_</a> <a id="6286" class="Symbol">:</a> <a id="6288" class="Symbol">(</a><a id="6289" href="Data.Rational.Base.html#6289" class="Bound">p</a> <a id="6291" href="Data.Rational.Base.html#6291" class="Bound">q</a> <a id="6293" class="Symbol">:</a> <a id="6295" href="Data.Rational.Base.html#1775" class="Record">ℚ</a><a id="6296" class="Symbol">)</a> <a id="6298" class="Symbol">→</a> <a id="6300" class="Symbol">.{</a><a id="6302" href="Data.Rational.Base.html#6302" class="Bound">n≢0</a> <a id="6306" class="Symbol">:</a> <a id="6308" href="Data.Integer.Base.html#1676" class="Function Operator">∣</a> <a id="6310" href="Data.Rational.Base.html#2081" class="Field Operator">↥</a> <a id="6312" href="Data.Rational.Base.html#6291" class="Bound">q</a> <a id="6314" href="Data.Integer.Base.html#1676" class="Function Operator">∣</a> <a id="6316" href="Data.Rational.Unnormalised.html#2453" class="Function Operator">≢0</a><a id="6318" class="Symbol">}</a> <a id="6320" class="Symbol">→</a> <a id="6322" href="Data.Rational.Base.html#1775" class="Record">ℚ</a>
<a id="6324" class="Symbol">(</a><a id="6325" href="Data.Rational.Base.html#6325" class="Bound">p</a> <a id="6327" href="Data.Rational.Base.html#6282" class="Function Operator">÷</a> <a id="6329" href="Data.Rational.Base.html#6329" class="Bound">q</a><a id="6330" class="Symbol">)</a> <a id="6332" class="Symbol">{</a><a id="6333" href="Data.Rational.Base.html#6333" class="Bound">n≢0</a><a id="6336" class="Symbol">}</a> <a id="6338" class="Symbol">=</a> <a id="6340" href="Data.Rational.Base.html#6325" class="Bound">p</a> <a id="6342" href="Data.Rational.Base.html#5903" class="Function Operator">*</a> <a id="6344" class="Symbol">(</a><a id="6345" href="Data.Rational.Base.html#6075" class="Function Operator">1/</a> <a id="6348" href="Data.Rational.Base.html#6329" class="Bound">q</a><a id="6349" class="Symbol">)</a> <a id="6351" class="Symbol">{</a><a id="6352" href="Data.Rational.Base.html#6333" class="Bound">n≢0</a><a id="6355" class="Symbol">}</a>
</pre></body></html>