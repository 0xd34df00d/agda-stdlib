<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Primality</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primality</a>
<a id="119" class="Comment">------------------------------------------------------------------------</a>

<a id="193" class="Keyword">module</a> <a id="200" href="Data.Nat.Primality.html" class="Module">Data.Nat.Primality</a> <a id="219" class="Keyword">where</a>

<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="270" class="Symbol">as</a> <a id="273" class="Module">Fin</a> <a id="277" class="Keyword">hiding</a> <a id="284" class="Symbol">(</a><a id="285" href="Data.Fin.html#3875" class="Function Operator">_+_</a><a id="288" class="Symbol">)</a>
<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="322" class="Keyword">using</a> <a id="328" class="Symbol">(</a><a id="329" href="Data.Fin.Properties.html#16242" class="Function">all?</a><a id="333" class="Symbol">)</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="524" class="Comment">-- Definition of primality.</a>

<a id="Prime"></a><a id="553" href="Data.Nat.Primality.html#553" class="Function">Prime</a> <a id="559" class="Symbol">:</a> <a id="561" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="563" class="Symbol">→</a> <a id="565" class="PrimitiveType">Set</a>
<a id="569" href="Data.Nat.Primality.html#553" class="Function">Prime</a> <a id="575" class="Number">0</a>             <a id="589" class="Symbol">=</a> <a id="591" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="593" href="Data.Nat.Primality.html#553" class="Function">Prime</a> <a id="599" class="Number">1</a>             <a id="613" class="Symbol">=</a> <a id="615" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="617" href="Data.Nat.Primality.html#553" class="Function">Prime</a> <a id="623" class="Symbol">(</a><a id="624" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="628" class="Symbol">(</a><a id="629" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="633" href="Data.Nat.Primality.html#633" class="Bound">n</a><a id="634" class="Symbol">))</a> <a id="637" class="Symbol">=</a> <a id="639" class="Symbol">(</a><a id="640" href="Data.Nat.Primality.html#640" class="Bound">i</a> <a id="642" class="Symbol">:</a> <a id="644" href="Data.Fin.html#910" class="Datatype">Fin</a> <a id="648" href="Data.Nat.Primality.html#633" class="Bound">n</a><a id="649" class="Symbol">)</a> <a id="651" class="Symbol">→</a> <a id="653" href="Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="655" class="Symbol">(</a><a id="656" class="Number">2</a> <a id="658" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="660" href="Data.Fin.html#1036" class="Function">Fin.toℕ</a> <a id="668" href="Data.Nat.Primality.html#640" class="Bound">i</a> <a id="670" href="Data.Nat.Divisibility.html#1241" class="Record Operator">∣</a> <a id="672" class="Number">2</a> <a id="674" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="676" href="Data.Nat.Primality.html#633" class="Bound">n</a><a id="677" class="Symbol">)</a>

<a id="680" class="Comment">-- Decision procedure for primality.</a>

<a id="prime?"></a><a id="718" href="Data.Nat.Primality.html#718" class="Function">prime?</a> <a id="725" class="Symbol">:</a> <a id="727" href="Relation.Unary.html#3176" class="Function">Decidable</a> <a id="737" href="Data.Nat.Primality.html#553" class="Function">Prime</a>
<a id="743" href="Data.Nat.Primality.html#718" class="Function">prime?</a> <a id="750" class="Number">0</a>             <a id="764" class="Symbol">=</a> <a id="766" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="769" class="Symbol">λ()</a>
<a id="773" href="Data.Nat.Primality.html#718" class="Function">prime?</a> <a id="780" class="Number">1</a>             <a id="794" class="Symbol">=</a> <a id="796" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="799" class="Symbol">λ()</a>
<a id="803" href="Data.Nat.Primality.html#718" class="Function">prime?</a> <a id="810" class="Symbol">(</a><a id="811" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="815" class="Symbol">(</a><a id="816" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="820" href="Data.Nat.Primality.html#820" class="Bound">n</a><a id="821" class="Symbol">))</a> <a id="824" class="Symbol">=</a> <a id="826" href="Data.Fin.Properties.html#16242" class="Function">all?</a> <a id="831" class="Symbol">(λ</a> <a id="834" href="Data.Nat.Primality.html#834" class="Bound">_</a> <a id="836" class="Symbol">→</a> <a id="838" href="Relation.Nullary.Negation.html#1017" class="Function">¬?</a> <a id="841" class="Symbol">(_</a> <a id="844" href="Data.Nat.Divisibility.html#6103" class="Function Operator">∣?</a> <a id="847" class="Symbol">_))</a>

<a id="852" class="Keyword">private</a>

  <a id="863" class="Comment">-- Example: 2 is prime.</a>

  <a id="2-is-prime"></a><a id="890" href="Data.Nat.Primality.html#890" class="Function">2-is-prime</a> <a id="901" class="Symbol">:</a> <a id="903" href="Data.Nat.Primality.html#553" class="Function">Prime</a> <a id="909" class="Number">2</a>
  <a id="913" href="Data.Nat.Primality.html#890" class="Function">2-is-prime</a> <a id="924" class="Symbol">=</a> <a id="926" href="Relation.Nullary.Decidable.html#2760" class="Function">from-yes</a> <a id="935" class="Symbol">(</a><a id="936" href="Data.Nat.Primality.html#718" class="Function">prime?</a> <a id="943" class="Number">2</a><a id="944" class="Symbol">)</a>
</pre></body></html>