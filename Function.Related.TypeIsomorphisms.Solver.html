<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Function.Related.TypeIsomorphisms.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Automatic solver for equations over product and sum types</a>
<a id="167" class="Comment">--</a>
<a id="170" class="Comment">-- See examples at the bottom of the file for how to use this solver</a>
<a id="239" class="Comment">------------------------------------------------------------------------</a>

<a id="313" class="Keyword">module</a> <a id="320" href="Function.Related.TypeIsomorphisms.Solver.html" class="Module">Function.Related.TypeIsomorphisms.Solver</a> <a id="361" class="Keyword">where</a>

<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Algebra.html" class="Module">Algebra</a> <a id="388" class="Keyword">using</a> <a id="394" class="Symbol">(</a><a id="395" href="Algebra.html#10836" class="Record">CommutativeSemiring</a><a id="414" class="Symbol">)</a>
<a id="416" class="Keyword">import</a> <a id="423" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="494" class="Keyword">using</a> <a id="500" class="Symbol">(</a><a id="501" href="Data.Empty.html#243" class="Datatype">⊥</a><a id="502" class="Symbol">)</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.Product.html" class="Module">Data.Product</a> <a id="529" class="Keyword">using</a> <a id="535" class="Symbol">(</a><a id="536" href="Data.Product.html#1353" class="Function Operator">_×_</a><a id="539" class="Symbol">)</a>
<a id="541" class="Keyword">open</a> <a id="546" class="Keyword">import</a> <a id="553" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.Sum.Base.html#473" class="Datatype Operator">_⊎_</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="596" class="Keyword">using</a> <a id="602" class="Symbol">(</a><a id="603" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="604" class="Symbol">)</a>
<a id="606" class="Keyword">open</a> <a id="611" class="Keyword">import</a> <a id="618" href="Level.html" class="Module">Level</a> <a id="624" class="Keyword">using</a> <a id="630" class="Symbol">(</a><a id="631" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="636" class="Symbol">;</a> <a id="638" href="Level.html#358" class="Record">Lift</a><a id="642" class="Symbol">)</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="673" class="Symbol">as</a> <a id="676" class="Module">Inv</a> <a id="680" class="Keyword">using</a> <a id="686" class="Symbol">(</a><a id="687" href="Function.Inverse.html#2193" class="Function Operator">_↔_</a><a id="690" class="Symbol">)</a>
<a id="692" class="Keyword">open</a> <a id="697" class="Keyword">import</a> <a id="704" href="Function.Related.html" class="Module">Function.Related</a> <a id="721" class="Symbol">as</a> <a id="724" class="Module">Related</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="Function.Related.TypeIsomorphisms.html" class="Module">Function.Related.TypeIsomorphisms</a>

<a id="779" class="Comment">------------------------------------------------------------------------</a>
<a id="852" class="Comment">-- The solver</a>

<a id="867" class="Keyword">module</a> <a id="×-⊎-Solver"></a><a id="874" href="Function.Related.TypeIsomorphisms.Solver.html#874" class="Module">×-⊎-Solver</a> <a id="885" class="Symbol">(</a><a id="886" href="Function.Related.TypeIsomorphisms.Solver.html#886" class="Bound">k</a> <a id="888" class="Symbol">:</a> <a id="890" href="Function.Related.html#3436" class="Datatype">Symmetric-kind</a><a id="904" class="Symbol">)</a> <a id="906" class="Symbol">{</a><a id="907" href="Function.Related.TypeIsomorphisms.Solver.html#907" class="Bound">ℓ</a><a id="908" class="Symbol">}</a> <a id="910" class="Symbol">=</a>
  <a id="914" href="Algebra.Solver.Ring.NaturalCoefficients.Default.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients.Default</a>
    <a id="966" class="Symbol">(</a><a id="967" href="Function.Related.TypeIsomorphisms.html#7488" class="Function">×-⊎-commutativeSemiring</a> <a id="991" href="Function.Related.TypeIsomorphisms.Solver.html#886" class="Bound">k</a> <a id="993" href="Function.Related.TypeIsomorphisms.Solver.html#907" class="Bound">ℓ</a><a id="994" class="Symbol">)</a>

<a id="997" class="Comment">------------------------------------------------------------------------</a>
<a id="1070" class="Comment">-- Tests</a>

<a id="1080" class="Keyword">private</a>

  <a id="1091" class="Comment">-- A test of the solver above.</a>

  <a id="test"></a><a id="1125" href="Function.Related.TypeIsomorphisms.Solver.html#1125" class="Function">test</a> <a id="1130" class="Symbol">:</a> <a id="1132" class="Symbol">{</a><a id="1133" href="Function.Related.TypeIsomorphisms.Solver.html#1133" class="Bound">ℓ</a> <a id="1135" class="Symbol">:</a> <a id="1137" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1142" class="Symbol">}</a> <a id="1144" class="Symbol">(</a><a id="1145" href="Function.Related.TypeIsomorphisms.Solver.html#1145" class="Bound">A</a> <a id="1147" href="Function.Related.TypeIsomorphisms.Solver.html#1147" class="Bound">B</a> <a id="1149" href="Function.Related.TypeIsomorphisms.Solver.html#1149" class="Bound">C</a> <a id="1151" class="Symbol">:</a> <a id="1153" class="PrimitiveType">Set</a> <a id="1157" href="Function.Related.TypeIsomorphisms.Solver.html#1133" class="Bound">ℓ</a><a id="1158" class="Symbol">)</a> <a id="1160" class="Symbol">→</a>
         <a id="1171" class="Symbol">(</a><a id="1172" href="Level.html#358" class="Record">Lift</a> <a id="1177" href="Function.Related.TypeIsomorphisms.Solver.html#1133" class="Bound">ℓ</a> <a id="1179" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a> <a id="1181" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="1183" href="Function.Related.TypeIsomorphisms.Solver.html#1145" class="Bound">A</a> <a id="1185" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="1187" class="Symbol">(</a><a id="1188" href="Function.Related.TypeIsomorphisms.Solver.html#1147" class="Bound">B</a> <a id="1190" href="Data.Sum.Base.html#473" class="Datatype Operator">⊎</a> <a id="1192" href="Function.Related.TypeIsomorphisms.Solver.html#1149" class="Bound">C</a><a id="1193" class="Symbol">))</a> <a id="1196" href="Function.Inverse.html#2193" class="Function Operator">↔</a> <a id="1198" class="Symbol">(</a><a id="1199" href="Function.Related.TypeIsomorphisms.Solver.html#1145" class="Bound">A</a> <a id="1201" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="1203" href="Function.Related.TypeIsomorphisms.Solver.html#1147" class="Bound">B</a> <a id="1205" href="Data.Sum.Base.html#473" class="Datatype Operator">⊎</a> <a id="1207" href="Function.Related.TypeIsomorphisms.Solver.html#1149" class="Bound">C</a> <a id="1209" href="Data.Product.html#1353" class="Function Operator">×</a> <a id="1211" class="Symbol">(</a><a id="1212" href="Level.html#358" class="Record">Lift</a> <a id="1217" href="Function.Related.TypeIsomorphisms.Solver.html#1133" class="Bound">ℓ</a> <a id="1219" href="Data.Empty.html#243" class="Datatype">⊥</a> <a id="1221" href="Data.Sum.Base.html#473" class="Datatype Operator">⊎</a> <a id="1223" href="Function.Related.TypeIsomorphisms.Solver.html#1145" class="Bound">A</a><a id="1224" class="Symbol">))</a>
  <a id="1229" href="Function.Related.TypeIsomorphisms.Solver.html#1125" class="Function">test</a> <a id="1234" class="Symbol">=</a> <a id="1236" href="Relation.Binary.Reflection.html#2382" class="Function">solve</a> <a id="1242" class="Number">3</a> <a id="1244" class="Symbol">(λ</a> <a id="1247" href="Function.Related.TypeIsomorphisms.Solver.html#1247" class="Bound">A</a> <a id="1249" href="Function.Related.TypeIsomorphisms.Solver.html#1249" class="Bound">B</a> <a id="1251" href="Function.Related.TypeIsomorphisms.Solver.html#1251" class="Bound">C</a> <a id="1253" class="Symbol">→</a> <a id="1255" href="Algebra.Solver.Ring.html#2488" class="InductiveConstructor">con</a> <a id="1259" class="Number">1</a> <a id="1261" href="Algebra.Solver.Ring.html#2755" class="Function Operator">:*</a> <a id="1264" class="Symbol">(</a><a id="1265" href="Function.Related.TypeIsomorphisms.Solver.html#1247" class="Bound">A</a> <a id="1267" href="Algebra.Solver.Ring.html#2755" class="Function Operator">:*</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Function.Related.TypeIsomorphisms.Solver.html#1249" class="Bound">B</a> <a id="1273" href="Algebra.Solver.Ring.html#2682" class="Function Operator">:+</a> <a id="1276" href="Function.Related.TypeIsomorphisms.Solver.html#1251" class="Bound">C</a><a id="1277" class="Symbol">))</a> <a id="1280" href="Relation.Binary.Reflection.html#3491" class="Function Operator">:=</a>
                            <a id="1311" href="Function.Related.TypeIsomorphisms.Solver.html#1247" class="Bound">A</a> <a id="1313" href="Algebra.Solver.Ring.html#2755" class="Function Operator">:*</a> <a id="1316" href="Function.Related.TypeIsomorphisms.Solver.html#1249" class="Bound">B</a> <a id="1318" href="Algebra.Solver.Ring.html#2682" class="Function Operator">:+</a> <a id="1321" href="Function.Related.TypeIsomorphisms.Solver.html#1251" class="Bound">C</a> <a id="1323" href="Algebra.Solver.Ring.html#2755" class="Function Operator">:*</a> <a id="1326" class="Symbol">(</a><a id="1327" href="Algebra.Solver.Ring.html#2488" class="InductiveConstructor">con</a> <a id="1331" class="Number">0</a> <a id="1333" href="Algebra.Solver.Ring.html#2682" class="Function Operator">:+</a> <a id="1336" href="Function.Related.TypeIsomorphisms.Solver.html#1247" class="Bound">A</a><a id="1337" class="Symbol">))</a>
                 <a id="1357" href="Function.Inverse.html#3398" class="Function">Inv.id</a>
    <a id="1368" class="Keyword">where</a> <a id="1374" class="Keyword">open</a> <a id="1379" href="Function.Related.TypeIsomorphisms.Solver.html#874" class="Module">×-⊎-Solver</a> <a id="1390" href="Function.Related.html#3496" class="InductiveConstructor">bijection</a>
</pre></body></html>