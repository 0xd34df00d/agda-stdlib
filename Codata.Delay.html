<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Delay</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- The Delay type and some operations</a>
<a id="144" class="Comment">------------------------------------------------------------------------</a>

<a id="218" class="Keyword">module</a> <a id="225" href="Codata.Delay.html" class="Module">Codata.Delay</a> <a id="238" class="Keyword">where</a>

<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Size.html" class="Module">Size</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Codata.Thunk.html" class="Module">Codata.Thunk</a>
<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="Codata.Conat.html" class="Module">Codata.Conat</a> <a id="312" class="Keyword">hiding</a> <a id="319" class="Symbol">(</a><a id="320" href="Codata.Conat.html#1977" class="Function">extract</a><a id="327" class="Symbol">)</a>

<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="436" class="Keyword">hiding</a> <a id="443" class="Symbol">(</a><a id="444" href="Data.Maybe.Base.html#1971" class="Function">map</a><a id="447" class="Symbol">)</a>
<a id="449" class="Keyword">open</a> <a id="454" class="Keyword">import</a> <a id="461" href="Data.Product.html" class="Module">Data.Product</a> <a id="474" class="Symbol">as</a> <a id="477" class="Module">P</a> <a id="479" class="Keyword">hiding</a> <a id="486" class="Symbol">(</a><a id="487" href="Data.Product.html#2151" class="Function">map</a><a id="490" class="Symbol">)</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="513" class="Symbol">as</a> <a id="516" class="Module">S</a> <a id="518" class="Keyword">hiding</a> <a id="525" class="Symbol">(</a><a id="526" href="Data.Sum.Base.html#1138" class="Function">map</a><a id="529" class="Symbol">)</a>

<a id="532" class="Comment">------------------------------------------------------------------------</a>
<a id="605" class="Comment">-- Definition</a>

<a id="620" class="Keyword">data</a> <a id="Delay"></a><a id="625" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="631" class="Symbol">{</a><a id="632" href="Codata.Delay.html#632" class="Bound">ℓ</a><a id="633" class="Symbol">}</a> <a id="635" class="Symbol">(</a><a id="636" href="Codata.Delay.html#636" class="Bound">A</a> <a id="638" class="Symbol">:</a> <a id="640" class="PrimitiveType">Set</a> <a id="644" href="Codata.Delay.html#632" class="Bound">ℓ</a><a id="645" class="Symbol">)</a> <a id="647" class="Symbol">(</a><a id="648" href="Codata.Delay.html#648" class="Bound">i</a> <a id="650" class="Symbol">:</a> <a id="652" href="Agda.Builtin.Size.html#114" class="Postulate">Size</a><a id="656" class="Symbol">)</a> <a id="658" class="Symbol">:</a> <a id="660" class="PrimitiveType">Set</a> <a id="664" href="Codata.Delay.html#632" class="Bound">ℓ</a> <a id="666" class="Keyword">where</a>
  <a id="Delay.now"></a><a id="674" href="Codata.Delay.html#674" class="InductiveConstructor">now</a>   <a id="680" class="Symbol">:</a> <a id="682" href="Codata.Delay.html#636" class="Bound">A</a> <a id="684" class="Symbol">→</a> <a id="686" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="692" href="Codata.Delay.html#636" class="Bound">A</a> <a id="694" href="Codata.Delay.html#648" class="Bound">i</a>
  <a id="Delay.later"></a><a id="698" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="704" class="Symbol">:</a> <a id="706" href="Codata.Thunk.html#301" class="Record">Thunk</a> <a id="712" class="Symbol">(</a><a id="713" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="719" href="Codata.Delay.html#636" class="Bound">A</a><a id="720" class="Symbol">)</a> <a id="722" href="Codata.Delay.html#648" class="Bound">i</a> <a id="724" class="Symbol">→</a> <a id="726" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="732" href="Codata.Delay.html#636" class="Bound">A</a> <a id="734" href="Codata.Delay.html#648" class="Bound">i</a>

<a id="737" class="Keyword">module</a> <a id="744" href="Codata.Delay.html#744" class="Module">_</a> <a id="746" class="Symbol">{</a><a id="747" href="Codata.Delay.html#747" class="Bound">ℓ</a><a id="748" class="Symbol">}</a> <a id="750" class="Symbol">{</a><a id="751" href="Codata.Delay.html#751" class="Bound">A</a> <a id="753" class="Symbol">:</a> <a id="755" class="PrimitiveType">Set</a> <a id="759" href="Codata.Delay.html#747" class="Bound">ℓ</a><a id="760" class="Symbol">}</a> <a id="762" class="Keyword">where</a>

 <a id="770" href="Codata.Delay.html#770" class="Function">length</a> <a id="777" class="Symbol">:</a> <a id="779" class="Symbol">∀</a> <a id="781" class="Symbol">{</a><a id="782" href="Codata.Delay.html#782" class="Bound">i</a><a id="783" class="Symbol">}</a> <a id="785" class="Symbol">→</a> <a id="787" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="793" href="Codata.Delay.html#751" class="Bound">A</a> <a id="795" href="Codata.Delay.html#782" class="Bound">i</a> <a id="797" class="Symbol">→</a> <a id="799" href="Codata.Conat.html#477" class="Datatype">Conat</a> <a id="805" href="Codata.Delay.html#782" class="Bound">i</a>
 <a id="808" href="Codata.Delay.html#770" class="Function">length</a> <a id="815" class="Symbol">(</a><a id="816" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="820" class="Symbol">_)</a>   <a id="825" class="Symbol">=</a> <a id="827" href="Codata.Conat.html#508" class="InductiveConstructor">zero</a>
 <a id="833" href="Codata.Delay.html#770" class="Function">length</a> <a id="840" class="Symbol">(</a><a id="841" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="847" href="Codata.Delay.html#847" class="Bound">d</a><a id="848" class="Symbol">)</a> <a id="850" class="Symbol">=</a> <a id="852" href="Codata.Conat.html#525" class="InductiveConstructor">suc</a> <a id="856" class="Symbol">λ</a> <a id="858" class="Keyword">where</a> <a id="864" class="Symbol">.</a><a id="865" href="Codata.Thunk.html#377" class="Field">force</a> <a id="871" class="Symbol">→</a> <a id="873" href="Codata.Delay.html#770" class="Function">length</a> <a id="880" class="Symbol">(</a><a id="881" href="Codata.Delay.html#847" class="Bound">d</a> <a id="883" class="Symbol">.</a><a id="884" href="Codata.Thunk.html#377" class="Field">force</a><a id="889" class="Symbol">)</a>

 <a id="893" href="Codata.Delay.html#893" class="Function">never</a> <a id="899" class="Symbol">:</a> <a id="901" class="Symbol">∀</a> <a id="903" class="Symbol">{</a><a id="904" href="Codata.Delay.html#904" class="Bound">i</a><a id="905" class="Symbol">}</a> <a id="907" class="Symbol">→</a> <a id="909" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="915" href="Codata.Delay.html#751" class="Bound">A</a> <a id="917" href="Codata.Delay.html#904" class="Bound">i</a>
 <a id="920" href="Codata.Delay.html#893" class="Function">never</a> <a id="926" class="Symbol">=</a> <a id="928" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="934" class="Symbol">λ</a> <a id="936" class="Keyword">where</a> <a id="942" class="Symbol">.</a><a id="943" href="Codata.Thunk.html#377" class="Field">force</a> <a id="949" class="Symbol">→</a> <a id="951" href="Codata.Delay.html#893" class="Function">never</a>

 <a id="959" href="Codata.Delay.html#959" class="Function">fromMaybe</a> <a id="969" class="Symbol">:</a> <a id="971" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="977" href="Codata.Delay.html#751" class="Bound">A</a> <a id="979" class="Symbol">→</a> <a id="981" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="987" href="Codata.Delay.html#751" class="Bound">A</a> <a id="989" href="Agda.Builtin.Size.html#210" class="Postulate">∞</a>
 <a id="992" href="Codata.Delay.html#959" class="Function">fromMaybe</a> <a id="1002" class="Symbol">=</a> <a id="1004" href="Data.Maybe.Base.html#1352" class="Function">maybe</a> <a id="1010" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="1014" href="Codata.Delay.html#893" class="Function">never</a>

 <a id="1022" href="Codata.Delay.html#1022" class="Function">runFor</a> <a id="1029" class="Symbol">:</a> <a id="1031" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="1033" class="Symbol">→</a> <a id="1035" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1041" href="Codata.Delay.html#751" class="Bound">A</a> <a id="1043" href="Agda.Builtin.Size.html#210" class="Postulate">∞</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="Data.Maybe.Base.html#335" class="Datatype">Maybe</a> <a id="1053" href="Codata.Delay.html#751" class="Bound">A</a>
 <a id="1056" href="Codata.Delay.html#1022" class="Function">runFor</a> <a id="1063" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="1071" href="Codata.Delay.html#1071" class="Bound">d</a>         <a id="1081" class="Symbol">=</a> <a id="1083" href="Data.Maybe.Base.html#403" class="InductiveConstructor">nothing</a>
 <a id="1092" href="Codata.Delay.html#1022" class="Function">runFor</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="1104" href="Codata.Delay.html#1104" class="Bound">n</a><a id="1105" class="Symbol">)</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="1112" href="Codata.Delay.html#1112" class="Bound">a</a><a id="1113" class="Symbol">)</a>   <a id="1117" class="Symbol">=</a> <a id="1119" href="Data.Maybe.Base.html#373" class="InductiveConstructor">just</a> <a id="1124" href="Codata.Delay.html#1112" class="Bound">a</a>
 <a id="1127" href="Codata.Delay.html#1022" class="Function">runFor</a> <a id="1134" class="Symbol">(</a><a id="1135" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="1139" href="Codata.Delay.html#1139" class="Bound">n</a><a id="1140" class="Symbol">)</a> <a id="1142" class="Symbol">(</a><a id="1143" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1149" href="Codata.Delay.html#1149" class="Bound">d</a><a id="1150" class="Symbol">)</a> <a id="1152" class="Symbol">=</a> <a id="1154" href="Codata.Delay.html#1022" class="Function">runFor</a> <a id="1161" href="Codata.Delay.html#1139" class="Bound">n</a> <a id="1163" class="Symbol">(</a><a id="1164" href="Codata.Delay.html#1149" class="Bound">d</a> <a id="1166" class="Symbol">.</a><a id="1167" href="Codata.Thunk.html#377" class="Field">force</a><a id="1172" class="Symbol">)</a>

<a id="1175" class="Keyword">module</a> <a id="1182" href="Codata.Delay.html#1182" class="Module">_</a> <a id="1184" class="Symbol">{</a><a id="1185" href="Codata.Delay.html#1185" class="Bound">ℓ</a> <a id="1187" href="Codata.Delay.html#1187" class="Bound">ℓ′</a><a id="1189" class="Symbol">}</a> <a id="1191" class="Symbol">{</a><a id="1192" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1194" class="Symbol">:</a> <a id="1196" class="PrimitiveType">Set</a> <a id="1200" href="Codata.Delay.html#1185" class="Bound">ℓ</a><a id="1201" class="Symbol">}</a> <a id="1203" class="Symbol">{</a><a id="1204" href="Codata.Delay.html#1204" class="Bound">B</a> <a id="1206" class="Symbol">:</a> <a id="1208" class="PrimitiveType">Set</a> <a id="1212" href="Codata.Delay.html#1187" class="Bound">ℓ′</a><a id="1214" class="Symbol">}</a> <a id="1216" class="Keyword">where</a>

 <a id="1224" href="Codata.Delay.html#1224" class="Function">map</a> <a id="1228" class="Symbol">:</a> <a id="1230" class="Symbol">(</a><a id="1231" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1233" class="Symbol">→</a> <a id="1235" href="Codata.Delay.html#1204" class="Bound">B</a><a id="1236" class="Symbol">)</a> <a id="1238" class="Symbol">→</a> <a id="1240" class="Symbol">∀</a> <a id="1242" class="Symbol">{</a><a id="1243" href="Codata.Delay.html#1243" class="Bound">i</a><a id="1244" class="Symbol">}</a> <a id="1246" class="Symbol">→</a> <a id="1248" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1254" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1256" href="Codata.Delay.html#1243" class="Bound">i</a> <a id="1258" class="Symbol">→</a> <a id="1260" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1266" href="Codata.Delay.html#1204" class="Bound">B</a> <a id="1268" href="Codata.Delay.html#1243" class="Bound">i</a>
 <a id="1271" href="Codata.Delay.html#1224" class="Function">map</a> <a id="1275" href="Codata.Delay.html#1275" class="Bound">f</a> <a id="1277" class="Symbol">(</a><a id="1278" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="1282" href="Codata.Delay.html#1282" class="Bound">a</a><a id="1283" class="Symbol">)</a>   <a id="1287" class="Symbol">=</a> <a id="1289" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="1293" class="Symbol">(</a><a id="1294" href="Codata.Delay.html#1275" class="Bound">f</a> <a id="1296" href="Codata.Delay.html#1282" class="Bound">a</a><a id="1297" class="Symbol">)</a>
 <a id="1300" href="Codata.Delay.html#1224" class="Function">map</a> <a id="1304" href="Codata.Delay.html#1304" class="Bound">f</a> <a id="1306" class="Symbol">(</a><a id="1307" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1313" href="Codata.Delay.html#1313" class="Bound">d</a><a id="1314" class="Symbol">)</a> <a id="1316" class="Symbol">=</a> <a id="1318" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1324" class="Symbol">λ</a> <a id="1326" class="Keyword">where</a> <a id="1332" class="Symbol">.</a><a id="1333" href="Codata.Thunk.html#377" class="Field">force</a> <a id="1339" class="Symbol">→</a> <a id="1341" href="Codata.Delay.html#1224" class="Function">map</a> <a id="1345" href="Codata.Delay.html#1304" class="Bound">f</a> <a id="1347" class="Symbol">(</a><a id="1348" href="Codata.Delay.html#1313" class="Bound">d</a> <a id="1350" class="Symbol">.</a><a id="1351" href="Codata.Thunk.html#377" class="Field">force</a><a id="1356" class="Symbol">)</a>

 <a id="1360" href="Codata.Delay.html#1360" class="Function">bind</a> <a id="1365" class="Symbol">:</a> <a id="1367" class="Symbol">∀</a> <a id="1369" class="Symbol">{</a><a id="1370" href="Codata.Delay.html#1370" class="Bound">i</a><a id="1371" class="Symbol">}</a> <a id="1373" class="Symbol">→</a> <a id="1375" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1381" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1383" href="Codata.Delay.html#1370" class="Bound">i</a> <a id="1385" class="Symbol">→</a> <a id="1387" class="Symbol">(</a><a id="1388" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1390" class="Symbol">→</a> <a id="1392" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1398" href="Codata.Delay.html#1204" class="Bound">B</a> <a id="1400" href="Codata.Delay.html#1370" class="Bound">i</a><a id="1401" class="Symbol">)</a> <a id="1403" class="Symbol">→</a> <a id="1405" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1411" href="Codata.Delay.html#1204" class="Bound">B</a> <a id="1413" href="Codata.Delay.html#1370" class="Bound">i</a>
 <a id="1416" href="Codata.Delay.html#1360" class="Function">bind</a> <a id="1421" class="Symbol">(</a><a id="1422" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="1426" href="Codata.Delay.html#1426" class="Bound">a</a><a id="1427" class="Symbol">)</a>   <a id="1431" href="Codata.Delay.html#1431" class="Bound">f</a> <a id="1433" class="Symbol">=</a> <a id="1435" href="Codata.Delay.html#1431" class="Bound">f</a> <a id="1437" href="Codata.Delay.html#1426" class="Bound">a</a>
 <a id="1440" href="Codata.Delay.html#1360" class="Function">bind</a> <a id="1445" class="Symbol">(</a><a id="1446" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1452" href="Codata.Delay.html#1452" class="Bound">d</a><a id="1453" class="Symbol">)</a> <a id="1455" href="Codata.Delay.html#1455" class="Bound">f</a> <a id="1457" class="Symbol">=</a> <a id="1459" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1465" class="Symbol">λ</a> <a id="1467" class="Keyword">where</a> <a id="1473" class="Symbol">.</a><a id="1474" href="Codata.Thunk.html#377" class="Field">force</a> <a id="1480" class="Symbol">→</a> <a id="1482" href="Codata.Delay.html#1360" class="Function">bind</a> <a id="1487" class="Symbol">(</a><a id="1488" href="Codata.Delay.html#1452" class="Bound">d</a> <a id="1490" class="Symbol">.</a><a id="1491" href="Codata.Thunk.html#377" class="Field">force</a><a id="1496" class="Symbol">)</a> <a id="1498" href="Codata.Delay.html#1455" class="Bound">f</a>

 <a id="1502" href="Codata.Delay.html#1502" class="Function">unfold</a> <a id="1509" class="Symbol">:</a> <a id="1511" class="Symbol">(</a><a id="1512" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1514" class="Symbol">→</a> <a id="1516" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1518" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="1520" href="Codata.Delay.html#1204" class="Bound">B</a><a id="1521" class="Symbol">)</a> <a id="1523" class="Symbol">→</a> <a id="1525" href="Codata.Delay.html#1192" class="Bound">A</a> <a id="1527" class="Symbol">→</a> <a id="1529" class="Symbol">∀</a> <a id="1531" class="Symbol">{</a><a id="1532" href="Codata.Delay.html#1532" class="Bound">i</a><a id="1533" class="Symbol">}</a> <a id="1535" class="Symbol">→</a> <a id="1537" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1543" href="Codata.Delay.html#1204" class="Bound">B</a> <a id="1545" href="Codata.Delay.html#1532" class="Bound">i</a>
 <a id="1548" href="Codata.Delay.html#1502" class="Function">unfold</a> <a id="1555" href="Codata.Delay.html#1555" class="Bound">next</a> <a id="1560" href="Codata.Delay.html#1560" class="Bound">seed</a> <a id="1565" class="Keyword">with</a> <a id="1570" href="Codata.Delay.html#1555" class="Bound">next</a> <a id="1575" href="Codata.Delay.html#1560" class="Bound">seed</a>
 <a id="1581" class="Symbol">...</a> <a id="1585" class="Symbol">|</a> <a id="1587" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="1592" href="Codata.Delay.html#1592" class="Bound">seed′</a> <a id="1598" class="Symbol">=</a> <a id="1600" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1606" class="Symbol">λ</a> <a id="1608" class="Keyword">where</a> <a id="1614" class="Symbol">.</a><a id="1615" href="Codata.Thunk.html#377" class="Field">force</a> <a id="1621" class="Symbol">→</a> <a id="1623" href="Codata.Delay.html#1502" class="Function">unfold</a> <a id="1630" class="Bound">next</a> <a id="1635" href="Codata.Delay.html#1592" class="Bound">seed′</a>
 <a id="1642" class="Symbol">...</a> <a id="1646" class="Symbol">|</a> <a id="1648" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="1653" href="Codata.Delay.html#1653" class="Bound">b</a>     <a id="1659" class="Symbol">=</a> <a id="1661" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="1665" href="Codata.Delay.html#1653" class="Bound">b</a>

<a id="1668" class="Keyword">module</a> <a id="1675" href="Codata.Delay.html#1675" class="Module">_</a> <a id="1677" class="Symbol">{</a><a id="1678" href="Codata.Delay.html#1678" class="Bound">ℓ</a> <a id="1680" href="Codata.Delay.html#1680" class="Bound">ℓ₁</a> <a id="1683" href="Codata.Delay.html#1683" class="Bound">ℓ₂</a><a id="1685" class="Symbol">}</a> <a id="1687" class="Symbol">{</a><a id="1688" href="Codata.Delay.html#1688" class="Bound">A</a> <a id="1690" class="Symbol">:</a> <a id="1692" class="PrimitiveType">Set</a> <a id="1696" href="Codata.Delay.html#1678" class="Bound">ℓ</a><a id="1697" class="Symbol">}</a> <a id="1699" class="Symbol">{</a><a id="1700" href="Codata.Delay.html#1700" class="Bound">B</a> <a id="1702" class="Symbol">:</a> <a id="1704" class="PrimitiveType">Set</a> <a id="1708" href="Codata.Delay.html#1680" class="Bound">ℓ₁</a><a id="1710" class="Symbol">}</a> <a id="1712" class="Symbol">{</a><a id="1713" href="Codata.Delay.html#1713" class="Bound">C</a> <a id="1715" class="Symbol">:</a> <a id="1717" class="PrimitiveType">Set</a> <a id="1721" href="Codata.Delay.html#1683" class="Bound">ℓ₂</a><a id="1723" class="Symbol">}</a> <a id="1725" class="Keyword">where</a>

 <a id="1733" href="Codata.Delay.html#1733" class="Function">zipWith</a> <a id="1741" class="Symbol">:</a> <a id="1743" class="Symbol">(</a><a id="1744" href="Codata.Delay.html#1688" class="Bound">A</a> <a id="1746" class="Symbol">→</a> <a id="1748" href="Codata.Delay.html#1700" class="Bound">B</a> <a id="1750" class="Symbol">→</a> <a id="1752" href="Codata.Delay.html#1713" class="Bound">C</a><a id="1753" class="Symbol">)</a> <a id="1755" class="Symbol">→</a> <a id="1757" class="Symbol">∀</a> <a id="1759" class="Symbol">{</a><a id="1760" href="Codata.Delay.html#1760" class="Bound">i</a><a id="1761" class="Symbol">}</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1771" href="Codata.Delay.html#1688" class="Bound">A</a> <a id="1773" href="Codata.Delay.html#1760" class="Bound">i</a> <a id="1775" class="Symbol">→</a> <a id="1777" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1783" href="Codata.Delay.html#1700" class="Bound">B</a> <a id="1785" href="Codata.Delay.html#1760" class="Bound">i</a> <a id="1787" class="Symbol">→</a> <a id="1789" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="1795" href="Codata.Delay.html#1713" class="Bound">C</a> <a id="1797" href="Codata.Delay.html#1760" class="Bound">i</a>
 <a id="1800" href="Codata.Delay.html#1733" class="Function">zipWith</a> <a id="1808" href="Codata.Delay.html#1808" class="Bound">f</a> <a id="1810" class="Symbol">(</a><a id="1811" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="1815" href="Codata.Delay.html#1815" class="Bound">a</a><a id="1816" class="Symbol">)</a>   <a id="1820" href="Codata.Delay.html#1820" class="Bound">d</a>         <a id="1830" class="Symbol">=</a> <a id="1832" href="Codata.Delay.html#1224" class="Function">map</a> <a id="1836" class="Symbol">(</a><a id="1837" href="Codata.Delay.html#1808" class="Bound">f</a> <a id="1839" href="Codata.Delay.html#1815" class="Bound">a</a><a id="1840" class="Symbol">)</a> <a id="1842" href="Codata.Delay.html#1820" class="Bound">d</a>
 <a id="1845" href="Codata.Delay.html#1733" class="CatchallClause Function">zipWith</a><a id="1852" class="CatchallClause"> </a><a id="1853" href="Codata.Delay.html#1853" class="CatchallClause Bound">f</a><a id="1854" class="CatchallClause"> </a><a id="1855" href="Codata.Delay.html#1855" class="CatchallClause Bound">d</a><a id="1856" class="CatchallClause">         </a><a id="1865" class="CatchallClause Symbol">(</a><a id="1866" href="Codata.Delay.html#674" class="CatchallClause InductiveConstructor">now</a><a id="1869" class="CatchallClause"> </a><a id="1870" href="Codata.Delay.html#1870" class="CatchallClause Bound">b</a><a id="1871" class="CatchallClause Symbol">)</a>   <a id="1875" class="Symbol">=</a> <a id="1877" href="Codata.Delay.html#1224" class="Function">map</a> <a id="1881" class="Symbol">(λ</a> <a id="1884" href="Codata.Delay.html#1884" class="Bound">a</a> <a id="1886" class="Symbol">→</a> <a id="1888" href="Codata.Delay.html#1853" class="Bound">f</a> <a id="1890" href="Codata.Delay.html#1884" class="Bound">a</a> <a id="1892" href="Codata.Delay.html#1870" class="Bound">b</a><a id="1893" class="Symbol">)</a> <a id="1895" href="Codata.Delay.html#1855" class="Bound">d</a>
 <a id="1898" href="Codata.Delay.html#1733" class="Function">zipWith</a> <a id="1906" href="Codata.Delay.html#1906" class="Bound">f</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1915" href="Codata.Delay.html#1915" class="Bound">a</a><a id="1916" class="Symbol">)</a> <a id="1918" class="Symbol">(</a><a id="1919" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1925" href="Codata.Delay.html#1925" class="Bound">b</a><a id="1926" class="Symbol">)</a> <a id="1928" class="Symbol">=</a> <a id="1930" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="1936" class="Symbol">λ</a> <a id="1938" class="Keyword">where</a> <a id="1944" class="Symbol">.</a><a id="1945" href="Codata.Thunk.html#377" class="Field">force</a> <a id="1951" class="Symbol">→</a> <a id="1953" href="Codata.Delay.html#1733" class="Function">zipWith</a> <a id="1961" href="Codata.Delay.html#1906" class="Bound">f</a> <a id="1963" class="Symbol">(</a><a id="1964" href="Codata.Delay.html#1915" class="Bound">a</a> <a id="1966" class="Symbol">.</a><a id="1967" href="Codata.Thunk.html#377" class="Field">force</a><a id="1972" class="Symbol">)</a> <a id="1974" class="Symbol">(</a><a id="1975" href="Codata.Delay.html#1925" class="Bound">b</a> <a id="1977" class="Symbol">.</a><a id="1978" href="Codata.Thunk.html#377" class="Field">force</a><a id="1983" class="Symbol">)</a>

<a id="1986" class="Comment">------------------------------------------------------------------------</a>
<a id="2059" class="Comment">-- Finite Delays</a>

<a id="2077" class="Keyword">module</a> <a id="2084" href="Codata.Delay.html#2084" class="Module">_</a> <a id="2086" class="Symbol">{</a><a id="2087" href="Codata.Delay.html#2087" class="Bound">ℓ</a><a id="2088" class="Symbol">}</a> <a id="2090" class="Symbol">{</a><a id="2091" href="Codata.Delay.html#2091" class="Bound">A</a> <a id="2093" class="Symbol">:</a> <a id="2095" class="PrimitiveType">Set</a> <a id="2099" href="Codata.Delay.html#2087" class="Bound">ℓ</a><a id="2100" class="Symbol">}</a> <a id="2102" class="Keyword">where</a>

 <a id="2110" class="Keyword">infix</a> <a id="2116" class="Number">3</a> <a id="2118" href="Codata.Delay.html#2127" class="Datatype Operator">_⇓</a>
 <a id="2122" class="Keyword">data</a> <a id="2127" href="Codata.Delay.html#2127" class="Datatype Operator">_⇓</a> <a id="2130" class="Symbol">:</a> <a id="2132" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="2138" href="Codata.Delay.html#2091" class="Bound">A</a> <a id="2140" href="Agda.Builtin.Size.html#210" class="Postulate">∞</a> <a id="2142" class="Symbol">→</a> <a id="2144" class="PrimitiveType">Set</a> <a id="2148" href="Codata.Delay.html#2087" class="Bound">ℓ</a> <a id="2150" class="Keyword">where</a>
   <a id="2159" href="Codata.Delay.html#2159" class="InductiveConstructor">now</a>   <a id="2165" class="Symbol">:</a> <a id="2167" class="Symbol">∀</a> <a id="2169" href="Codata.Delay.html#2169" class="Bound">a</a> <a id="2171" class="Symbol">→</a> <a id="2173" href="Codata.Delay.html#674" class="InductiveConstructor">now</a> <a id="2177" href="Codata.Delay.html#2169" class="Bound">a</a> <a id="2179" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a>
   <a id="2184" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2190" class="Symbol">:</a> <a id="2192" class="Symbol">∀</a> <a id="2194" class="Symbol">{</a><a id="2195" href="Codata.Delay.html#2195" class="Bound">d</a><a id="2196" class="Symbol">}</a> <a id="2198" class="Symbol">→</a> <a id="2200" href="Codata.Delay.html#2195" class="Bound">d</a> <a id="2202" class="Symbol">.</a><a id="2203" href="Codata.Thunk.html#377" class="Field">force</a> <a id="2209" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a> <a id="2211" class="Symbol">→</a> <a id="2213" href="Codata.Delay.html#698" class="InductiveConstructor">later</a> <a id="2219" href="Codata.Delay.html#2195" class="Bound">d</a> <a id="2221" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a>

 <a id="2225" href="Codata.Delay.html#2225" class="Function">extract</a> <a id="2233" class="Symbol">:</a> <a id="2235" class="Symbol">∀</a> <a id="2237" class="Symbol">{</a><a id="2238" href="Codata.Delay.html#2238" class="Bound">d</a><a id="2239" class="Symbol">}</a> <a id="2241" class="Symbol">→</a> <a id="2243" href="Codata.Delay.html#2238" class="Bound">d</a> <a id="2245" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a> <a id="2247" class="Symbol">→</a> <a id="2249" href="Codata.Delay.html#2091" class="Bound">A</a>
 <a id="2252" href="Codata.Delay.html#2225" class="Function">extract</a> <a id="2260" class="Symbol">(</a><a id="2261" href="Codata.Delay.html#2159" class="InductiveConstructor">now</a> <a id="2265" href="Codata.Delay.html#2265" class="Bound">a</a><a id="2266" class="Symbol">)</a>   <a id="2270" class="Symbol">=</a> <a id="2272" href="Codata.Delay.html#2265" class="Bound">a</a>
 <a id="2275" href="Codata.Delay.html#2225" class="Function">extract</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2290" href="Codata.Delay.html#2290" class="Bound">d</a><a id="2291" class="Symbol">)</a> <a id="2293" class="Symbol">=</a> <a id="2295" href="Codata.Delay.html#2225" class="Function">extract</a> <a id="2303" href="Codata.Delay.html#2290" class="Bound">d</a>

 <a id="2307" href="Codata.Delay.html#2307" class="Function">¬never⇓</a> <a id="2315" class="Symbol">:</a> <a id="2317" href="Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="2319" class="Symbol">(</a><a id="2320" href="Codata.Delay.html#893" class="Function">never</a> <a id="2326" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a><a id="2327" class="Symbol">)</a>
 <a id="2330" href="Codata.Delay.html#2307" class="Function">¬never⇓</a> <a id="2338" class="Symbol">(</a><a id="2339" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2345" href="Codata.Delay.html#2345" class="Bound">p</a><a id="2346" class="Symbol">)</a> <a id="2348" class="Symbol">=</a> <a id="2350" href="Codata.Delay.html#2307" class="Function">¬never⇓</a> <a id="2358" href="Codata.Delay.html#2345" class="Bound">p</a>

 <a id="2362" href="Codata.Delay.html#2362" class="Function">length-⇓</a> <a id="2371" class="Symbol">:</a> <a id="2373" class="Symbol">∀</a> <a id="2375" class="Symbol">{</a><a id="2376" href="Codata.Delay.html#2376" class="Bound">d</a><a id="2377" class="Symbol">}</a> <a id="2379" class="Symbol">→</a> <a id="2381" href="Codata.Delay.html#2376" class="Bound">d</a> <a id="2383" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a> <a id="2385" class="Symbol">→</a> <a id="2387" href="Codata.Conat.html#1874" class="Datatype">Finite</a> <a id="2394" class="Symbol">(</a><a id="2395" href="Codata.Delay.html#770" class="Function">length</a> <a id="2402" href="Codata.Delay.html#2376" class="Bound">d</a><a id="2403" class="Symbol">)</a>
 <a id="2406" href="Codata.Delay.html#2362" class="Function">length-⇓</a> <a id="2415" class="Symbol">(</a><a id="2416" href="Codata.Delay.html#2159" class="InductiveConstructor">now</a> <a id="2420" href="Codata.Delay.html#2420" class="Bound">a</a><a id="2421" class="Symbol">)</a>    <a id="2426" class="Symbol">=</a> <a id="2428" href="Codata.Conat.html#1905" class="InductiveConstructor">zero</a>
 <a id="2434" href="Codata.Delay.html#2362" class="Function">length-⇓</a> <a id="2443" class="Symbol">(</a><a id="2444" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2450" href="Codata.Delay.html#2450" class="Bound">d⇓</a><a id="2452" class="Symbol">)</a> <a id="2454" class="Symbol">=</a> <a id="2456" href="Codata.Conat.html#1926" class="InductiveConstructor">suc</a> <a id="2460" class="Symbol">(</a><a id="2461" href="Codata.Delay.html#2362" class="Function">length-⇓</a> <a id="2470" href="Codata.Delay.html#2450" class="Bound">d⇓</a><a id="2472" class="Symbol">)</a>

<a id="2475" class="Keyword">module</a> <a id="2482" href="Codata.Delay.html#2482" class="Module">_</a> <a id="2484" class="Symbol">{</a><a id="2485" href="Codata.Delay.html#2485" class="Bound">ℓ</a> <a id="2487" href="Codata.Delay.html#2487" class="Bound">ℓ′</a><a id="2489" class="Symbol">}</a> <a id="2491" class="Symbol">{</a><a id="2492" href="Codata.Delay.html#2492" class="Bound">A</a> <a id="2494" class="Symbol">:</a> <a id="2496" class="PrimitiveType">Set</a> <a id="2500" href="Codata.Delay.html#2485" class="Bound">ℓ</a><a id="2501" class="Symbol">}</a> <a id="2503" class="Symbol">{</a><a id="2504" href="Codata.Delay.html#2504" class="Bound">B</a> <a id="2506" class="Symbol">:</a> <a id="2508" class="PrimitiveType">Set</a> <a id="2512" href="Codata.Delay.html#2487" class="Bound">ℓ′</a><a id="2514" class="Symbol">}</a> <a id="2516" class="Keyword">where</a>

 <a id="2524" href="Codata.Delay.html#2524" class="Function">map-⇓</a> <a id="2530" class="Symbol">:</a> <a id="2532" class="Symbol">∀</a> <a id="2534" class="Symbol">(</a><a id="2535" href="Codata.Delay.html#2535" class="Bound">f</a> <a id="2537" class="Symbol">:</a> <a id="2539" href="Codata.Delay.html#2492" class="Bound">A</a> <a id="2541" class="Symbol">→</a> <a id="2543" href="Codata.Delay.html#2504" class="Bound">B</a><a id="2544" class="Symbol">)</a> <a id="2546" class="Symbol">{</a><a id="2547" href="Codata.Delay.html#2547" class="Bound">d</a><a id="2548" class="Symbol">}</a> <a id="2550" class="Symbol">→</a> <a id="2552" href="Codata.Delay.html#2547" class="Bound">d</a> <a id="2554" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a> <a id="2556" class="Symbol">→</a> <a id="2558" href="Codata.Delay.html#1224" class="Function">map</a> <a id="2562" href="Codata.Delay.html#2535" class="Bound">f</a> <a id="2564" href="Codata.Delay.html#2547" class="Bound">d</a> <a id="2566" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a>
 <a id="2569" href="Codata.Delay.html#2524" class="Function">map-⇓</a> <a id="2575" href="Codata.Delay.html#2575" class="Bound">f</a> <a id="2577" class="Symbol">(</a><a id="2578" href="Codata.Delay.html#2159" class="InductiveConstructor">now</a> <a id="2582" href="Codata.Delay.html#2582" class="Bound">a</a><a id="2583" class="Symbol">)</a>   <a id="2587" class="Symbol">=</a> <a id="2589" href="Codata.Delay.html#2159" class="InductiveConstructor">now</a> <a id="2593" class="Symbol">(</a><a id="2594" href="Codata.Delay.html#2575" class="Bound">f</a> <a id="2596" href="Codata.Delay.html#2582" class="Bound">a</a><a id="2597" class="Symbol">)</a>
 <a id="2600" href="Codata.Delay.html#2524" class="Function">map-⇓</a> <a id="2606" href="Codata.Delay.html#2606" class="Bound">f</a> <a id="2608" class="Symbol">(</a><a id="2609" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2615" href="Codata.Delay.html#2615" class="Bound">d</a><a id="2616" class="Symbol">)</a> <a id="2618" class="Symbol">=</a> <a id="2620" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2626" class="Symbol">(</a><a id="2627" href="Codata.Delay.html#2524" class="Function">map-⇓</a> <a id="2633" href="Codata.Delay.html#2606" class="Bound">f</a> <a id="2635" href="Codata.Delay.html#2615" class="Bound">d</a><a id="2636" class="Symbol">)</a>

 <a id="2640" href="Codata.Delay.html#2640" class="Function">bind-⇓</a> <a id="2647" class="Symbol">:</a> <a id="2649" class="Symbol">∀</a> <a id="2651" class="Symbol">{</a><a id="2652" href="Codata.Delay.html#2652" class="Bound">m</a><a id="2653" class="Symbol">}</a> <a id="2655" class="Symbol">(</a><a id="2656" href="Codata.Delay.html#2656" class="Bound">m⇓</a> <a id="2659" class="Symbol">:</a> <a id="2661" href="Codata.Delay.html#2652" class="Bound">m</a> <a id="2663" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a><a id="2664" class="Symbol">)</a> <a id="2666" class="Symbol">{</a><a id="2667" href="Codata.Delay.html#2667" class="Bound">f</a> <a id="2669" class="Symbol">:</a> <a id="2671" href="Codata.Delay.html#2492" class="Bound">A</a> <a id="2673" class="Symbol">→</a> <a id="2675" href="Codata.Delay.html#625" class="Datatype">Delay</a> <a id="2681" href="Codata.Delay.html#2504" class="Bound">B</a> <a id="2683" href="Agda.Builtin.Size.html#210" class="Postulate">∞</a><a id="2684" class="Symbol">}</a> <a id="2686" class="Symbol">→</a> <a id="2688" href="Codata.Delay.html#2667" class="Bound">f</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Codata.Delay.html#2225" class="Function">extract</a> <a id="2699" href="Codata.Delay.html#2656" class="Bound">m⇓</a><a id="2701" class="Symbol">)</a> <a id="2703" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a> <a id="2705" class="Symbol">→</a> <a id="2707" href="Codata.Delay.html#1360" class="Function">bind</a> <a id="2712" href="Codata.Delay.html#2652" class="Bound">m</a> <a id="2714" href="Codata.Delay.html#2667" class="Bound">f</a> <a id="2716" href="Codata.Delay.html#2127" class="Datatype Operator">⇓</a>
 <a id="2719" href="Codata.Delay.html#2640" class="Function">bind-⇓</a> <a id="2726" class="Symbol">(</a><a id="2727" href="Codata.Delay.html#2159" class="InductiveConstructor">now</a> <a id="2731" href="Codata.Delay.html#2731" class="Bound">a</a><a id="2732" class="Symbol">)</a>   <a id="2736" href="Codata.Delay.html#2736" class="Bound">fa⇓</a> <a id="2740" class="Symbol">=</a> <a id="2742" href="Codata.Delay.html#2736" class="Bound">fa⇓</a>
 <a id="2747" href="Codata.Delay.html#2640" class="Function">bind-⇓</a> <a id="2754" class="Symbol">(</a><a id="2755" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2761" href="Codata.Delay.html#2761" class="Bound">p</a><a id="2762" class="Symbol">)</a> <a id="2764" href="Codata.Delay.html#2764" class="Bound">fa⇓</a> <a id="2768" class="Symbol">=</a> <a id="2770" href="Codata.Delay.html#2184" class="InductiveConstructor">later</a> <a id="2776" class="Symbol">(</a><a id="2777" href="Codata.Delay.html#2640" class="Function">bind-⇓</a> <a id="2784" href="Codata.Delay.html#2761" class="Bound">p</a> <a id="2786" href="Codata.Delay.html#2764" class="Bound">fa⇓</a><a id="2789" class="Symbol">)</a>
</pre></body></html>